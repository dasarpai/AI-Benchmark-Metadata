<!doctype html>
<html class="">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
		<meta name="description" content="Weâ€™re on a journey to advance and democratize artificial intelligence through open source and open science." />
		<meta property="fb:app_id" content="1321688464574422" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@huggingface" />
		<meta name="twitter:image" content="https://cdn-thumbnails.huggingface.co/social-thumbnails/datasets/MBZUAI-LLM/SlimPajama-627B-DC.png" />
		<meta property="og:title" content="MBZUAI-LLM/SlimPajama-627B-DC Â· Datasets at Hugging Face" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://huggingface.co/datasets/MBZUAI-LLM/SlimPajama-627B-DC" />
		<meta property="og:image" content="https://cdn-thumbnails.huggingface.co/social-thumbnails/datasets/MBZUAI-LLM/SlimPajama-627B-DC.png" />

		<link rel="stylesheet" href="/front/build/kube-68d7aa0/style.css" />

		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&display=swap"
			rel="stylesheet"
		/>

		<link
			rel="preload"
			href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" />
		</noscript>

		<script>const guestTheme = document.cookie.match(/theme=(\w+)/)?.[1]; document.documentElement.classList.toggle('dark', guestTheme === 'dark' || ( (!guestTheme || guestTheme === 'system') && window.matchMedia('(prefers-color-scheme: dark)').matches));</script>
<link rel="canonical" href="https://huggingface.co/datasets/MBZUAI-LLM/SlimPajama-627B-DC"> <script type="application/ld+json">{
  "@context": {
    "@language": "en",
    "@vocab": "https:\/\/schema.org\/",
    "citeAs": "cr:citeAs",
    "column": "cr:column",
    "conformsTo": "dct:conformsTo",
    "cr": "http:\/\/mlcommons.org\/croissant\/",
    "data": {
      "@id": "cr:data",
      "@type": "@json"
    },
    "dataBiases": "cr:dataBiases",
    "dataCollection": "cr:dataCollection",
    "dataType": {
      "@id": "cr:dataType",
      "@type": "@vocab"
    },
    "dct": "http:\/\/purl.org\/dc\/terms\/",
    "extract": "cr:extract",
    "field": "cr:field",
    "fileProperty": "cr:fileProperty",
    "fileObject": "cr:fileObject",
    "fileSet": "cr:fileSet",
    "format": "cr:format",
    "includes": "cr:includes",
    "isLiveDataset": "cr:isLiveDataset",
    "jsonPath": "cr:jsonPath",
    "key": "cr:key",
    "md5": "cr:md5",
    "parentField": "cr:parentField",
    "path": "cr:path",
    "personalSensitiveInformation": "cr:personalSensitiveInformation",
    "recordSet": "cr:recordSet",
    "references": "cr:references",
    "regex": "cr:regex",
    "repeated": "cr:repeated",
    "replace": "cr:replace",
    "sc": "https:\/\/schema.org\/",
    "separator": "cr:separator",
    "source": "cr:source",
    "subField": "cr:subField",
    "transform": "cr:transform"
  },
  "@type": "sc:Dataset",
  "distribution": [
    {
      "@type": "cr:FileObject",
      "@id": "repo",
      "name": "repo",
      "description": "The Hugging Face git repository.",
      "contentUrl": "https:\/\/huggingface.co\/datasets\/MBZUAI-LLM\/SlimPajama-627B-DC\/tree\/refs%2Fconvert%2Fparquet",
      "encodingFormat": "git+https",
      "sha256": "https:\/\/github.com\/mlcommons\/croissant\/issues\/80"
    },
    {
      "@type": "cr:FileSet",
      "@id": "parquet-files-for-config-default",
      "name": "parquet-files-for-config-default",
      "description": "The underlying Parquet files as converted by Hugging Face (see: https:\/\/huggingface.co\/docs\/dataset-viewer\/parquet).",
      "containedIn": {
        "@id": "repo"
      },
      "encodingFormat": "application\/x-parquet",
      "includes": "default\/*\/*.parquet"
    }
  ],
  "recordSet": [
    {
      "@type": "cr:RecordSet",
      "dataType": "cr:Split",
      "key": {
        "@id": "default_splits\/split_name"
      },
      "@id": "default_splits",
      "name": "default_splits",
      "description": "Splits for the default config.",
      "field": [
        {
          "@type": "cr:Field",
          "@id": "default_splits\/split_name",
          "name": "split_name",
          "description": "The name of the split.",
          "dataType": "sc:Text"
        }
      ],
      "data": [
        {
          "default_splits\/split_name": "train"
        },
        {
          "default_splits\/split_name": "validation"
        },
        {
          "default_splits\/split_name": "test"
        }
      ]
    },
    {
      "@type": "cr:RecordSet",
      "@id": "default",
      "name": "default",
      "description": "MBZUAI-LLM\/SlimPajama-627B-DC - 'default' subset (first 5GB)\n\nAdditional information:\n- 3 splits: train, validation, test",
      "field": [
        {
          "@type": "cr:Field",
          "@id": "default\/split",
          "name": "default\/split",
          "description": "Split to which the example belongs to.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "fileProperty": "fullpath"
            },
            "transform": {
              "regex": "default\/(?:partial-)?(train|validation|test)\/.+parquet$"
            }
          },
          "references": {
            "field": {
              "@id": "default_splits\/split_name"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/text",
          "name": "default\/text",
          "description": "Column 'text' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "text"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/meta",
          "name": "default\/meta",
          "description": "Column 'meta' from the Hugging Face parquet file.",
          "subField": [
            {
              "@type": "cr:Field",
              "@id": "default\/meta\/redpajama_set_name",
              "name": "default\/meta\/redpajama_set_name",
              "description": "Column 'meta' from the Hugging Face parquet file.",
              "dataType": "sc:Text",
              "source": {
                "fileSet": {
                  "@id": "parquet-files-for-config-default"
                },
                "extract": {
                  "column": "meta"
                },
                "transform": {
                  "jsonPath": "redpajama_set_name"
                }
              }
            }
          ]
        }
      ]
    }
  ],
  "conformsTo": "http:\/\/mlcommons.org\/croissant\/1.0",
  "name": "SlimPajama-627B-DC",
  "description": "\n\t\n\t\t\n\t\n\t\n\t\tDataset Description:\n\t\n\nThis is a split version of cerebras\/SlimPajama-627B that divides data based on its sources. \nThe content of this dataset is the same as SlimPajama-627B.\nWe divide data from different sources based on the \"redpajama_setname\" and save them in different directories, which is convenient for future dataset combination related research.\nThis dataset consists of 15,967 jsonl files and is ~ 883G compressed.\n\n\t\n\t\t\n\t\n\t\n\t\tPrimary Usage:\n\t\n\nThis dataset is used for ourâ€¦ See the full description on the dataset page: https:\/\/huggingface.co\/datasets\/MBZUAI-LLM\/SlimPajama-627B-DC.",
  "alternateName": [
    "MBZUAI-LLM\/SlimPajama-627B-DC",
    "SlimPajama-627B-divided"
  ],
  "creator": {
    "@type": "Organization",
    "name": "MBZUAI-LLM",
    "url": "https:\/\/huggingface.co\/MBZUAI-LLM"
  },
  "keywords": [
    "text-generation",
    "English",
    "mit",
    "10M - 100M",
    "json",
    "Text",
    "Datasets",
    "Dask",
    "Croissant",
    "arxiv:2309.10818",
    "ðŸ‡ºðŸ‡¸ Region: US"
  ],
  "license": "https:\/\/choosealicense.com\/licenses\/mit\/",
  "url": "https:\/\/huggingface.co\/datasets\/MBZUAI-LLM\/SlimPajama-627B-DC"
}</script> 

		<title>MBZUAI-LLM/SlimPajama-627B-DC Â· Datasets at Hugging Face</title>

		<script
			defer
			data-domain="huggingface.co"
			event-loggedIn="false"
			src="/js/script.pageview-props.js"
		></script>
		<script>
			window.plausible =
				window.plausible ||
				function () {
					(window.plausible.q = window.plausible.q || []).push(arguments);
				};
		</script>
		<script>
			window.hubConfig = {"features":{"signupDisabled":false},"sshGitUrl":"git@hf.co","moonHttpUrl":"https:\/\/huggingface.co","captchaApiKey":"bd5f2066-93dc-4bdd-a64b-a24646ca3859","captchaDisabledOnSignup":true,"datasetViewerPublicUrl":"https:\/\/datasets-server.huggingface.co","stripePublicKey":"pk_live_x2tdjFXBCvXo2FFmMybezpeM00J6gPCAAc","environment":"production","userAgent":"HuggingFace (production)","spacesIframeDomain":"hf.space","spacesApiUrl":"https:\/\/api.hf.space","docSearchKey":"ece5e02e57300e17d152c08056145326e90c4bff3dd07d7d1ae40cf1c8d39cb6","logoDev":{"apiUrl":"https:\/\/img.logo.dev\/","apiKey":"pk_UHS2HZOeRnaSOdDp7jbd5w"}};
		</script>
		<script type="text/javascript" src="https://de5282c3ca0c.edge.sdk.awswaf.com/de5282c3ca0c/526cf06acb0d/challenge.js" defer></script>
	</head>
	<body class="flex flex-col min-h-dvh bg-white dark:bg-gray-950 text-black DatasetPage">
		<div class="flex min-h-dvh flex-col"><div class="SVELTE_HYDRATER contents" data-target="SystemThemeMonitor" data-props="{&quot;isLoggedIn&quot;:false}"></div>

	<div class="SVELTE_HYDRATER contents" data-target="MainHeader" data-props="{&quot;classNames&quot;:&quot;&quot;,&quot;isWide&quot;:false,&quot;isZh&quot;:false,&quot;isPro&quot;:false}"><header class="border-b border-gray-100 "><div class="w-full px-4 container flex h-16 items-center"><div class="flex flex-1 items-center"><a class="mr-5 flex flex-none items-center lg:mr-6" href="/"><img alt="Hugging Face's logo" class="w-7 md:mr-2" src="/front/assets/huggingface_logo-noborder.svg">
				<span class="hidden whitespace-nowrap text-lg font-bold md:block">Hugging Face</span></a>
			<div class="relative flex-1 lg:max-w-sm mr-2 sm:mr-4 md:mr-3 xl:mr-6"><input autocomplete="off" class="w-full dark:bg-gray-950 pl-8 form-input-alt h-9 pr-3 focus:shadow-xl " name="" placeholder="Search models, datasets, users..."   spellcheck="false" type="text" value="">
	<svg class="absolute left-2.5 text-gray-400 top-1/2 transform -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M30 28.59L22.45 21A11 11 0 1 0 21 22.45L28.59 30zM5 14a9 9 0 1 1 9 9a9 9 0 0 1-9-9z" fill="currentColor"></path></svg>
	</div>
			<div class="flex flex-none items-center justify-center p-0.5 place-self-stretch lg:hidden"><button class="relative z-40 flex h-6 w-8 items-center justify-center" type="button"><svg width="1em" height="1em" viewBox="0 0 10 10" class="text-xl" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.65039 2.9999C1.65039 2.8066 1.80709 2.6499 2.00039 2.6499H8.00039C8.19369 2.6499 8.35039 2.8066 8.35039 2.9999C8.35039 3.1932 8.19369 3.3499 8.00039 3.3499H2.00039C1.80709 3.3499 1.65039 3.1932 1.65039 2.9999ZM1.65039 4.9999C1.65039 4.8066 1.80709 4.6499 2.00039 4.6499H8.00039C8.19369 4.6499 8.35039 4.8066 8.35039 4.9999C8.35039 5.1932 8.19369 5.3499 8.00039 5.3499H2.00039C1.80709 5.3499 1.65039 5.1932 1.65039 4.9999ZM2.00039 6.6499C1.80709 6.6499 1.65039 6.8066 1.65039 6.9999C1.65039 7.1932 1.80709 7.3499 2.00039 7.3499H8.00039C8.19369 7.3499 8.35039 7.1932 8.35039 6.9999C8.35039 6.8066 8.19369 6.6499 8.00039 6.6499H2.00039Z"></path></svg>
		</button>

	</div></div>
		<nav aria-label="Main" class="ml-auto hidden lg:block"><ul class="flex items-center space-x-1.5 2xl:space-x-2"><li class="hover:text-indigo-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/models"><svg class="mr-1.5 text-gray-400 group-hover:text-indigo-500" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-quaternary" d="M20.23 7.24L12 12L3.77 7.24a1.98 1.98 0 0 1 .7-.71L11 2.76c.62-.35 1.38-.35 2 0l6.53 3.77c.29.173.531.418.7.71z" opacity=".25" fill="currentColor"></path><path class="uim-tertiary" d="M12 12v9.5a2.09 2.09 0 0 1-.91-.21L4.5 17.48a2.003 2.003 0 0 1-1-1.73v-7.5a2.06 2.06 0 0 1 .27-1.01L12 12z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M20.5 8.25v7.5a2.003 2.003 0 0 1-1 1.73l-6.62 3.82c-.275.13-.576.198-.88.2V12l8.23-4.76c.175.308.268.656.27 1.01z" fill="currentColor"></path></svg>
					Models</a>
			</li><li class="hover:text-red-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/datasets"><svg class="mr-1.5 text-gray-400 group-hover:text-red-500" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 25 25"><ellipse cx="12.5" cy="5" fill="currentColor" fill-opacity="0.25" rx="7.5" ry="2"></ellipse><path d="M12.5 15C16.6421 15 20 14.1046 20 13V20C20 21.1046 16.6421 22 12.5 22C8.35786 22 5 21.1046 5 20V13C5 14.1046 8.35786 15 12.5 15Z" fill="currentColor" opacity="0.5"></path><path d="M12.5 7C16.6421 7 20 6.10457 20 5V11.5C20 12.6046 16.6421 13.5 12.5 13.5C8.35786 13.5 5 12.6046 5 11.5V5C5 6.10457 8.35786 7 12.5 7Z" fill="currentColor" opacity="0.5"></path><path d="M5.23628 12C5.08204 12.1598 5 12.8273 5 13C5 14.1046 8.35786 15 12.5 15C16.6421 15 20 14.1046 20 13C20 12.8273 19.918 12.1598 19.7637 12C18.9311 12.8626 15.9947 13.5 12.5 13.5C9.0053 13.5 6.06886 12.8626 5.23628 12Z" fill="currentColor"></path></svg>
					Datasets</a>
			</li><li class="hover:text-blue-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/spaces"><svg class="mr-1.5 text-gray-400 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 25 25"><path opacity=".5" d="M6.016 14.674v4.31h4.31v-4.31h-4.31ZM14.674 14.674v4.31h4.31v-4.31h-4.31ZM6.016 6.016v4.31h4.31v-4.31h-4.31Z" fill="currentColor"></path><path opacity=".75" fill-rule="evenodd" clip-rule="evenodd" d="M3 4.914C3 3.857 3.857 3 4.914 3h6.514c.884 0 1.628.6 1.848 1.414a5.171 5.171 0 0 1 7.31 7.31c.815.22 1.414.964 1.414 1.848v6.514A1.914 1.914 0 0 1 20.086 22H4.914A1.914 1.914 0 0 1 3 20.086V4.914Zm3.016 1.102v4.31h4.31v-4.31h-4.31Zm0 12.968v-4.31h4.31v4.31h-4.31Zm8.658 0v-4.31h4.31v4.31h-4.31Zm0-10.813a2.155 2.155 0 1 1 4.31 0 2.155 2.155 0 0 1-4.31 0Z" fill="currentColor"></path><path opacity=".25" d="M16.829 6.016a2.155 2.155 0 1 0 0 4.31 2.155 2.155 0 0 0 0-4.31Z" fill="currentColor"></path></svg>
					Spaces</a>
			</li><li class="hover:text-yellow-700 max-xl:hidden"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/posts"><svg class="mr-1.5 text-gray-400 group-hover:text-yellow-500 text-yellow-500!" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet"><path fill="currentColor" fill-rule="evenodd" d="M3.73 2.4A4.25 4.25 0 1 1 6 10.26H2.17l-.13-.02a.43.43 0 0 1-.3-.43l.01-.06a.43.43 0 0 1 .12-.22l.84-.84A4.26 4.26 0 0 1 3.73 2.4Z" clip-rule="evenodd"></path></svg>
					Posts</a>
			</li><li class="hover:text-yellow-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/docs"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1.5 text-gray-400 group-hover:text-yellow-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><path d="m2.28 3.7-.3.16a.67.67 0 0 0-.34.58v8.73l.01.04.02.07.01.04.03.06.02.04.02.03.04.06.05.05.04.04.06.04.06.04.08.04.08.02h.05l.07.02h.11l.04-.01.07-.02.03-.01.07-.03.22-.12a5.33 5.33 0 0 1 5.15.1.67.67 0 0 0 .66 0 5.33 5.33 0 0 1 5.33 0 .67.67 0 0 0 1-.58V4.36a.67.67 0 0 0-.34-.5l-.3-.17v7.78a.63.63 0 0 1-.87.59 4.9 4.9 0 0 0-4.35.35l-.65.39a.29.29 0 0 1-.15.04.29.29 0 0 1-.16-.04l-.65-.4a4.9 4.9 0 0 0-4.34-.34.63.63 0 0 1-.87-.59V3.7Z" fill="currentColor" class="dark:opacity-40"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.1a5.99 5.99 0 0 0-5.3-.43.66.66 0 0 0-.42.62v8.18c0 .45.46.76.87.59a4.9 4.9 0 0 1 4.34.35l.65.39c.05.03.1.04.16.04.05 0 .1-.01.15-.04l.65-.4a4.9 4.9 0 0 1 4.35-.34.63.63 0 0 0 .86-.59V3.3a.67.67 0 0 0-.41-.62 5.99 5.99 0 0 0-5.3.43l-.3.17L8 3.1Zm.73 1.87a.43.43 0 1 0-.86 0v5.48a.43.43 0 0 0 .86 0V4.97Z" fill="currentColor" class="opacity-40 dark:opacity-100"></path><path d="M8.73 4.97a.43.43 0 1 0-.86 0v5.48a.43.43 0 1 0 .86 0V4.96Z" fill="currentColor" class="dark:opacity-40"></path></svg>
					Docs</a>
			</li><li class="hover:text-black dark:hover:text-white"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/enterprise"><svg class="mr-1.5 text-gray-400 group-hover:text-black dark:group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 33 27"><path fill="currentColor" fill-rule="evenodd" d="M13.5.7a8.7 8.7 0 0 0-7.7 5.7L1 20.6c-1 3.1.9 5.7 4.1 5.7h15c3.3 0 6.8-2.6 7.8-5.7l4.6-14.2c1-3.1-.8-5.7-4-5.7h-15Zm1.1 5.7L9.8 20.3h9.8l1-3.1h-5.8l.8-2.5h4.8l1.1-3h-4.8l.8-2.3H23l1-3h-9.5Z" clip-rule="evenodd"></path></svg>
					Enterprise</a>
			</li>

		<li><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/pricing">Pricing
			</a></li>

		<li><div class="relative group">
	<button class="px-2 py-0.5 hover:text-gray-500 dark:hover:text-gray-600 flex items-center " type="button">
		<svg class=" text-gray-500 w-5 group-hover:text-gray-400 dark:text-gray-300 dark:group-hover:text-gray-100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 32 18" preserveAspectRatio="xMidYMid meet"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 3.30221C14.4504 2.836 14.8284 2.45807 15.2946 2.45807H28.4933C28.9595 2.45807 29.3374 2.836 29.3374 3.30221C29.3374 3.76842 28.9595 4.14635 28.4933 4.14635H15.2946C14.8284 4.14635 14.4504 3.76842 14.4504 3.30221Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 9.00002C14.4504 8.53382 14.8284 8.15588 15.2946 8.15588H28.4933C28.9595 8.15588 29.3374 8.53382 29.3374 9.00002C29.3374 9.46623 28.9595 9.84417 28.4933 9.84417H15.2946C14.8284 9.84417 14.4504 9.46623 14.4504 9.00002Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 14.6978C14.4504 14.2316 14.8284 13.8537 15.2946 13.8537H28.4933C28.9595 13.8537 29.3374 14.2316 29.3374 14.6978C29.3374 15.164 28.9595 15.542 28.4933 15.542H15.2946C14.8284 15.542 14.4504 15.164 14.4504 14.6978Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M1.94549 6.87377C2.27514 6.54411 2.80962 6.54411 3.13928 6.87377L6.23458 9.96907L9.32988 6.87377C9.65954 6.54411 10.194 6.54411 10.5237 6.87377C10.8533 7.20343 10.8533 7.73791 10.5237 8.06756L6.23458 12.3567L1.94549 8.06756C1.61583 7.73791 1.61583 7.20343 1.94549 6.87377Z" fill="currentColor"></path></svg>
			
		</button>
	
	
	</div></li>
		<li><hr class="h-5 w-0.5 border-none bg-gray-100 dark:bg-gray-800"></li>
		<li><a class="block cursor-pointer whitespace-nowrap px-2 py-0.5 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-100" href="/login">Log In
				</a></li>
			<li><a class="whitespace-nowrap rounded-full border border-transparent bg-gray-900 px-3 py-1 leading-none text-white hover:border-black hover:bg-white hover:text-black" href="/join">Sign Up
					</a></li></ul></nav></div></header></div>
	
	
	
	<div class="SVELTE_HYDRATER contents" data-target="SSOBanner" data-props="{}"></div>
	
	

	<main class="flex flex-1 flex-col">
	<div class="SVELTE_HYDRATER contents" data-target="DatasetHeader" data-props="{&quot;activeTab&quot;:&quot;datasetCard&quot;,&quot;author&quot;:{&quot;avatarUrl&quot;:&quot;https://cdn-avatars.huggingface.co/v1/production/uploads/649d5a3f4e08d59d20014652/oxIEEzBgF7pk4gorWc4BO.jpeg&quot;,&quot;fullname&quot;:&quot;MBZUAI-LLM&quot;,&quot;name&quot;:&quot;MBZUAI-LLM&quot;,&quot;type&quot;:&quot;org&quot;,&quot;isHf&quot;:false,&quot;isHfAdmin&quot;:false,&quot;isMod&quot;:false,&quot;isEnterprise&quot;:false,&quot;followerCount&quot;:22},&quot;canReadRepoSettings&quot;:false,&quot;dataset&quot;:{&quot;author&quot;:&quot;MBZUAI-LLM&quot;,&quot;cardData&quot;:{&quot;license&quot;:&quot;mit&quot;,&quot;task_categories&quot;:[&quot;text-generation&quot;],&quot;language&quot;:[&quot;en&quot;],&quot;pretty_name&quot;:&quot;SlimPajama-627B-divided&quot;},&quot;cardExists&quot;:true,&quot;createdAt&quot;:&quot;2023-09-08T23:58:27.000Z&quot;,&quot;description&quot;:&quot;\n\t\n\t\t\n\t\n\t\n\t\tDataset Description:\n\t\n\nThis is a split version of cerebras/SlimPajama-627B that divides data based on its sources. \nThe content of this dataset is the same as SlimPajama-627B.\nWe divide data from different sources based on the \&quot;redpajama_setname\&quot; and save them in different directories, which is convenient for future dataset combination related research.\nThis dataset consists of 15,967 jsonl files and is ~ 883G compressed.\n\n\t\n\t\t\n\t\n\t\n\t\tPrimary Usage:\n\t\n\nThis dataset is used for ourâ€¦ See the full description on the dataset page: https://huggingface.co/datasets/MBZUAI-LLM/SlimPajama-627B-DC.&quot;,&quot;downloads&quot;:5206,&quot;downloadsAllTime&quot;:23407,&quot;id&quot;:&quot;MBZUAI-LLM/SlimPajama-627B-DC&quot;,&quot;isLikedByUser&quot;:false,&quot;lastModified&quot;:&quot;2023-09-20T06:26:19.000Z&quot;,&quot;likes&quot;:22,&quot;datasetsServerInfo&quot;:{&quot;viewer&quot;:&quot;viewer-partial&quot;,&quot;numRows&quot;:57013938,&quot;libraries&quot;:[&quot;datasets&quot;,&quot;dask&quot;,&quot;mlcroissant&quot;],&quot;formats&quot;:[&quot;json&quot;],&quot;modalities&quot;:[&quot;text&quot;]},&quot;discussionsDisabled&quot;:false,&quot;repoType&quot;:&quot;dataset&quot;,&quot;private&quot;:false,&quot;gated&quot;:false,&quot;tags&quot;:[&quot;task_categories:text-generation&quot;,&quot;language:en&quot;,&quot;license:mit&quot;,&quot;size_categories:10M<n<100M&quot;,&quot;format:json&quot;,&quot;modality:text&quot;,&quot;library:datasets&quot;,&quot;library:dask&quot;,&quot;library:mlcroissant&quot;,&quot;arxiv:2309.10818&quot;,&quot;region:us&quot;],&quot;tag_objs&quot;:[{&quot;id&quot;:&quot;task_categories:text-generation&quot;,&quot;label&quot;:&quot;text-generation&quot;,&quot;type&quot;:&quot;task_categories&quot;,&quot;subType&quot;:&quot;nlp&quot;},{&quot;id&quot;:&quot;language:en&quot;,&quot;label&quot;:&quot;English&quot;,&quot;type&quot;:&quot;language&quot;},{&quot;id&quot;:&quot;license:mit&quot;,&quot;label&quot;:&quot;mit&quot;,&quot;type&quot;:&quot;license&quot;},{&quot;id&quot;:&quot;size_categories:10M<n<100M&quot;,&quot;label&quot;:&quot;10M - 100M&quot;,&quot;type&quot;:&quot;size_categories&quot;},{&quot;id&quot;:&quot;format:json&quot;,&quot;label&quot;:&quot;json&quot;,&quot;type&quot;:&quot;format&quot;},{&quot;id&quot;:&quot;modality:text&quot;,&quot;label&quot;:&quot;Text&quot;,&quot;type&quot;:&quot;modality&quot;},{&quot;id&quot;:&quot;library:datasets&quot;,&quot;label&quot;:&quot;Datasets&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;library:dask&quot;,&quot;label&quot;:&quot;Dask&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;library:mlcroissant&quot;,&quot;label&quot;:&quot;Croissant&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;arxiv:2309.10818&quot;,&quot;label&quot;:&quot;arxiv:2309.10818&quot;,&quot;type&quot;:&quot;arxiv&quot;,&quot;extra&quot;:{&quot;paperTitle&quot;:&quot;SlimPajama-DC: Understanding Data Combinations for LLM Training&quot;}},{&quot;type&quot;:&quot;region&quot;,&quot;label&quot;:&quot;ðŸ‡ºðŸ‡¸ Region: US&quot;,&quot;id&quot;:&quot;region:us&quot;}],&quot;hasBlockedOids&quot;:false,&quot;region&quot;:&quot;us&quot;,&quot;xetEnabled&quot;:false},&quot;discussionsStats&quot;:{&quot;closed&quot;:0,&quot;open&quot;:1,&quot;total&quot;:1}}"><header class="bg-linear-to-t border-b border-gray-100 pt-6 sm:pt-9 from-gray-50-to-white via-white dark:via-gray-950"><div class="container relative "><h1 class="flex flex-wrap items-center max-md:leading-tight mb-3 text-lg max-sm:gap-y-1.5 md:text-xl"><a href="/datasets" class="group flex items-center"><svg class="sm:mr-1.5 -mr-1 text-gray-400" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 25 25"><ellipse cx="12.5" cy="5" fill="currentColor" fill-opacity="0.25" rx="7.5" ry="2"></ellipse><path d="M12.5 15C16.6421 15 20 14.1046 20 13V20C20 21.1046 16.6421 22 12.5 22C8.35786 22 5 21.1046 5 20V13C5 14.1046 8.35786 15 12.5 15Z" fill="currentColor" opacity="0.5"></path><path d="M12.5 7C16.6421 7 20 6.10457 20 5V11.5C20 12.6046 16.6421 13.5 12.5 13.5C8.35786 13.5 5 12.6046 5 11.5V5C5 6.10457 8.35786 7 12.5 7Z" fill="currentColor" opacity="0.5"></path><path d="M5.23628 12C5.08204 12.1598 5 12.8273 5 13C5 14.1046 8.35786 15 12.5 15C16.6421 15 20 14.1046 20 13C20 12.8273 19.918 12.1598 19.7637 12C18.9311 12.8626 15.9947 13.5 12.5 13.5C9.0053 13.5 6.06886 12.8626 5.23628 12Z" fill="currentColor"></path></svg>
					<span class="mr-2.5 font-semibold text-gray-400 group-hover:text-gray-500 max-sm:hidden">Datasets:</span></a>
				<hr class="mx-1.5 h-2 translate-y-px rounded-sm border-r dark:border-gray-600 sm:hidden">
			<div class="group flex flex-none items-center"><div class="relative mr-1 flex items-center">

			

<span class="inline-block "><span class="contents"><a href="/MBZUAI-LLM" class="text-gray-400 hover:text-blue-600"><img alt="" class="w-3.5 h-3.5 rounded-sm  flex-none" src="https://cdn-avatars.huggingface.co/v1/production/uploads/649d5a3f4e08d59d20014652/oxIEEzBgF7pk4gorWc4BO.jpeg" crossorigin="anonymous"></a></span>
	</span></div>
		

<span class="inline-block "><span class="contents"><a href="/MBZUAI-LLM" class="text-gray-400 hover:text-blue-600">MBZUAI-LLM</a></span>
	</span>
		<div class="mx-0.5 text-gray-300">/</div></div>

<div class="max-w-full "><a class="break-words font-mono font-semibold hover:text-blue-600 " href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC">SlimPajama-627B-DC</a>
	<button class="relative text-sm mr-4 focus:outline-hidden inline-flex cursor-pointer items-center text-sm  mx-0.5   text-gray-600 " title="Copy dataset name to clipboard" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	
	</button></div>
			<div class="inline-flex items-center overflow-hidden whitespace-nowrap rounded-md border bg-white text-sm leading-none text-gray-500  mr-2"><button class="relative flex items-center overflow-hidden from-red-50 to-transparent dark:from-red-900 px-1.5 py-1 hover:bg-linear-to-t focus:outline-hidden"  title="Like"><svg class="left-1.5 absolute" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" fill="currentColor"><path d="M22.45,6a5.47,5.47,0,0,1,3.91,1.64,5.7,5.7,0,0,1,0,8L16,26.13,5.64,15.64a5.7,5.7,0,0,1,0-8,5.48,5.48,0,0,1,7.82,0L16,10.24l2.53-2.58A5.44,5.44,0,0,1,22.45,6m0-2a7.47,7.47,0,0,0-5.34,2.24L16,7.36,14.89,6.24a7.49,7.49,0,0,0-10.68,0,7.72,7.72,0,0,0,0,10.82L16,29,27.79,17.06a7.72,7.72,0,0,0,0-10.82A7.49,7.49,0,0,0,22.45,4Z"></path></svg>

		
		<span class="ml-4 pl-0.5 ">like</span></button>
	<button class="focus:outline-hidden flex items-center border-l px-1.5 py-1 text-gray-400 hover:bg-gray-50 focus:bg-gray-100 dark:hover:bg-gray-900 dark:focus:bg-gray-800" title="See users who liked this repository">22</button></div>




			<div class="relative flex items-center gap-1.5  "><div class="mr-2 inline-flex h-6 items-center overflow-hidden whitespace-nowrap rounded-md border text-sm text-gray-500"><button class="focus:outline-hidden relative flex h-full max-w-56 items-center gap-1.5 overflow-hidden px-1.5 hover:bg-gray-50 focus:bg-gray-100 dark:hover:bg-gray-900 dark:focus:bg-gray-800" type="button" ><div class="flex h-full flex-1 items-center justify-center ">Follow</div>
		<img alt="" class="rounded-xs size-3 flex-none" src="https://cdn-avatars.huggingface.co/v1/production/uploads/649d5a3f4e08d59d20014652/oxIEEzBgF7pk4gorWc4BO.jpeg">
		<span class="truncate">MBZUAI-LLM</span></button>
	<button class="focus:outline-hidden flex h-full items-center border-l pl-1.5 pr-1.5 text-gray-400 hover:bg-gray-50 focus:bg-gray-100 dark:hover:bg-gray-900 dark:focus:bg-gray-800" title="Show MBZUAI-LLM's followers" type="button">22</button></div>

		</div>
			
	</h1>
		<div class="mb-3 flex flex-wrap md:mb-4"><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Tasks:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?task_categories=task_categories%3Atext-generation"><div class="tag tag-white   "><div class="tag-ico -ml-2 tag-ico-indigo"><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 18 18"><path d="M16.2607 8.08202L14.468 6.28928C14.3063 6.12804 14.0873 6.03749 13.859 6.03749C13.6307 6.03749 13.4117 6.12804 13.25 6.28928L5.6375 13.904V16.9125H8.64607L16.2607 9.30002C16.422 9.13836 16.5125 8.91935 16.5125 8.69102C16.5125 8.4627 16.422 8.24369 16.2607 8.08202V8.08202ZM8.1953 15.825H6.725V14.3547L11.858 9.22118L13.3288 10.6915L8.1953 15.825ZM14.0982 9.92262L12.6279 8.45232L13.8606 7.21964L15.3309 8.68994L14.0982 9.92262Z"></path><path d="M6.18125 9.84373H7.26875V6.03748H8.9V4.94998H4.55V6.03748H6.18125V9.84373Z"></path><path d="M4.55 11.475H2.375V2.775H11.075V4.95H12.1625V2.775C12.1625 2.48658 12.0479 2.20997 11.844 2.00602C11.64 1.80208 11.3634 1.6875 11.075 1.6875H2.375C2.08658 1.6875 1.80997 1.80208 1.60602 2.00602C1.40207 2.20997 1.2875 2.48658 1.2875 2.775V11.475C1.2875 11.7634 1.40207 12.04 1.60602 12.244C1.80997 12.4479 2.08658 12.5625 2.375 12.5625H4.55V11.475Z"></path></svg></div>

	

	<span>Text Generation</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Modalities:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?modality=modality%3Atext"><div class="tag tag-white   ">
		<svg class="text-red-700 dark:text-red-600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.619 4.619C2.667 6.573 2.667 9.715 2.667 16s0 9.428 1.952 11.38C6.573 29.333 9.715 29.333 16 29.333s9.428 0 11.38-1.953c1.953-1.95 1.953-5.095 1.953-11.38s0-9.428-1.953-11.381C25.43 2.667 22.285 2.667 16 2.667s-9.428 0-11.381 1.952m8.65 3.714c-.573 0-1.109 0-1.546.066-.495.073-1.003.248-1.41.7-.392.436-.53.956-.59 1.452-.056.464-.056 1.04-.056 1.689V13a1 1 0 1 0 2 0v-.704c0-.724.001-1.176.041-1.505q.015-.15.061-.294a.2.2 0 0 1 .031-.061q0-.003.016-.01a.8.8 0 0 1 .203-.05c.272-.04.654-.043 1.314-.043H15v11.334h-2.333a1 1 0 1 0 0 2H20a1 1 0 0 0 0-2h-3V10.333h1.667c.66 0 1.042.003 1.314.043.123.019.18.04.203.05l.015.009a.2.2 0 0 1 .032.061c.018.05.042.14.061.295.04.329.041.781.041 1.506V13a1 1 0 1 0 2 0v-.76c0-.65 0-1.225-.056-1.69-.06-.495-.198-1.015-.59-1.453-.407-.45-.915-.625-1.41-.698-.437-.067-.973-.067-1.546-.066z" fill="currentColor"></path></svg>

	

	<span>Text</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Formats:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?format=format%3Ajson"><div class="tag tag-white   ">
		<svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.917 2.25h-.834v.833h.834v2.084A.833.833 0 0 0 9.75 6a.833.833 0 0 0-.833.833v2.084h-.834v.833h.834c.446-.113.833-.375.833-.833V7.25a.833.833 0 0 1 .833-.833H11v-.834h-.417a.833.833 0 0 1-.833-.833V3.083a.833.833 0 0 0-.833-.833Zm-5.834 0a.833.833 0 0 0-.833.833V4.75a.833.833 0 0 1-.833.833H1v.834h.417a.833.833 0 0 1 .833.833v1.667a.833.833 0 0 0 .833.833h.834v-.833h-.834V6.833A.833.833 0 0 0 2.25 6a.833.833 0 0 0 .833-.833V3.083h.834V2.25h-.834ZM6 7.25a.417.417 0 1 0 0 .833.417.417 0 0 0 0-.833Zm1.667 0a.417.417 0 1 0 0 .833.417.417 0 0 0 0-.833Zm-3.334 0a.417.417 0 1 0 0 .833.417.417 0 0 0 0-.833Z" fill="currentColor"></path></svg>

	

	<span>json</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Languages:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?language=language%3Aen"><div class="tag tag-white   ">
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="text-green-600/80" preserveAspectRatio="xMidYMid meet" width="1em" height="1em" viewBox="0 0 10 10"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.625 5C0.625 6.16032 1.08594 7.27312 1.90641 8.09359C2.72688 8.91406 3.83968 9.375 5 9.375C6.16032 9.375 7.27312 8.91406 8.09359 8.09359C8.91406 7.27312 9.375 6.16032 9.375 5C9.375 3.83968 8.91406 2.72688 8.09359 1.90641C7.27312 1.08594 6.16032 0.625 5 0.625C3.83968 0.625 2.72688 1.08594 1.90641 1.90641C1.08594 2.72688 0.625 3.83968 0.625 5ZM7.64365 7.48027C7.61734 7.50832 7.59054 7.53598 7.56326 7.56326C7.13828 7.98824 6.61864 8.2968 6.0539 8.46842C6.29802 8.11949 6.49498 7.64804 6.63475 7.09483C7.00845 7.18834 7.35014 7.3187 7.64365 7.48027ZM8.10076 6.87776C8.37677 6.42196 8.55005 5.90894 8.60556 5.37499H6.86808C6.85542 5.71597 6.82551 6.04557 6.77971 6.35841C7.25309 6.47355 7.68808 6.6414 8.062 6.85549C8.07497 6.86283 8.08789 6.87025 8.10076 6.87776ZM6.03795 6.22536C6.07708 5.95737 6.1044 5.67232 6.11705 5.37499H3.88295C3.89666 5.69742 3.92764 6.00542 3.9722 6.29287C4.37075 6.21726 4.79213 6.17749 5.224 6.17749C5.50054 6.17749 5.77294 6.19376 6.03795 6.22536ZM4.1261 7.02673C4.34894 7.84835 4.68681 8.375 5 8.375C5.32122 8.375 5.66839 7.82101 5.8908 6.963C5.67389 6.93928 5.45082 6.92699 5.224 6.92699C4.84316 6.92699 4.47332 6.96176 4.1261 7.02673ZM3.39783 7.21853C3.53498 7.71842 3.72038 8.14579 3.9461 8.46842C3.42141 8.30898 2.93566 8.03132 2.52857 7.65192C2.77253 7.48017 3.06711 7.33382 3.39783 7.21853ZM3.23916 6.48077C3.18263 6.13193 3.14625 5.76074 3.13192 5.37499H1.39444C1.4585 5.99112 1.67936 6.57938 2.03393 7.08403C2.3706 6.83531 2.78055 6.63162 3.23916 6.48077ZM1.39444 4.62499H3.13192C3.14615 4.24204 3.18211 3.87344 3.23794 3.52681C2.77814 3.37545 2.36731 3.17096 2.03024 2.92123C1.67783 3.42469 1.45828 4.011 1.39444 4.62499ZM2.5237 2.35262C2.76812 2.52552 3.06373 2.67281 3.39584 2.78875C3.53318 2.28573 3.71928 1.85578 3.9461 1.53158C3.41932 1.69166 2.93178 1.97089 2.5237 2.35262ZM3.97101 3.71489C3.92709 4.00012 3.89654 4.30547 3.88295 4.62499H6.11705C6.10453 4.33057 6.07761 4.04818 6.03909 3.78248C5.77372 3.81417 5.50093 3.83049 5.224 3.83049C4.79169 3.83049 4.3699 3.79065 3.97101 3.71489ZM5.8928 3.04476C5.67527 3.06863 5.45151 3.08099 5.224 3.08099C4.84241 3.08099 4.47186 3.04609 4.12405 2.98086C4.34686 2.1549 4.68584 1.625 5 1.625C5.32218 1.625 5.67048 2.18233 5.8928 3.04476ZM6.78083 3.6493C6.826 3.95984 6.85552 4.28682 6.86808 4.62499H8.60556C8.55029 4.09337 8.37827 3.58251 8.10436 3.1282C8.0903 3.1364 8.07618 3.14449 8.062 3.15249C7.68838 3.36641 7.25378 3.53417 6.78083 3.6493ZM7.64858 2.52499C7.35446 2.68754 7.0117 2.81868 6.63664 2.91268C6.49676 2.35623 6.29913 1.88209 6.0539 1.53158C6.61864 1.7032 7.13828 2.01176 7.56326 2.43674C7.59224 2.46572 7.62068 2.49514 7.64858 2.52499Z" fill="currentColor"></path></svg>

	

	<span>English</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Size:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?size_categories=size_categories%3A10M%3Cn%3C100M"><div class="tag tag-white   ">

	

	<span>10M - 100M</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">ArXiv:
	</span>
	

	<div class="relative inline-block ">
	<button class="group mr-1 mb-1 md:mr-1.5 md:mb-1.5  rounded-full rounded-br-none " type="button">
		<div class="tag tag-white rounded-full  relative rounded-br-none pr-2.5">
		<svg class="-mr-1 text-gray-400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M8.007 1.814a1.176 1.176 0 0 0-.732-.266H3.088c-.64 0-1.153.512-1.153 1.152v6.803c0 .64.513 1.152 1.153 1.152h5.54c.632 0 1.144-.511 1.144-1.152V3.816c0-.338-.137-.658-.412-.887L8.007 1.814Zm-1.875 1.81c0 .695.55 1.253 1.244 1.253h.983a.567.567 0 0 1 .553.585v4.041c0 .165-.119.302-.283.302h-5.55c-.156 0-.275-.137-.275-.302V2.7a.284.284 0 0 1 .284-.301h2.468a.574.574 0 0 1 .434.19.567.567 0 0 1 .142.395v.64Z" clip-rule="evenodd"></path><path fill="currentColor" fill-opacity=".2" fill-rule="evenodd" d="M6.132 3.624c0 .695.55 1.253 1.244 1.253h.97a.567.567 0 0 1 .566.585v4.041c0 .165-.119.302-.283.302h-5.55c-.156 0-.275-.137-.275-.302V2.7a.284.284 0 0 1 .284-.301h2.468a.567.567 0 0 1 .576.585v.64Z" clip-rule="evenodd"></path></svg>

	

	<span class="-mr-2 text-gray-400">arxiv:</span>
		<span>2309.10818</span>
	

	<div class="border-br-gray-200 absolute bottom-0.5 right-0.5 h-1 w-1 border-[3px] border-l-transparent border-t-transparent border-b-gray-200 border-r-gray-200 dark:border-b-gray-700 dark:border-r-gray-700"></div></div>
		
		</button>
	
	
	</div>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Libraries:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?library=library%3Adatasets"><div class="tag tag-white   "><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" width="1em" height="1em" viewBox="0 0 95 88"><path fill="#fff" d="M94.25 70.08a8.28 8.28 0 0 1-.43 6.46 10.57 10.57 0 0 1-3 3.6 25.18 25.18 0 0 1-5.7 3.2 65.74 65.74 0 0 1-7.56 2.65 46.67 46.67 0 0 1-11.42 1.68c-5.42.05-10.09-1.23-13.4-4.5a40.4 40.4 0 0 1-10.14.03c-3.34 3.25-7.99 4.52-13.39 4.47a46.82 46.82 0 0 1-11.43-1.68 66.37 66.37 0 0 1-7.55-2.65c-2.28-.98-4.17-2-5.68-3.2a10.5 10.5 0 0 1-3.02-3.6c-.99-2-1.18-4.3-.42-6.46a8.54 8.54 0 0 1-.33-5.63c.25-.95.66-1.83 1.18-2.61a8.67 8.67 0 0 1 2.1-8.47 8.23 8.23 0 0 1 2.82-2.07 41.75 41.75 0 1 1 81.3-.12 8.27 8.27 0 0 1 3.11 2.19 8.7 8.7 0 0 1 2.1 8.47c.52.78.93 1.66 1.18 2.61a8.61 8.61 0 0 1-.32 5.63Z"></path><path fill="#FFD21E" d="M47.21 76.5a34.75 34.75 0 1 0 0-69.5 34.75 34.75 0 0 0 0 69.5Z"></path><path fill="#FF9D0B" d="M81.96 41.75a34.75 34.75 0 1 0-69.5 0 34.75 34.75 0 0 0 69.5 0Zm-73.5 0a38.75 38.75 0 1 1 77.5 0 38.75 38.75 0 0 1-77.5 0Z"></path><path fill="#3A3B45" d="M58.5 32.3c1.28.44 1.78 3.06 3.07 2.38a5 5 0 1 0-6.76-2.07c.61 1.15 2.55-.72 3.7-.32ZM34.95 32.3c-1.28.44-1.79 3.06-3.07 2.38a5 5 0 1 1 6.76-2.07c-.61 1.15-2.56-.72-3.7-.32Z"></path><path fill="#FF323D" d="M46.96 56.29c9.83 0 13-8.76 13-13.26 0-2.34-1.57-1.6-4.09-.36-2.33 1.15-5.46 2.74-8.9 2.74-7.19 0-13-6.88-13-2.38s3.16 13.26 13 13.26Z"></path><path fill="#3A3B45" fill-rule="evenodd" d="M39.43 54a8.7 8.7 0 0 1 5.3-4.49c.4-.12.81.57 1.24 1.28.4.68.82 1.37 1.24 1.37.45 0 .9-.68 1.33-1.35.45-.7.89-1.38 1.32-1.25a8.61 8.61 0 0 1 5 4.17c3.73-2.94 5.1-7.74 5.1-10.7 0-2.34-1.57-1.6-4.09-.36l-.14.07c-2.31 1.15-5.39 2.67-8.77 2.67s-6.45-1.52-8.77-2.67c-2.6-1.29-4.23-2.1-4.23.29 0 3.05 1.46 8.06 5.47 10.97Z" clip-rule="evenodd"></path><path fill="#FF9D0B" d="M70.71 37a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5ZM24.21 37a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5ZM17.52 48c-1.62 0-3.06.66-4.07 1.87a5.97 5.97 0 0 0-1.33 3.76 7.1 7.1 0 0 0-1.94-.3c-1.55 0-2.95.59-3.94 1.66a5.8 5.8 0 0 0-.8 7 5.3 5.3 0 0 0-1.79 2.82c-.24.9-.48 2.8.8 4.74a5.22 5.22 0 0 0-.37 5.02c1.02 2.32 3.57 4.14 8.52 6.1 3.07 1.22 5.89 2 5.91 2.01a44.33 44.33 0 0 0 10.93 1.6c5.86 0 10.05-1.8 12.46-5.34 3.88-5.69 3.33-10.9-1.7-15.92-2.77-2.78-4.62-6.87-5-7.77-.78-2.66-2.84-5.62-6.25-5.62a5.7 5.7 0 0 0-4.6 2.46c-1-1.26-1.98-2.25-2.86-2.82A7.4 7.4 0 0 0 17.52 48Zm0 4c.51 0 1.14.22 1.82.65 2.14 1.36 6.25 8.43 7.76 11.18.5.92 1.37 1.31 2.14 1.31 1.55 0 2.75-1.53.15-3.48-3.92-2.93-2.55-7.72-.68-8.01.08-.02.17-.02.24-.02 1.7 0 2.45 2.93 2.45 2.93s2.2 5.52 5.98 9.3c3.77 3.77 3.97 6.8 1.22 10.83-1.88 2.75-5.47 3.58-9.16 3.58-3.81 0-7.73-.9-9.92-1.46-.11-.03-13.45-3.8-11.76-7 .28-.54.75-.76 1.34-.76 2.38 0 6.7 3.54 8.57 3.54.41 0 .7-.17.83-.6.79-2.85-12.06-4.05-10.98-8.17.2-.73.71-1.02 1.44-1.02 3.14 0 10.2 5.53 11.68 5.53.11 0 .2-.03.24-.1.74-1.2.33-2.04-4.9-5.2-5.21-3.16-8.88-5.06-6.8-7.33.24-.26.58-.38 1-.38 3.17 0 10.66 6.82 10.66 6.82s2.02 2.1 3.25 2.1c.28 0 .52-.1.68-.38.86-1.46-8.06-8.22-8.56-11.01-.34-1.9.24-2.85 1.31-2.85Z"></path><path fill="#FFD21E" d="M38.6 76.69c2.75-4.04 2.55-7.07-1.22-10.84-3.78-3.77-5.98-9.3-5.98-9.3s-.82-3.2-2.69-2.9c-1.87.3-3.24 5.08.68 8.01 3.91 2.93-.78 4.92-2.29 2.17-1.5-2.75-5.62-9.82-7.76-11.18-2.13-1.35-3.63-.6-3.13 2.2.5 2.79 9.43 9.55 8.56 11-.87 1.47-3.93-1.71-3.93-1.71s-9.57-8.71-11.66-6.44c-2.08 2.27 1.59 4.17 6.8 7.33 5.23 3.16 5.64 4 4.9 5.2-.75 1.2-12.28-8.53-13.36-4.4-1.08 4.11 11.77 5.3 10.98 8.15-.8 2.85-9.06-5.38-10.74-2.18-1.7 3.21 11.65 6.98 11.76 7.01 4.3 1.12 15.25 3.49 19.08-2.12Z"></path><path fill="#FF9D0B" d="M77.4 48c1.62 0 3.07.66 4.07 1.87a5.97 5.97 0 0 1 1.33 3.76 7.1 7.1 0 0 1 1.95-.3c1.55 0 2.95.59 3.94 1.66a5.8 5.8 0 0 1 .8 7 5.3 5.3 0 0 1 1.78 2.82c.24.9.48 2.8-.8 4.74a5.22 5.22 0 0 1 .37 5.02c-1.02 2.32-3.57 4.14-8.51 6.1-3.08 1.22-5.9 2-5.92 2.01a44.33 44.33 0 0 1-10.93 1.6c-5.86 0-10.05-1.8-12.46-5.34-3.88-5.69-3.33-10.9 1.7-15.92 2.78-2.78 4.63-6.87 5.01-7.77.78-2.66 2.83-5.62 6.24-5.62a5.7 5.7 0 0 1 4.6 2.46c1-1.26 1.98-2.25 2.87-2.82A7.4 7.4 0 0 1 77.4 48Zm0 4c-.51 0-1.13.22-1.82.65-2.13 1.36-6.25 8.43-7.76 11.18a2.43 2.43 0 0 1-2.14 1.31c-1.54 0-2.75-1.53-.14-3.48 3.91-2.93 2.54-7.72.67-8.01a1.54 1.54 0 0 0-.24-.02c-1.7 0-2.45 2.93-2.45 2.93s-2.2 5.52-5.97 9.3c-3.78 3.77-3.98 6.8-1.22 10.83 1.87 2.75 5.47 3.58 9.15 3.58 3.82 0 7.73-.9 9.93-1.46.1-.03 13.45-3.8 11.76-7-.29-.54-.75-.76-1.34-.76-2.38 0-6.71 3.54-8.57 3.54-.42 0-.71-.17-.83-.6-.8-2.85 12.05-4.05 10.97-8.17-.19-.73-.7-1.02-1.44-1.02-3.14 0-10.2 5.53-11.68 5.53-.1 0-.19-.03-.23-.1-.74-1.2-.34-2.04 4.88-5.2 5.23-3.16 8.9-5.06 6.8-7.33-.23-.26-.57-.38-.98-.38-3.18 0-10.67 6.82-10.67 6.82s-2.02 2.1-3.24 2.1a.74.74 0 0 1-.68-.38c-.87-1.46 8.05-8.22 8.55-11.01.34-1.9-.24-2.85-1.31-2.85Z"></path><path fill="#FFD21E" d="M56.33 76.69c-2.75-4.04-2.56-7.07 1.22-10.84 3.77-3.77 5.97-9.3 5.97-9.3s.82-3.2 2.7-2.9c1.86.3 3.23 5.08-.68 8.01-3.92 2.93.78 4.92 2.28 2.17 1.51-2.75 5.63-9.82 7.76-11.18 2.13-1.35 3.64-.6 3.13 2.2-.5 2.79-9.42 9.55-8.55 11 .86 1.47 3.92-1.71 3.92-1.71s9.58-8.71 11.66-6.44c2.08 2.27-1.58 4.17-6.8 7.33-5.23 3.16-5.63 4-4.9 5.2.75 1.2 12.28-8.53 13.36-4.4 1.08 4.11-11.76 5.3-10.97 8.15.8 2.85 9.05-5.38 10.74-2.18 1.69 3.21-11.65 6.98-11.76 7.01-4.31 1.12-15.26 3.49-19.08-2.12Z"></path></svg>

	

	<span>Datasets</span>
	

	</div></a><a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?library=library%3Adask"><div class="tag tag-white   "><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path d="m3.368 3.694 2.965-1.71A.095.095 0 0 0 6.38 1.9V.875a.49.49 0 0 0-.183-.394.468.468 0 0 0-.523-.034L1.526 2.84a.471.471 0 0 0-.235.408l-.002 5.405c0 .151.062.302.183.394.157.118.358.13.524.035l.878-.507a.095.095 0 0 0 .048-.082V4.465a.89.89 0 0 1 .446-.771Z" fill="#FFC11E"></path><path d="M10.475 2.919a.47.47 0 0 0-.47 0L5.856 5.312a.473.473 0 0 0-.236.408l-.002 5.425c0 .17.088.323.236.408a.466.466 0 0 0 .471 0l4.147-2.393a.473.473 0 0 0 .236-.408l.002-5.425a.467.467 0 0 0-.236-.408Z" fill="#EF1161"></path><path d="m5.647 4.949 2.737-1.58a.095.095 0 0 0 .047-.082V2.093a.49.49 0 0 0-.183-.394.468.468 0 0 0-.523-.035l-1.135.655-3.013 1.738a.471.471 0 0 0-.236.408v4.083L3.34 9.87c0 .152.062.302.183.394.157.118.358.13.524.035l1.106-.639a.094.094 0 0 0 .047-.082l.001-3.859a.89.89 0 0 1 .446-.77Z" fill="#FC6E6B"></path></svg>

	

	<span>Dask</span>
	

	</div></a><div class="relative inline-block ">
	<button class="group mr-1 mb-1 md:mr-1.5 md:mb-1.5  rounded-lg rounded-br-none " type="button">
		<div class="tag tag-white   relative rounded-br-none pr-2.5"><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="none" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M22.2812 12.2656L25.9532 15.7187C26.8932 16.6587 28.0913 17.3931 29.0313 16.4531C29.8594 15.7812 29.9332 14.1 29.9532 13.5C29.9532 11.5625 28.9219 8.375 27.25 6.71875C25.5604 5.04493 23.3782 3.91692 22.7032 3.78125L22.2812 12.2656Z" fill="#F5AB6A"></path><path d="M22.2812 12.2656L25.9532 15.7187C26.8932 16.6587 28.0913 17.3931 29.0313 16.4531C29.8594 15.7812 29.9332 14.1 29.9532 13.5C29.9532 11.5625 28.9219 8.375 27.25 6.71875C25.5604 5.04493 23.3782 3.91692 22.7032 3.78125L22.2812 12.2656Z" fill="url(#paint0_radial_18_31665)"></path><g filter="url(#filter0_f_18_31665)"><path d="M22.2849 12.1817L23.4375 13.2656L24.4375 4.70312C23.5121 4.1242 23.0198 3.96369 22.6563 3.89062L22.2849 12.1817Z" fill="url(#paint1_linear_18_31665)"></path></g><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint2_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint3_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint4_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint5_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint6_linear_18_31665)"></path><g filter="url(#filter1_f_18_31665)"><path d="M13.1016 2.72656C11.862 3.06924 11.5298 3.40016 11.5298 3.40016C10.9102 3.52335 10.936 4.11525 11.2408 4.6799C13.1487 6.95202 15.1361 13.2496 18.007 14.0958C18.2707 14.1633 18.6953 14.2107 19.1797 14.2344L13.1016 2.72656Z" fill="url(#paint7_linear_18_31665)"></path></g><path d="M12.2187 22.7187L15.7656 26.2031C16.7332 27.1171 17.3334 28.2487 16.4219 29.2188C15.7749 30.0687 14.2241 29.9933 13.625 30.0313C11.6883 30.0891 9.09014 29.5622 6.84373 27.5313C5.07737 25.9343 4.09321 23.688 3.93751 23.0156L12.2187 22.7187Z" fill="url(#paint8_radial_18_31665)"></path><path d="M12.2187 22.7187L15.7656 26.2031C16.7332 27.1171 17.3334 28.2487 16.4219 29.2188C15.7749 30.0687 14.2241 29.9933 13.625 30.0313C11.6883 30.0891 9.09014 29.5622 6.84373 27.5313C5.07737 25.9343 4.09321 23.688 3.93751 23.0156L12.2187 22.7187Z" fill="url(#paint9_radial_18_31665)"></path><g filter="url(#filter2_f_18_31665)"><path d="M12.0523 22.7916L13.2187 23.9375L4.81018 24.5721C4.4328 23.8671 4.20835 23.2768 4.14062 22.9844L12.0523 22.7916Z" fill="url(#paint10_linear_18_31665)"></path><path d="M12.0523 22.7916L13.2187 23.9375L4.81018 24.5721C4.4328 23.8671 4.20835 23.2768 4.14062 22.9844L12.0523 22.7916Z" fill="url(#paint11_radial_18_31665)"></path></g><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="#EC9F6A"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint12_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint13_linear_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint14_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint15_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint16_radial_18_31665)"></path><g filter="url(#filter3_f_18_31665)"><path d="M2.70313 13.6719C3.04135 12.4711 3.36224 12.0555 3.36224 12.0555C3.46697 11.4309 3.98746 11.3864 4.56092 11.6749C6.88874 13.5189 13.0809 15.1104 14.0121 17.9622C14.1731 18.5231 14.2766 19.0394 14.3287 19.5128L2.70313 13.6719Z" fill="url(#paint17_linear_18_31665)"></path><path d="M2.70313 13.6719C3.04135 12.4711 3.36224 12.0555 3.36224 12.0555C3.46697 11.4309 3.98746 11.3864 4.56092 11.6749C6.88874 13.5189 13.0809 15.1104 14.0121 17.9622C14.1731 18.5231 14.2766 19.0394 14.3287 19.5128L2.70313 13.6719Z" fill="url(#paint18_linear_18_31665)"></path></g><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="#D79453"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint19_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint20_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint21_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint22_linear_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint23_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint24_radial_18_31665)"></path><defs><filter id="filter0_f_18_31665" x="22.0349" y="3.64062" width="2.65265" height="9.875" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter1_f_18_31665" x="10.7815" y="2.47656" width="8.64819" height="12.0078" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter2_f_18_31665" x="3.89062" y="22.5416" width="9.57812" height="2.2804" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter3_f_18_31665" x="2.45312" y="11.2538" width="12.1255" height="8.50903" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><radialGradient id="paint0_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.8125 12.9375) rotate(42.7741) scale(12.5164 7.08839)"><stop offset="0.0937591" stop-color="#C05159"></stop><stop offset="0.553697" stop-color="#F6AC6A"></stop><stop offset="0.832916" stop-color="#FFD186"></stop><stop offset="0.916927" stop-color="#FFDC87"></stop></radialGradient><linearGradient id="paint1_linear_18_31665" x1="24.7344" y1="4.67187" x2="20.8594" y2="12.8906" gradientUnits="userSpaceOnUse"><stop stop-color="#EBD67C"></stop><stop offset="0.0655686" stop-color="#FFFFA6"></stop><stop offset="0.530552" stop-color="#F8C281"></stop><stop offset="0.937338" stop-color="#E99E6B"></stop></linearGradient><radialGradient id="paint2_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.9009 13.1847) rotate(-127.648) scale(14.3438 11.7966)"><stop stop-color="#FFBE66"></stop><stop offset="1" stop-color="#E2AE5B"></stop></radialGradient><radialGradient id="paint3_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(18 11.4375) rotate(53.9726) scale(11.9013 4.84018)"><stop stop-color="#D67C63"></stop><stop offset="1" stop-color="#D97D67" stop-opacity="0"></stop></radialGradient><radialGradient id="paint4_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(23 4.1875) rotate(45.7639) scale(3.31486 5.75622)"><stop stop-color="#FFE4A6"></stop><stop offset="0.711285" stop-color="#F8B76F"></stop><stop offset="1" stop-color="#F9B870" stop-opacity="0"></stop></radialGradient><radialGradient id="paint5_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.875 12.4375) rotate(88.9391) scale(3.37558 1.29066)"><stop stop-color="#FFBC67"></stop><stop offset="1" stop-color="#FFBC67" stop-opacity="0"></stop></radialGradient><linearGradient id="paint6_linear_18_31665" x1="20.375" y1="15.6875" x2="20.125" y2="12.7813" gradientUnits="userSpaceOnUse"><stop offset="0.461609" stop-color="#B45077"></stop><stop offset="0.855389" stop-color="#B75077" stop-opacity="0"></stop></linearGradient><linearGradient id="paint7_linear_18_31665" x1="12.9375" y1="2.57056" x2="18.5625" y2="14.3891" gradientUnits="userSpaceOnUse"><stop stop-color="#DDC173"></stop><stop offset="0.485173" stop-color="#D59F65"></stop><stop offset="1" stop-color="#E49966"></stop></linearGradient><radialGradient id="paint8_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(13.5625 23.5) rotate(109.113) scale(6.68078 10.2578)"><stop offset="0.165756" stop-color="#FFBF7E"></stop><stop offset="0.827674" stop-color="#DF8C6D"></stop><stop offset="1" stop-color="#B05A66"></stop></radialGradient><radialGradient id="paint9_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.1875 26) rotate(41.0652) scale(8.37243 2.03649)"><stop stop-color="#FFD483"></stop><stop offset="1" stop-color="#FFD688" stop-opacity="0"></stop></radialGradient><linearGradient id="paint10_linear_18_31665" x1="3.96063" y1="23.794" x2="13.3748" y2="23.5143" gradientUnits="userSpaceOnUse"><stop stop-color="#A8716F"></stop><stop offset="0.103615" stop-color="#B37173"></stop><stop offset="0.225484" stop-color="#DB9F84"></stop><stop offset="0.799889" stop-color="#F1BB8A"></stop><stop offset="1" stop-color="#FFD780"></stop></linearGradient><radialGradient id="paint11_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(11.4219 23.1719) rotate(-178.616) scale(3.23532 0.569081)"><stop offset="0.621498" stop-color="#AF5A3E"></stop><stop offset="1" stop-color="#B35445" stop-opacity="0"></stop></radialGradient><radialGradient id="paint12_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(13.625 19.125) rotate(-171.737) scale(15.2205 15.0767)"><stop offset="0.138435" stop-color="#FFB974"></stop><stop offset="0.403618" stop-color="#F2A56D"></stop><stop offset="0.925938" stop-color="#A16948"></stop></radialGradient><linearGradient id="paint13_linear_18_31665" x1="8.22184" y1="13.125" x2="6.81191" y2="15.4996" gradientUnits="userSpaceOnUse"><stop offset="0.610751" stop-color="#984847"></stop><stop offset="0.850075" stop-color="#9A4947" stop-opacity="0"></stop></linearGradient><radialGradient id="paint14_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(7.25 23.7461) scale(11.25 5.68361)"><stop stop-color="#C66364"></stop><stop offset="1" stop-color="#D4766B" stop-opacity="0"></stop></radialGradient><radialGradient id="paint15_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(7.875 23.5313) scale(10.0937 1.29657)"><stop stop-color="#B64B4B"></stop><stop offset="1" stop-color="#C56158" stop-opacity="0"></stop></radialGradient><radialGradient id="paint16_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(11.4375 19.875) rotate(-46.8882) scale(4.02385 7.51767)"><stop stop-color="#FFC083"></stop><stop offset="0.620218" stop-color="#FFBD7D" stop-opacity="0"></stop></radialGradient><linearGradient id="paint17_linear_18_31665" x1="2.8125" y1="13.0312" x2="14.5582" y2="18.9404" gradientUnits="userSpaceOnUse"><stop stop-color="#B89367"></stop><stop offset="1" stop-color="#C5835E"></stop></linearGradient><linearGradient id="paint18_linear_18_31665" x1="8.21875" y1="14.6406" x2="7.59349" y2="15.6717" gradientUnits="userSpaceOnUse"><stop offset="0.351552" stop-color="#A74746"></stop><stop offset="0.845198" stop-color="#A04346" stop-opacity="0"></stop></linearGradient><radialGradient id="paint19_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.5625 14.5625) rotate(140.244) scale(18.3733 13.7403)"><stop stop-color="#FDAE69"></stop><stop offset="0.729021" stop-color="#CE8C4F"></stop><stop offset="0.921546" stop-color="#AD7B45"></stop><stop offset="1" stop-color="#8B6B4A"></stop></radialGradient><radialGradient id="paint20_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.0625 7) rotate(65.3152) scale(11.0745 3.16547)"><stop offset="0.233237" stop-color="#FFD47C"></stop><stop offset="0.853648" stop-color="#FFD98B" stop-opacity="0"></stop></radialGradient><radialGradient id="paint21_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.3125 8.875) rotate(100.886) scale(6.6191 5.57808)"><stop offset="0.128419" stop-color="#FFD88C"></stop><stop offset="0.924134" stop-color="#FFBE7B" stop-opacity="0"></stop></radialGradient><linearGradient id="paint22_linear_18_31665" x1="7.25" y1="15.1875" x2="10.7588" y2="10.3142" gradientUnits="userSpaceOnUse"><stop offset="0.142353" stop-color="#C15F4D"></stop><stop offset="1" stop-color="#D58366" stop-opacity="0"></stop></linearGradient><radialGradient id="paint23_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(8.15625 15.7813) rotate(28.5422) scale(12.5574 1.96589)"><stop offset="0.149989" stop-color="#E4745D"></stop><stop offset="0.453292" stop-color="#C8604C"></stop><stop offset="0.632597" stop-color="#C0605F"></stop><stop offset="1" stop-color="#C0605F" stop-opacity="0"></stop></radialGradient><radialGradient id="paint24_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1.40625 2.69067) rotate(46.0943) scale(22.3963)"><stop offset="0.935802" stop-color="#C17C61" stop-opacity="0"></stop><stop offset="0.982109" stop-color="#C17C61"></stop></radialGradient></defs></svg>

	

	<span>Croissant</span>
	

	<div class="border-br-gray-200 absolute bottom-0.5 right-0.5 h-1 w-1 border-[3px] border-l-transparent border-t-transparent border-b-gray-200 border-r-gray-200 dark:border-b-gray-700 dark:border-r-gray-700"></div></div>
		
		</button>
	
	
	</div>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">License:
	</span>
	<div class="relative inline-block ">
	<button class="group mr-1 mb-1 md:mr-1.5 md:mb-1.5  rounded-full rounded-br-none " type="button">
		<div class="tag tag-white rounded-full  relative rounded-br-none pr-2.5">
		<svg class="text-xs text-gray-900" width="1em" height="1em" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.46009 5.0945V6.88125C1.46009 7.25201 1.75937 7.55129 2.13012 7.55129C2.50087 7.55129 2.80016 7.25201 2.80016 6.88125V5.0945C2.80016 4.72375 2.50087 4.42446 2.13012 4.42446C1.75937 4.42446 1.46009 4.72375 1.46009 5.0945ZM4.14022 5.0945V6.88125C4.14022 7.25201 4.4395 7.55129 4.81026 7.55129C5.18101 7.55129 5.48029 7.25201 5.48029 6.88125V5.0945C5.48029 4.72375 5.18101 4.42446 4.81026 4.42446C4.4395 4.42446 4.14022 4.72375 4.14022 5.0945ZM1.23674 9.78473H8.38377C8.75452 9.78473 9.0538 9.48545 9.0538 9.1147C9.0538 8.74395 8.75452 8.44466 8.38377 8.44466H1.23674C0.865993 8.44466 0.566711 8.74395 0.566711 9.1147C0.566711 9.48545 0.865993 9.78473 1.23674 9.78473ZM6.82036 5.0945V6.88125C6.82036 7.25201 7.11964 7.55129 7.49039 7.55129C7.86114 7.55129 8.16042 7.25201 8.16042 6.88125V5.0945C8.16042 4.72375 7.86114 4.42446 7.49039 4.42446C7.11964 4.42446 6.82036 4.72375 6.82036 5.0945ZM4.39484 0.623142L0.865993 2.48137C0.682851 2.57517 0.566711 2.76725 0.566711 2.97273C0.566711 3.28094 0.816857 3.53109 1.12507 3.53109H8.49991C8.80365 3.53109 9.0538 3.28094 9.0538 2.97273C9.0538 2.76725 8.93766 2.57517 8.75452 2.48137L5.22568 0.623142C4.9666 0.484669 4.65391 0.484669 4.39484 0.623142V0.623142Z" fill="currentColor"></path></svg>

	

	<span>mit</span>
	

	<div class="border-br-gray-200 absolute bottom-0.5 right-0.5 h-1 w-1 border-[3px] border-l-transparent border-t-transparent border-b-gray-200 border-r-gray-200 dark:border-b-gray-700 dark:border-r-gray-700"></div></div>
		
		</button>
	
	
	</div>

	</div></div>

		<div class="flex flex-col-reverse lg:flex-row lg:items-center lg:justify-between"><div class="-mb-px flex h-12 items-center overflow-x-auto overflow-y-hidden ">
	<a class="tab-alternate active" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC"><svg class="mr-1.5 text-gray-400 flex-none" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-quaternary" d="M20.23 7.24L12 12L3.77 7.24a1.98 1.98 0 0 1 .7-.71L11 2.76c.62-.35 1.38-.35 2 0l6.53 3.77c.29.173.531.418.7.71z" opacity=".25" fill="currentColor"></path><path class="uim-tertiary" d="M12 12v9.5a2.09 2.09 0 0 1-.91-.21L4.5 17.48a2.003 2.003 0 0 1-1-1.73v-7.5a2.06 2.06 0 0 1 .27-1.01L12 12z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M20.5 8.25v7.5a2.003 2.003 0 0 1-1 1.73l-6.62 3.82c-.275.13-.576.198-.88.2V12l8.23-4.76c.175.308.268.656.27 1.01z" fill="currentColor"></path></svg>
	Dataset card
	

	
		</a><a class="tab-alternate" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
	Data Studio
	

	
		</a><a class="tab-alternate" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/tree/main"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-tertiary" d="M21 19h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0-4h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0-8h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0 4h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M9 19a1 1 0 0 1-1-1V6a1 1 0 0 1 2 0v12a1 1 0 0 1-1 1zm-6-4.333a1 1 0 0 1-.64-1.769L3.438 12l-1.078-.898a1 1 0 0 1 1.28-1.538l2 1.667a1 1 0 0 1 0 1.538l-2 1.667a.999.999 0 0 1-.64.231z" fill="currentColor"></path></svg>
	<span class="xl:hidden">Files</span>
		<span class="hidden xl:inline">Files and versions</span>
	

	
		</a><a class="tab-alternate" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/discussions"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M20.6081 3C21.7684 3 22.8053 3.49196 23.5284 4.38415C23.9756 4.93678 24.4428 5.82749 24.4808 7.16133C24.9674 7.01707 25.4353 6.93643 25.8725 6.93643C26.9833 6.93643 27.9865 7.37587 28.696 8.17411C29.6075 9.19872 30.0124 10.4579 29.8361 11.7177C29.7523 12.3177 29.5581 12.8555 29.2678 13.3534C29.8798 13.8646 30.3306 14.5763 30.5485 15.4322C30.719 16.1032 30.8939 17.5006 29.9808 18.9403C30.0389 19.0342 30.0934 19.1319 30.1442 19.2318C30.6932 20.3074 30.7283 21.5229 30.2439 22.6548C29.5093 24.3704 27.6841 25.7219 24.1397 27.1727C21.9347 28.0753 19.9174 28.6523 19.8994 28.6575C16.9842 29.4379 14.3477 29.8345 12.0653 29.8345C7.87017 29.8345 4.8668 28.508 3.13831 25.8921C0.356375 21.6797 0.754104 17.8269 4.35369 14.1131C6.34591 12.058 7.67023 9.02782 7.94613 8.36275C8.50224 6.39343 9.97271 4.20438 12.4172 4.20438H12.4179C12.6236 4.20438 12.8314 4.2214 13.0364 4.25468C14.107 4.42854 15.0428 5.06476 15.7115 6.02205C16.4331 5.09583 17.134 4.359 17.7682 3.94323C18.7242 3.31737 19.6794 3 20.6081 3ZM20.6081 5.95917C20.2427 5.95917 19.7963 6.1197 19.3039 6.44225C17.7754 7.44319 14.8258 12.6772 13.7458 14.7131C13.3839 15.3952 12.7655 15.6837 12.2086 15.6837C11.1036 15.6837 10.2408 14.5497 12.1076 13.1085C14.9146 10.9402 13.9299 7.39584 12.5898 7.1776C12.5311 7.16799 12.4731 7.16355 12.4172 7.16355C11.1989 7.16355 10.6615 9.33114 10.6615 9.33114C10.6615 9.33114 9.0863 13.4148 6.38031 16.206C3.67434 18.998 3.5346 21.2388 5.50675 24.2246C6.85185 26.2606 9.42666 26.8753 12.0653 26.8753C14.8021 26.8753 17.6077 26.2139 19.1799 25.793C19.2574 25.7723 28.8193 22.984 27.6081 20.6107C27.4046 20.212 27.0693 20.0522 26.6471 20.0522C24.9416 20.0522 21.8393 22.6726 20.5057 22.6726C20.2076 22.6726 19.9976 22.5416 19.9116 22.222C19.3433 20.1173 28.552 19.2325 27.7758 16.1839C27.639 15.6445 27.2677 15.4256 26.746 15.4263C24.4923 15.4263 19.4358 19.5181 18.3759 19.5181C18.2949 19.5181 18.2368 19.4937 18.2053 19.4419C17.6743 18.557 17.9653 17.9394 21.7082 15.6009C25.4511 13.2617 28.0783 11.8545 26.5841 10.1752C26.4121 9.98141 26.1684 9.8956 25.8725 9.8956C23.6001 9.89634 18.2311 14.9403 18.2311 14.9403C18.2311 14.9403 16.7821 16.496 15.9057 16.496C15.7043 16.496 15.533 16.4139 15.4169 16.2112C14.7956 15.1296 21.1879 10.1286 21.5484 8.06535C21.7928 6.66715 21.3771 5.95917 20.6081 5.95917Z" fill="#FF9D00"></path><path d="M5.50686 24.2246C3.53472 21.2387 3.67446 18.9979 6.38043 16.206C9.08641 13.4147 10.6615 9.33111 10.6615 9.33111C10.6615 9.33111 11.2499 6.95933 12.59 7.17757C13.93 7.39581 14.9139 10.9401 12.1069 13.1084C9.29997 15.276 12.6659 16.7489 13.7459 14.713C14.8258 12.6772 17.7747 7.44316 19.304 6.44221C20.8326 5.44128 21.9089 6.00204 21.5484 8.06532C21.188 10.1286 14.795 15.1295 15.4171 16.2118C16.0391 17.2934 18.2312 14.9402 18.2312 14.9402C18.2312 14.9402 25.0907 8.49588 26.5842 10.1752C28.0776 11.8545 25.4512 13.2616 21.7082 15.6008C17.9646 17.9393 17.6744 18.557 18.2054 19.4418C18.7372 20.3266 26.9998 13.1351 27.7759 16.1838C28.5513 19.2324 19.3434 20.1173 19.9117 22.2219C20.48 24.3274 26.3979 18.2382 27.6082 20.6107C28.8193 22.9839 19.2574 25.7722 19.18 25.7929C16.0914 26.62 8.24723 28.3726 5.50686 24.2246Z" fill="#FFD21E"></path></svg>
	Community
	<div class="ml-1.5 flex h-4 min-w-[1rem] items-center justify-center rounded px-1 text-xs leading-none shadow-sm bg-black text-white dark:bg-gray-800 dark:text-gray-200">1</div>

	
		</a></div>
	
			</div></div></header>


</div>
	
<div class="container relative flex flex-col md:grid md:space-y-0 w-full md:grid-cols-12 md:flex-1 md:grid-rows-full space-y-4 md:gap-6 ">
		<section class="pt-6 border-gray-100 md:col-span-8 pb-24 relative break-words copiable-code-container">
				<div class="SVELTE_HYDRATER contents" data-target="UnsafeBanner" data-props="{&quot;classNames&quot;:&quot;mb-4&quot;,&quot;repoId&quot;:&quot;MBZUAI-LLM/SlimPajama-627B-DC&quot;,&quot;repoType&quot;:&quot;dataset&quot;,&quot;minLevel&quot;:&quot;unsafe&quot;}"></div>
					<div class="SVELTE_HYDRATER contents" data-target="DatasetViewer" data-props="{&quot;data&quot;:{&quot;kind&quot;:&quot;DatasetAndSampleData&quot;,&quot;datasetInfo&quot;:[{&quot;isValid&quot;:true,&quot;href&quot;:&quot;/datasets/MBZUAI-LLM/SlimPajama-627B-DC/tree/refs%2Fconvert%2Fparquet/&quot;,&quot;label&quot;:&quot;Size of the auto-converted Parquet files (First 5GB per split):&quot;,&quot;value&quot;:&quot;4.89 GB&quot;},{&quot;isValid&quot;:true,&quot;href&quot;:&quot;&quot;,&quot;label&quot;:&quot;Number of rows (First 5GB per split):&quot;,&quot;value&quot;:&quot;1,091,716&quot;},{&quot;isValid&quot;:true,&quot;href&quot;:&quot;&quot;,&quot;label&quot;:&quot;Estimated number of rows:&quot;,&quot;value&quot;:&quot;57,013,938&quot;}],&quot;partial&quot;:true,&quot;configsData&quot;:{&quot;configInfos&quot;:[{&quot;name&quot;:&quot;default&quot;,&quot;status&quot;:&quot;ok&quot;,&quot;numRows&quot;:1091716,&quot;estimatedNumRows&quot;:57013938}],&quot;selectedConfig&quot;:&quot;default&quot;,&quot;hasSelectedConfigParquet&quot;:true},&quot;splitsData&quot;:{&quot;splitInfos&quot;:[{&quot;name&quot;:&quot;train&quot;,&quot;numRows&quot;:86892,&quot;estimatedNumRows&quot;:56009114},{&quot;name&quot;:&quot;validation&quot;,&quot;numRows&quot;:502556},{&quot;name&quot;:&quot;test&quot;,&quot;numRows&quot;:502268}],&quot;selectedSplit&quot;:&quot;train&quot;},&quot;sampleData&quot;:{&quot;dataset&quot;:&quot;MBZUAI-LLM/SlimPajama-627B-DC&quot;,&quot;config&quot;:&quot;default&quot;,&quot;split&quot;:&quot;train&quot;,&quot;capabilities&quot;:{&quot;rows&quot;:true,&quot;search&quot;:false,&quot;filter&quot;:false,&quot;statistics&quot;:true},&quot;navigation&quot;:{&quot;p&quot;:0},&quot;jwt&quot;:&quot;eyJhbGciOiJFZERTQSJ9.eyJyZWFkIjp0cnVlLCJwZXJtaXNzaW9ucyI6eyJyZXBvLmNvbnRlbnQucmVhZCI6dHJ1ZX0sImlhdCI6MTc0MjkyMzE2MSwic3ViIjoiL2RhdGFzZXRzL01CWlVBSS1MTE0vU2xpbVBhamFtYS02MjdCLURDIiwiZXhwIjoxNzQyOTI2NzYxLCJpc3MiOiJodHRwczovL2h1Z2dpbmdmYWNlLmNvIn0.GMiaGt4rdPt1RT6CIXNtnfl4bOo9x3crZPd7YyHrHyKdyk_zBIGwTgPTIoXQX6lJLq5BJAOr5pD6Jw9ul2szAA&quot;,&quot;sampleData&quot;:{&quot;columns&quot;:[{&quot;name&quot;:&quot;text&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;text&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:216,&quot;max&quot;:4516620,&quot;mean&quot;:57548.85241,&quot;median&quot;:45039,&quot;std&quot;:54917.07648,&quot;histogram&quot;:{&quot;hist&quot;:[86722,155,7,4,2,1,0,0,0,1],&quot;bin_edges&quot;:[216,451857,903498,1355139,1806780,2258421,2710062,3161703,3613344,4064985,4516620]}}}},{&quot;name&quot;:&quot;meta&quot;,&quot;align&quot;:&quot;left&quot;,&quot;type&quot;:&quot;dict&quot;}],&quot;rows&quot;:[{&quot;rowIdx&quot;:0,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\\section{Introduction}\n\\noindent The vertical dynamics of a free falling ball on a moving racket is considered. The racket is supposed to\nmove periodically in the vertical direction according to a regular periodic function $f(t)$ and\nthe ball is reflected according to the law of elastic bouncing when hitting the\nracket. The only force acting on the ball is the gravity $g$. Moreover, the mass of the racket is assumed to be large with respect to the mass of the\nball so that the impacts do not affect the motion of the racket.\n\n\\noindent This model has inspired many authors as it represents a simple model exhibiting complex dynamics, depending on the properties of the function $f$. The first results were given by Pustyl'nikov in \\cite{pust} who studied the possibility of having motions with velocity tending to infinity, for $\\df$ large enough. On the other hand, KAM theory implies that if the $C^k$ norm, for $k$ large, of $\\df$ is small then all motions are bounded. On these lines some recent results are given in \\cite{ma_xu,maro4,maro6}. Bounded motions can be regular (periodic and quasiperiodic, see \\cite{maro3}) and chaotic (see \\cite{maro5,maro2,ruiztorres}). Moreover, the non periodic case is studied in \\cite{kunzeortega2,ortegakunze}, the case of different potentials is considered in \\cite{dolgo} and recent results on ergodic properties are present in \\cite{studolgo}.      \n\nIn this paper we are concerned with $(p,q)$-periodic motions understood as $p$-periodic with $q$ bounces in each period. Here $p,q$ are supposed to be positive coprime integers. In \\cite{maro3} it is proved that if $p/q$ is sufficiently large, then there exists at least one $(p,q)$-periodic motion. This result comes from an application of Aubry-Mather theory as presented in \\cite{bangert}. Actually, the bouncing motions correspond to the orbits of an exact symplectic twist map of the cylinder. The orbits of such maps can be found as critical points of an action functional and the $(p,q)$-periodic orbits found in \\cite{maro3} correspond to minima. Here we first note that a refined version of Aubry-Mather theory (see \\cite{katok_hass}) gives, for each couple of coprime $p,q$ such that $p/q$ is large, the existence of another $(p,q)$-periodic orbit that is not a minimum, since it is found via a minimax argument. This gives the existence of two different $(p,q)$-periodic motions for fixed values of $p,q$, with $p/q$ large.\n\nWe are first interested in the stability in the sense of Lyapunov of such periodic motions. This is related to the structure of the $(p,q)$-periodic orbits of the corresponding exact symplectic twist map, for fixed $p,q$. It comes from Aubry-Mather theory that the $(p,q)$-periodic orbits that are minima can be ordered and if there are two with no other in the middle then they are connected by heteroclinic orbits. In this case they are unstable. On the other hand, $(p,q)$-periodic orbits can form an invariant curve. In this case they are all minima but their stability cannot be determined as before since we are in a degenerate scenario. However, if we suppose to be in the real analytic case, a topological argument (see \\cite{ortega_fp,ortega_book}) can be used to deduce instability. More precisely we will use the fact that for a real analytic area and orientation preserving embedding of the plane that is not the identity, every stable fixed point is isolated. Therefore, the hypothesis of $f$ being real analytic comes here into play.\n\nConcerning the structure of the set of $(p,q)$-periodic motions we prove that in the real analytic case they can only be either isolated or in a degenerate case, in the sense that the corresponding orbits form an invariant curve that is the graph of a real analytic function. As before, in the isolated case at least one is unstable and in the degenerate case they all are minima and unstable. Note that this result differs from Aubry-Mather theory since we are not requiring the orbits to be minima of a functional. To prove this result we need the $q$-th iterate of the map to be twist. For $q=1$ this is true for every real analytic $f$, while for the general case $q>1$ we need to restrict to $\\norm{\\ddf}$ being small.   \n\n\nThe paper is organized as follows. In Section \\ref{sec:theory} we recall some known facts about exact symplectic twist maps together with the results for the analytic case. In Section \\ref{sec:tennis} we introduce the bouncing ball map and describe its main properties. Finally, the results on the existence of two $(p,q)$-periodic motions, the instability and the structure of the set are given in Section \\ref{sec:per}.\n\n\n\\section{Some results on periodic orbits of exact symplectic twist maps}\\label{sec:theory}\nLet us denote by $\\Sigma=\\RR\\times(a,b)$ with $-\\infty\\leq a<b\\leq +\\infty$ a possibly unbounded strip of $\\RR^2$. We will deal with $C^k$ ($k\\geq 1$) or real analytic embeddings $\\tilde{S}:\\Sigma \\rightarrow \\RR^2$ such that\n\\begin{equation}\\label{def_cyl}\n\\tilde{S}\\circ\\sigma=\\sigma\\circ \\tilde{S}\n\\end{equation}\nwhere $\\sigma:\\RR^2\\rightarrow\\RR^2$ and $\\sigma(x,y)=(x+1,y)$. By this latter property, $\\tilde{S}$ can be seen as the lift of an embedding $S:\\Sigma\\rightarrow\\AA$ where $\\AA = \\TT\\times \\RR$ with $\\TT = \\RR/\\ZZ$ and $\\Sigma$ is now understood as the corresponding strip of the cylinder. We denote $\\tilde{S}(x,y)=(\\bar{x},\\bar{y})$ and the corresponding orbit by $(x_n,y_n)_{n\\in\\ZZ}$. \n\n We say that $\\tilde{S}$ is exact symplectic if there exists a $C^1$ function $V:\\Sigma\\rightarrow \\RR$ such that $V\\circ\\sigma=V$ and\n\\[\n\\bar{y} d \\bar{x} -y dx = dV(x,y) \\quad\\mbox{in }\\Sigma.\n\\]\nMoreover, by the (positive) twist condition we understand\n\\[\n\\frac{\\partial \\bar{x}}{\\partial y} >0 \\quad\\mbox{in }\\Sigma. \n\\]\nA negative twist condition would give analogous results. The exact symplectic condition implies that $\\tilde{S}$ preserves the two-form $dy\\wedge dx$ so that it is area and orientation preserving.\nAn equivalent characterization is the existence of a generating function, i.e. a $C^2$ function $h:\\Omega\\subset \\RR^2\\rightarrow \\RR$ such that $h(x+1,\\bar{x}+1) = h(x,\\bar{x})$ and $h_{12}(x,\\bar{x}) <0$ in $\\Omega$ and for $(x,y)\\in\\Sigma$ we have $\\tilde{S}(x,y) = (\\bar{x},\\bar{y})$ if and only if \n    \\[\n    \\left\\{\n    \\begin{split}\n      h_1(x,\\bar{x})&amp;=-y \\\\\n      h_2(x,\\bar{x})&amp;=\\bar{y}.\n    \\end{split}\n    \\right.\n    \\]\nMoreover, $\\tilde{S}$ preserves the ends of the cylinder if, uniformly in $x$,\n\\[\n\\bar{y}(x,y) \\rightarrow \\pm\\infty \\quad\\mbox{as }y\\rightarrow \\pm\\infty\n\\]\nand twists each end infinitely if, uniformly in $x$,\n\\[\n\\bar{x}(x,y)-x \\rightarrow \\pm\\infty \\quad\\mbox{as }y\\rightarrow \\pm\\infty.\n\\]\nFinally we will say that an embedding of the cylinder $S:\\Sigma\\rightarrow\\AA$ satisfies any of these properties if so does its corresponding lift.\n\n\n\nThese maps enjoy several properties and many interesting orbits are proved to exist. Here we recall some results concerning periodic orbits. We start with the following\n\\begin{definition}\n  Fix two coprime integers $p,q$ with $q\\neq 0$. An orbit $(x_n,y_n)_{n\\in\\ZZ}$ of $\\tilde{S}$ is said $(p,q)$-periodic if $(x_{n+q},y_{n+q})=(x_n+p,y_n)$ for every $n\\in\\ZZ$. Moreover, we say that it is stable (in the sense of Lyapunov) if for every $\\varepsilon>0$ there exists $\\delta>0$ such that for every $(\\hat{x}_0,\\hat{y}_0)$ satisfying $|(x_0,y_0)-(\\hat{x}_0,\\hat{y}_0)|<\\delta$ we have $|\\tilde{S}^n(\\hat{x}_0,\\hat{y}_0)-({x}_n,{y}_n)|<\\varepsilon$ for every $n\\in\\ZZ$. \n\\end{definition}\n\n\n\n\n\\begin{remark}\\label{rem_periodic}\n  Note that $(q,p)$-periodic orbits correspond to fixed points of the map $\\sigma^{-p}\\circ \\tilde{S}^q$. This follows from the fact that $\\tilde{S}$ is a diffeomorphism defined on the cylinder. Each point of the orbit is a fixed point of $\\sigma^{-p}\\circ\\tilde{S}^q$ and a fixed point of $\\sigma^{-p}\\circ\\tilde{S}^q$ is the initial condition of a $(p,q)$-periodic orbit. Note that different fixed points may correspond to the same orbit but not viceversa. Moreover, if an orbit is $(q,p)$-periodic then it cannot be also $(q',p')$-periodic unless $p/q=p'/q'$. Actually, let $\\xi=(x,y)$ and suppose that $\\xi=\\sigma^{-p}\\circ\\Phi^q(\\xi)=\\sigma^{-p'}\\circ \\Phi^{q'}(\\xi)$. Then $\\sigma^{p}(\\xi)=\\Phi^q(\\xi)$ and $\\sigma^{p'}(\\xi)=\\Phi^{q'}(\\xi)$ from which $\\Phi^{qq'}(\\xi)=\\sigma^{pq'}(\\xi)=\\sigma^{p'q}(\\xi)$ and $pq'=p'q$.   \n  Finally, the stability of a $(q,p)$-periodic orbit corresponds to the stability in the sense of Lyapunov of the corresponding fixed point of the map $\\sigma^{-p}\\circ\\tilde{S}^q$.\n\\end{remark}\n\n\nA particular class of periodic orbits are the so called Birkhoff periodic orbits.\n\\begin{definition}\n  Fix two coprime integers $p,q$ with $q\\neq 0$. An orbit $(x_n,y_n)_{n\\in\\ZZ}$ of $\\tilde{S}$ is said a Birkhoff $(p,q)$-periodic orbit if there exists a sequence $(s_n,u_n)_{n\\in\\ZZ}$ such that\n  \\begin{itemize}\n  \\item $(s_0,u_0)=(x_0,y_0)$ \n  \\item $s_{n+1}>s_n$ \n  \\item $(s_{n+q},u_{n+q})=(s_{n}+1,u_{n})$\n  \\item $(s_{n+p},u_{n+p})=\\tilde{S}(s_{n},u_{n})$\n    \\end{itemize}\n \\end{definition}\n  \\begin{remark}\n    Note that a Birkhoff $(p,q)$-periodic orbit is a $(p,q)$-periodic orbit since\n    \\[\n(x_{n+q},y_{n+q})=(s_{np+qp},u_{np+qp})=(s_{np}+p,u_{np})=\\tilde{S}^n(s_0,u_0)+(p,0)=(x_{n}+p,y_{n}).\n    \\]\n    \\end{remark}\n\n\nThe existence of Birkhoff $(p,q)$-periodic orbits comes from Aubry-Mather theory. Here we give a related result \\cite[Th. 9.3.7]{katok_hass}\n\n\\begin{theorem}\\label{birk_orbits}\n  Let $S:\\AA\\rightarrow\\AA$ be an exact symplectic twist diffeomorphism that preserves and twists the ends infinitely and let $p,q$ be two coprime integers. Then there exist at least two Birkhoff $(p,q)$-periodic orbits for $S$. \n\\end{theorem}\n\\begin{remark}\nThe Theorem is proved via variational techniques. The periodic orbits correspond to critical points of an action defined in terms of the generating function. One of this point is a minimum and the other is a minimax if the critical points are isolated. \n  \\end{remark}\n\nIn the analytic case, something more can be said on the topology of these orbits.\n\n\\begin{proposition}\\label{unstable}\nLet $\\tilde{S}:\\Sigma\\rightarrow\\RR^2$ be an exact symplectic twist embedding satisfying condition \\eqref{def_cyl} and admitting a $(p,q)$-periodic orbit. Then there exists at least one $(p,q)$-periodic orbit that is unstable. \n\\end{proposition}\n\\begin{proof}\n  The proof is essentially given in \\cite{maroTMNA,ortega_fp,ortega_book}. We give here a sketch. It is enough to prove that there exists at least one unstable fixed point of the area and orientation preserving 1-1 real analytic map $\\sigma^{-p}\\circ \\tilde{S}^q$. Let us first note that since $\\tilde{S}$ is twist, the map $\\sigma^{-p}\\circ \\tilde{S}^q$ is not the identity. Actually, it is known (see for example \\cite{herman})) that if $\\tilde{S}$ is twist, then the image of a vertical line under $\\tilde{S}^q$ is a positive path, i.e. a curve such that the angle between the tangent vector and the vertical is always positive. This implies that $\\tilde{S}^q$ cannot be a horizontal translation.\\\\\nBy hypothesis the set of fixed points of $\\sigma^{-p}\\circ \\tilde{S}^q$ is not empty so that applying \\cite[Chapter 4.9, Theorem 15]{ortega_book} we deduce that every stable fixed point is an isolated fixed point.\\\\\nHence, if there exists some non isolated fixed point, it must be unstable. Finally, suppose that we only have isolated fixed points that are all stable. From \\cite[Chapter 4.5, Theorem 12]{ortega_book} they must all have index $1$. On the other hand, the Euler characteristic of the cylinder is null, and by the Poincar\\'e-Hopf index formula we have a contradiction. Hence, there must exists at least one fixed point that is unstable.\n   \\end{proof}\n\n\\begin{corollary}\n  In the conditions of Theorem \\ref{birk_orbits}, if $S$ is real analytic then there exists at least one unstable $(p,q)$-periodic orbit.\n\\end{corollary}\n\nIn the analytic case, the twist condition gives information on the structure of the set of $(p,q)$-periodic orbits. Actually the following result has been proved in \\cite{maroTMNA,ortega_pb}\n\n\\begin{theorem}\\label{maro_teo}\n  Consider a $C^1$-embedding $\\tilde{S}:\\Sigma\\rightarrow\\RR$ satisfying property \\eqref{def_cyl} and suppose it is exact symplectic and twist. Fix a positive integer $p$ and assume that for every $x\\in\\RR$ there exists $y\\in (a,b)$ such that\n  \\begin{equation}\\label{maro_cond}\n\\bar{x}(x,a)<x+p<\\bar{x}(x,y).\n  \\end{equation}\nThen the map $\\sigma^{-p}\\circ\\tilde{S}$ has at least two fixed points in $[0,1)\\times (a,b)$. Moreover, if $\\tilde{S}$ is real analytic then the set of fixed points is finite or the graph of a real analytic $1$-periodic function. In the first case the index of such fixed points is either $-1$, $0$, $1$ and at least one is unstable. In the second case, all the fixed points are unstable.\n  \\end{theorem}\n\n\\begin{remark}\n\tAubry-Mather theory gives a description, for fixed $p,q$ of those $(p,q)$-periodic orbits that are global minimizers. They can be ordered and if two of them are neighbouring, in the sense that there is no other minimal $(p,q)$-periodic orbit in the middle, then there are heteroclinic connections between them (\\cite{bangert,katok_hass}). In this case, the $(p,q)$-periodic orbits are unstable.  On the other hand, they can form an invariant curve. We stress that in the analytic case Theorem \\ref{maro_teo} gives the description of the set of all $(p,q)$-periodic orbits, not only those that are action minimizing.           \n\\end{remark}\n\n\n\n\n\n\n\n\\section{The bouncing ball map and its properties}\\label{sec:tennis}\n\nConsider the motion of a bouncing ball on a vertically\nmoving racket. We assume that the impacts do not affect the racket  whose vertical position is described by a\n$1$-periodic $C^k$, $k\\geq 2$, or real analytic function $f:\\RR\\rightarrow\\RR$. Let us start getting the equations of motion, following \\cite{maro5}. In an inertial frame, denote by $(\\to,w)$ the time of impact and the corresponding velocity just after the bounce, and by\n$(\\Pto,\\bar w)$ the corresponding values at the subsequent bounce.\nFrom\nthe free falling condition we have\n\\begin{equation}\\label{timeeq}\nf(t) + w(\\Pto-\\to) - \\frac{g}{2}(\\Pto -\\to)^2 = f(\\Pto) \\,,\n\\end{equation}\nwhere $g$ stands for the standard acceleration due to gravity.\nNoting that the velocity just before the impact at time $\\Pto$ is $w-g(\\Pto-\\to)$, using\nthe elastic impact condition and recalling that the racket is not affected by the ball, we obtain\n\\begin{equation}\n  \\label{veleq}\n\\bar{w}+w-g(\\Pto-\\to) = 2\\dot{f}(\\Pto)\\,,\n\\end{equation}\nwhere $\\dot{}$ stands for the derivative with respect to time. From conditions (\\ref{timeeq}-\\ref{veleq}) we can define a bouncing motion given an initial condition $(t,w)$ in the following way. If $w\\leq\\df(t)$ then we set $\\bar{t}=t$ and $\\bar{w}=w$. If $w>\\df(t)$, we claim that we can choose $\\bar{t}$ to be the smallest solution $\\bar{t}> t$ of \\eqref{timeeq}. Bolzano theorem gives the existence of a solution of \\eqref{timeeq} considering\n\\[\nF_t(\\bar{t})=f(t)-f(\\Pto) + w(\\Pto-\\to) - \\frac{g}{2}(\\Pto -\\to)^2 \n\\]\nand noting that $F_t(\\bar{t})<0$ for $\\Pto-\\to$ large and $F_t(\\bar{t})>0$ for $\\Pto-\\to\\rightarrow 0^+$. Moreover, the infimum $\\bar{t}$ of all these solutions is strictly larger than $t$ since if there exists a sequence $\\bar{t}_n\\rightarrow t$ satisfying \\eqref{timeeq} then,\n\\[\n w - \\frac{g}{2}(\\Pto_n -\\to) = (f(\\Pto_n)- f(t)) /(\\Pto_n-\\to)\n\\]\nthat contradicts $w>\\df(t)$ using the mean value theorem.\nFor this value of $\\bar{t}$, condition \\eqref{veleq} gives the updated velocity $\\bar{w}$.  \n\n\nFor $\\Pto-\\to>0$, we introduce the notation\n\\[\nf[\\to,\\Pto]=\\frac{f(\\Pto)-f(\\to)}{\\Pto-\\to},\n\\]\nand write\n\\begin{equation}\n  \\label{w1}\n\\Pto = \\to + \\frac 2g w -\\frac 2g f[\\to,\\Pto]\\,,\n\\end{equation}\nthat also gives\n\\begin{equation}\n  \\label{w2}\n\\bar{w}= w -2f\n[\\to,\\Pto]\n+ 2\\dot{f}(\\Pto).\n\\end{equation}\nNow we change to the moving frame attached to the racket, where the velocity after the impact is expressed as $v=w-\\dot{f}(t)$,\nand we get\nthe equations\n\\begin{equation}\\label{eq:unb}\n  \\left\\{\n  \\begin{split}\n\\Pto = {} &amp; \\to + \\frac 2g \\vo-\\frac 2g f[\\to,\\Pto]+\\frac 2g \\df(\\to)\\textcolor{blue}{\\,}\n\\\\\n\\Pvo = {} &amp; \\vo - 2f[\\to,\\Pto] + \\df (\\Pto)+\\df(\\to)\\textcolor{blue}{\\,.}\n\\end{split}\n\\right.\n\\end{equation}\n By the periodicity of the\nfunction $f$, the coordinate $t$ can be seen as an angle. Hence, equations \\eqref{eq:unb} define formally a map\n\\[\n\\begin{array}{rcl}\n\\tilde\\Psi: \n\\RR &amp; \\longrightarrow &amp; \\RR \\\\\n(\\to,\\vo) &amp; \\longmapsto &amp; (\\Pto, \\Pvo),\n\\end{array}\n\\]\nsatisfying $\\tilde\\Psi\\circ\\sigma=\\sigma\\circ\\tilde\\Psi$ and the associated map of the cylinder $\\Psi:\\AA\\rightarrow\\AA$.\n\nThis is the formulation considered by Kunze and Ortega\n\\cite{kunzeortega2}. Another approach was considered by Pustylnikov in\n\\cite{pust} and leads to a map that is equivalent to\n\\eqref{eq:unb}, see \\cite{maro3}.\nNoting that $w>\\df(t)$ if and only if $v>0$, we can define a bouncing motion as before and denote it as a sequence $(t_n,v_n)_{n\\in\\ZZ^+}$ with $\\ZZ^+=\\{n\\in\\ZZ \\::\\: n\\geq 0\\}$ such that $(t_n,v_n)\\in \\TT\\times [0,+\\infty)$ for every $n\\in\\ZZ^+$.\n\nThe maps $\\Psi$ and its lift $\\tilde{\\Psi}$ are only defined formally. In the following lemma we state that they are well defined and have some regularity.  \nLet us introduce the notation $\\RR_{v_*}=\\{v\\in\\RR \\: :\\: v>v_* \\}$,  $\\AA_{v_*} = \\TT\\times \\RR_{v_*}$ and $\\RR^2_{v_*}=\\RR\\times\\RR_{v_*}$. We will denote the $\\sup$ norm by $\\norm{\\cdot}$ and recall that $f\\in C^k(\\TT), k\\geq 2$ or real analytic.\n\n\\begin{lemma}\n  \\label{well_def}\nThere exists $v_*>4\\norm{\\df}$ such that the map $\\Psi:\\AA_{v_*}\\rightarrow \\AA$ is a $C^{k-1}$ embedding. If $f$ is real analytic, then $\\Psi$ is a real analytic embedding. \n\\end{lemma}\n\\begin{proof}\nThe proof is essentially given in \\cite{maro5}. We give here a sketch.\nTo prove that the map is well defined and $C^{k-1}$ we denote $v_{**}=4\\norm{\\df}$ and apply the implicit function theorem to the $C^{k-1}$ function $F :\\{(\\to,\\vo,\\Pto,\\Pvo)\\in \\AA_{v_{**}} \\times \\RR^2 \\: :\\:\\to\\neq\\Pto   \\} \\rightarrow \\RR^2$\ngiven by\n\n\\begin{equation*}\n F(\\to,\\vo,\\Pto,\\Pvo):=\n\\left(\n\\begin{split}\n&amp; \\Pto - \\to - \\frac 2g \\vo + \\frac 2g f[\\to,\\Pto]-\\frac 2g \\df (\\to) \\\\\n&amp; \\Pvo - \\vo + 2f[\\to,\\Pto] - \\df(\\Pto)-\\df(\\to)\n\\end{split}\n\\right),\n\\end{equation*}\nThis gives the existence of a $C^{k-1}$ map $\\Psi$ defined in $\\AA_{v_{**}}$ such that $F(\\to,\\vo,\\Psi(\\to,\\vo) )=0$. If $f$ is real analytic, we get that $\\Psi$ is real analytic applying the analytic version of the implicit function theorem. \\\\\nOne can easily check that $\\Psi$ is a local diffeomorphism since\n\\[\n\\det \\Dif_{\\to,\\vo} \\Psi (t,v) =-\\frac{\\det (\\Dif_{\\to,\\vo} F(\\to,\\vo,\\Psi(\\to,\\vo) ))}{ \\det (\\Dif_{\\Pto,\\Pvo} F(\\to,\\vo,\\Psi(\\to,\\vo) ))} \\neq 0 \\quad\\mbox{on }\\AA_{v_{**}}.\n\\]\nTo prove that $\\Psi$ is a global embedding we need to prove that it is injective in $\\AA_{v_*}$ for $v_*$ eventually larger than $v_{**}$. This can be done as in \\cite{maro5}. \n\\end{proof}\n\n\\begin{remark}\n  Note that we cannot guarantee that if $(\\to_0,\\vo_0) \\in \\AA_{v_*}$ then $\\Psi(\\to_0,\\vo_0) \\in \\AA_{v_*}$. This is reasonable, since the ball can slow down decreasing its velocity at every bounce.\n \n\n\n\n \n  However, a bouncing motion is defined for $v\\geq 0$\n\\end{remark}\n\n\\begin{remark}\n  From the physical point of view, the condition $\\Psi^n(\\to_0,\\vo_0)\\in\\AA_{v_*}$ for every $n$, implies that we can only hit the ball when it is falling. To prove it, suppose that $\\to_0 =0$ and let us see what happens at the first iterate. The time at which the ball reaches its maximum height is $t^{max}=\\frac{\\vo_0}{g}$. On the other hand, the first impact time $\\Pto$ satisfies,\n  \\[\n\\Pto \\geq \\frac{2}{g}\\vo_0 - \\frac{4}{g}\\norm{\\df}= t^{max}\\left(         2-\\frac{4}{\\vo_0}\\norm{\\df} \\right) > t^{max},\n\\]\nwhere the last inequality comes from $\\vo_0\\in\\RR_{v_*}$ and $v_*>4\\norm{\\df}$.\n\\end{remark}\n\n\nThe map $\\tilde\\Psi$ is exact symplectic if we pass to the variables time-energy $(\\to,\\Eo)$ defined by\n\\[\n (\\to,\\Eo) = \\left(\\to,\\frac{1}{2}\\vo^2\\right),\n\\]\nobtaining the conjugated map\n\\[\n\\Phi :\\AA_{\\Eo_*}\n\\longrightarrow  \\AA, \\qquad \\Eo_*=\\frac{1}{2}v_*^2\n\\]\ndefined by\n\\begin{equation}\\label{eq:unbe}\n  \\left\\{\n  \\begin{split}\n\\Pto =  &amp; \\to + \\frac 2g \\sqrt{2\\Eo}-\\frac 2g f[\\to,\\Pto]+\\frac 2g \\df(\\to)\n\\\\\n\\PEo =  &amp; \\frac{1}{2}\\left( \\sqrt{2\\Eo} - 2f[\\to,\\Pto] + \\df (\\Pto)+\\df(\\to) \\right)^2,\n\\end{split}\n\\right.\n\\end{equation}\nthat by Lemma \\ref{well_def} is a $C^{k-1}$-embedding or real analytic if $f$ is real analytic. More precisely, we have the following\n\\begin{lemma}\n  \\label{lemma:exact}\n  The map $\\Phi$ is exact symplectic and twist in $\\AA_{e_*}$.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  Moreover, $\\Phi$ preserves and twists infinitely the upper end.\n  \n\\end{lemma}\n\nThe map $\\Phi$ is not defined in the whole cylinder. However, it is possible to extend to the whole cylinder preserving its properties. More precisely:\n\\begin{lemma}\n  \\label{extension}\nThere exists a $C^{k-2}$ exact symplectic and twist diffeomorphism $\\bar{\\Phi}:\\AA\\rightarrow\\AA$ such that $\\bar{\\Phi} \\equiv \\Phi$ on $\\AA_{e_*}$ and $\\bar{\\Phi}\\equiv\\Phi_0$ on $\\AA\\setminus\\AA_{\\frac{e_*}{2}}$ where $\\Phi_0$ is the integrable twist map $\\Phi_0(t,e)=(t+e,e)$. Moreover, $\\bar{\\Phi}$ preserves the ends of the cylinder and twists them infinitely. If $f$ is real analytic, then the extension $\\bar{\\Phi}$ is $C^\\infty$.\n\\end{lemma}\n\nDue to Lemma \\ref{well_def} and the fact that the maps $\\Phi$ and $\\Psi$ are conjugated we can consider the lift $\\tilde{\\Phi}:\\RR^2_{e_*}\\rightarrow\\RR^2$ and give the following\n\\begin{definition}\n  A complete bouncing motion $(t_n,e_n)_{n\\in\\ZZ}$ is a complete orbit of the map $\\tilde{\\Phi}$.\n  \\end{definition}\n\nIn the following section we will study the existence and properties of periodic complete bouncing motions as orbits of the map $\\tilde{\\Phi}$ defined in \\eqref{eq:unbe}. \n\n\n\\section{Periodic bouncing motions}\\label{sec:per}\nThe existence of periodic complete bouncing motions follows from an application of Aubry-Mather theory. In this section we prove it and in the analytic case we give some results on the structure of such motions and their stability.\n\nWe start saying that a complete bouncing motion is $(q,p)$-periodic if in time $p$ the ball makes $q$ bouncing before repeating the motion, more precisely:\n\\begin{definition}\n  Given two coprime integers $q,p\\in\\ZZ^+$, a complete bouncing motion $(t_n,e_n)_{n\\in\\ZZ}$ is $(q,p)$-periodic if the corresponding orbit of $\\tilde{\\Phi}$ is $(p,q)$-periodic. Moreover, we say that it is stable if the corresponding orbit is stable.\n\\end{definition}\n\nThe existence of two $(q,p)$-periodic complete bouncing motions comes from an application of Theorem \\ref{birk_orbits}.\n\n\\begin{theorem}\\label{pre_bouncing}\nFor every $f\\in C^3$ there exists $\\alpha>0$ such that for every positive coprime $p,q$ satisfying $p/q>\\alpha$ there exist two different $(q,p)$-periodic complete bouncing motions. Moreover, if $f$ is real analytic, then at least one of the $(q,p)$-periodic complete bouncing motion is unstable.  \n  \\end{theorem}\n\\begin{proof}\n  By Lemma \\ref{lemma:exact}, the map $\\Phi$ defined in \\eqref{eq:unbe} is a $C^2$ exact symplectic twist embedding in $\\AA_{e_*}$ for some large $e_*$ depending on $\\norm{\\df}$. Moreover $\\Phi$ preserves and twists infinitely the upper end. Its extension $\\bar{\\Phi}$ coming from Lemma \\ref{extension} satisfies the hypothesis of Theorem \\ref{birk_orbits} and admits for every coprime $p,q$ two Birkhoff $(q,p)$-periodic orbit. Consider the Birkhoff $(q,p)$-periodic orbits for $p,q$ positive and $p/q$ large enough such that\n  \\begin{equation}\\label{choice_pq}\n  \\frac{p}{q}-1-\\frac{4}{g}\\norm\\df>\\frac{2}{g}\\sqrt{2e_*}.\n  \\end{equation}\n  Since Birkhoff periodic orbits are cyclically ordered, from \\cite[lemma 9.1]{gole} we have that they satisfy the estimate $t_{n+1}-t_n>p/q - 1$. On the other hand, from \\eqref{eq:unbe},\n  \\[\n  t_{n+1}-t_n\\leq\\frac{2}{g}\\sqrt{2e_n}+\\frac{4}{g}\\norm\\df \n  \\]\n  so that it must be\n  \\[\n\\frac{2}{g}\\sqrt{2e_n}+\\frac{4}{g}\\norm\\df>\\frac{p}{q}-1.\n  \\]\nBy the choice of $p/q$ in \\eqref{choice_pq} we have that $e_n>e_*$ for every $n\\in\\ZZ$ so that these Birkhoff periodic orbits are all contained in $\\AA_{e_*}$ and so they are orbits of the original map $\\Phi$. If $f$ is real analytic the result on the instability follows from Proposition \\ref{unstable}.  \n\\end{proof}\n\n\n\n\nTheorem \\ref{pre_bouncing} gives the existence of $(p,q)$-periodic bouncing motions but does not give information on the topological structure of the set of $(p,q)$-periodic bouncing motions for fixed values of $(p,q)$. This is a complicated issue and some results comes from Aubry-Mather theory. However, here we will see which results can be obtained using Theorem \\ref{maro_teo}. To state this result we give the following\n\\begin{definition}\n \n  We say that the set of $(p,q)$-periodic complete bouncing motions is (analytically) degenerate if there exists a real analytic curve $(t(s),e(s))$ such that $(t(s+1),e(s+1))=(t(s)+1,e(s))$ for every $s\\in\\RR$, the function $t(s)$ is bijective for $s\\in[0,1)$ and $(t_n,e_n)_{n\\in\\ZZ}$ is a $(p,q)$-periodic complete bouncing motion if and only if there exist $n_0,s_0$ such that $(t_{n_0},e_{n_0})=(t(s_0),e(s_0))$.          \n  \\end{definition}\n\n\nThe following result is a quite direct consequence of Lemma \\ref{lemma:exact}.\n\\begin{proposition}\nIf $f$ is real analytic, then there exists $\\alpha>0$ such that for every $p>\\alpha$ the set of $(p,1)$-periodic complete bouncing motions is either finite or degenerate. In the first case at least one $(p,1)$-periodic complete bouncing motion is unstable. In the degenerate case, all $(p,1)$-periodic complete bouncing motion are unstable.        \n  \\end{proposition}\n\\begin{proof}\n  By Lemma \\ref{lemma:exact} the map $\\tilde{\\Phi}$ is exact symplectic and twist on $\\RR^2_{e_*}$. Moreover, let us choose $a$ such that $e_*<\\sqrt{2a}$ and $p$ such that\n  \\[\n\\frac{gp}{2}-2\\norm{\\dot{f}}>\\sqrt{2a}.\n\\]\nLet us start with the following estimates for the lift $\\tilde{\\Phi}$ that can be easily proved by induction on $n$ from \\eqref{eq:unbe}:\n  \\begin{equation}\\label{stim_t_e}\n  \t|\\sqrt{2e_n}-\\sqrt{2e}|\\leq 4n\\norm{\\dot{f}}, \\qquad \\left|t_n-t-\\frac{2}{g}n\\sqrt{2e}\\right|\\leq 4n^2\\frac{\\norm{\\dot{f}}}{g}.  \n  \\end{equation}\n  These give\n  \\[\n\\bar{t}(t,a)-t\\leq \\frac{2}{g}\\sqrt{2a}+4\\frac{\\norm{\\dot{f}}}{g}<p.\n\\]\nOn the other hand, Lemma \\ref{lemma:exact} also gives that $\\tilde{\\Phi}$ twists the upper end infinitely, i.e. $\\lim_{e\\rightarrow +\\infty}\\bar{t}(t,e)-t=+\\infty$ uniformly in $t$. Hence, condition \\eqref{maro_cond} is satisfied in the strip $\\Sigma=[a,+\\infty)$ for every $p$. The conclusion comes from the application of Theorem \\ref{maro_teo} and the fact that $(p,1)$-periodic complete bouncing motions corresponds to the fixed points of the map $\\sigma^{-p}\\circ\\tilde{\\Phi}$.\n  \\end{proof}\n\nThis result is not trivially extended to $(p,q)$-periodic motions for $q\\geq 1$ since $\\Phi^q$ need to be exact symplectic and twist. The twist condition is in general not preserved by composition, while the exactness is, as shown in the following result, inspired by \\cite{bosc_ort}\n\\begin{lemma}\\label{lemma_isot_exact}\nFor every $q>0$ there exists $e_\\#\\geq e_*$ such that for every $p>0$ the map $\\sigma^{-p}\\circ\\tilde{\\Phi}^q:\\RR^2_{e_\\#}\\rightarrow\\RR^2$ is exact symplectic\n  \\end{lemma}\n\\begin{proof}\n  Since the map $\\tilde{\\Phi}$ is defined in $\\RR^2_{e_*}$, the image $\\tilde{\\Phi}(\\RR^2_{e_*})$ could not be contained in $\\RR^2_{e_*}$ so that the iterate could not be defined. From \\eqref{eq:unb} we have that $|\\bar{v}-v|\\leq 4\\norm{\\dot{f}}$ from which, the map $\\tilde{\\Psi}^q$ is well defined in $\\RR^2_{v_\\#}$ with $v_\\#=v_* + 4 q \\norm{\\dot{f}}$. Hence passing to the variables $(t,e)$, the map $\\tilde{\\Phi}^q$ is defined in $\\RR^2_{e_\\#}$ with $e_\\#=\\frac{1}{2}v_\\#^2$.\n \n  Since $\\Phi$ is exact symplectic, there exists $V:\\RR^2_{e_\\#}\\rightarrow\\RR$ such that, defining $\\lambda=e dt$ we have $\\tilde{\\Phi}^*\\lambda-\\lambda=dV$. Hence, denoting $V_1=V+V\\circ\\tilde{\\Phi}+\\dots+V\\circ\\tilde{\\Phi}^{q-1}$ it holds that $V_1\\circ\\sigma=V_1$ on $\\RR^2_{e_\\#}$  and\n  \\begin{align*}\n    dV_1 &amp;= dV+\\tilde{\\Phi}^*dV+\\dots+(\\tilde{\\Phi}^{q-1})^*dV \\\\\n    &amp; = \\tilde{\\Phi}^*\\lambda-\\lambda + (\\tilde{\\Phi}^2)^*\\lambda-\\tilde{\\Phi}^*\\lambda             +\\dots+(\\tilde{\\Phi}^q)^*\\lambda-(\\tilde{\\Phi}^{q-1})^*\\lambda \\\\\n    &amp;= (\\tilde{\\Phi}^q)^*\\lambda-\\lambda\n    \\end{align*}\n  from which $\\tilde{\\Phi}$ is exact symplectic. Finally, we conclude noting that by the definition of $\\sigma^{-p}$,  $(\\sigma^{-p}\\circ\\tilde{\\Phi}^q)^*\\lambda = (\\tilde{\\Phi}^q)^*\\lambda$.  \n\\end{proof}\n\nConcerning the twist condition the following technical result holds.\n\\begin{lemma}\\label{twist_q}\n  Let $f$ be $C^2$. For every $q\\geq 1$ there exist $\\epsilon_q>0$, $e^q>e_\\#$, such that if $\\norm{\\ddf}<\\epsilon_q$ then\n  \\[\n\\frac{\\partial t_q}{\\partial e}=\\frac{2q}{g\\sqrt{2e}}(1+\\tilde{f}_q(t,e))\n  \\]\nwhere $|\\tilde{f}_q(t,e)|< 1/2$ on $\\RR^2_{e^q}$.\n  \\end{lemma}\n\n\\begin{proof}\n  To simplify the computation, let us perform the change of variables $y=\\sqrt{2e}+\\df(t)$ so that \\eqref{eq:unbe} becomes\n\\begin{equation}\\label{eq:unby}\n  \\left\\{\n  \\begin{split}\n\\Pto =  &amp; \\to + \\frac 2g y-\\frac 2g f[\\to,\\Pto]\n\\\\\n\\bar{y} =  &amp; y  - 2f[\\to,\\Pto] + 2\\df (\\Pto).\n\\end{split}\n\\right.\n\\end{equation}\nSince $\\partial t_q/\\partial e=(\\partial t_q/\\partial y) (\\partial y/\\partial e)$ it is enough to prove that for every $q\\geq 1$ there exist $\\epsilon_q>0$ and $y^q$ large, such that if $\\norm{\\ddf}<\\epsilon_q$ then \n  \\begin{equation}\\label{new_th}\n\\frac{\\partial t_q}{\\partial y}=\\frac{2q}{g}(1+\\tilde{f}_q(t,y))\n\\end{equation}\nwhere $|\\tilde{f}_q(t,y)|< 1/2$ on $\\RR^2_{y^q}$.\n\nLet us start with some estimates that hold for every $q\\geq 1$. It comes from \\eqref{eq:unby} that \n\\begin{equation}\\label{y_q}\ny_q=y+2\\sum_{i=1}^{q}\\df(t_i)+2\\sum_{i=1}^{q}f[t_{i-1},t_{i}]\n\\end{equation}\nso that\n\\[\n|y_q-y|\\leq 4q\\norm\\df.\n\\]\nUsing it,\n\\begin{equation}\\label{t_q}\n|t_q-t_{q-1}|\\geq \\frac{2}{g}y-\\frac{2}{g}(4q+1)\\norm\\df,\n\\end{equation}\nfrom which there exists $y^q$ large enough and $C_q$ such that \n\\begin{equation}\\label{fqq-11}\n\\left|\\partial_{t_q}f[t_{q-1},t_q]\\right|=\\left|\\frac{\\dot{f}(t_q)-f[t_{q-1},t_q]}{t_q-t_{q-1}}\\right|\\leq\n\\frac{g\\norm{\\dot{f}}}{y-(4q+2)\\norm{\\dot{f}}}<\\frac{C_q}{y} \\qquad \\mbox{on } \\RR^2_{y^q}\n\\end{equation}\nand analogously\n\\begin{equation}\\label{fqq-12}\n\\left|\\partial_{t_{q-1}}f[t_{q-1},t_q]\\right|<\\frac{C_{q-1}}{y} \\qquad \\mbox{on } \\RR^2_{y^{q-1}}\n\\end{equation}\n  Now we can start the proof by induction on $q\\geq 1$. For $q=1$ we have, differentiating the first equation in \\eqref{eq:unby}\n  \\begin{equation}\\label{t_1_y}\n\\frac{\\partial t_1}{\\partial y}\\left(1+\\frac{2}{g}\\partial_{t_{1}}f[t,t_1]\\right)=\\frac{2}{g}y\n\\end{equation}\n  from which, using \\eqref{fqq-11} we get the initial step taking a suitably larger value of $y^1$.\\\\\nFor the inductive step, let us suppose \\eqref{new_th} to be true for $i=1,\\dots,q-1$. By implicit differentiation\n\n\\begin{equation}\\label{t_q_e}\n\\frac{\\partial t_q}{\\partial y}\\left(1+\\frac{2}{g}\\partial_{t_{q}}f[t_{q-1},t_q]\\right)=\\frac{2}{g}\\frac{\\partial y_{q-1}}{\\partial y}+\\frac{\\partial t_{q-1}}{\\partial y}\\left(1-\\frac{2}{g}\\partial_{t_{q-1}}f[t_{q-1},t_q]\\right)\n\\end{equation}\nFrom \\eqref{y_q} and the inductive hypothesis we have\n\\begin{align*}\n  \\frac{\\partial y_{q-1}}{\\partial y}&amp;=1+2\\sum_{i=1}^{q-1}\\left(\\ddf(t_i) \\frac{\\partial t_i}{\\partial y}-\\partial_{t_{i}}f[t_{i-1},t_{i}]\\frac{\\partial t_i}{\\partial y} -\\partial_{t_{i-1}}f[t_{i-1},t_{i}]\\frac{\\partial t_{i-1}}{\\partial y}\\right)\\\\\n   &amp;=1+2\\sum_{i=1}^{q-1}\\left(\\ddf(t_i) (1+\\tilde{f}_i)-\\partial_{t_{i}}f[t_{i-1},t_{i}](1+\\tilde{f}_i) -\\partial_{t_{i-1}}f[t_{i-1},t_{i}](1+\\tilde{f}_{i-1})\\right).\n  \\end{align*}\nSince by (\\ref{fqq-11}-\\ref{fqq-12}) for every $i$ $|\\partial_{t_{i}}f[t_{i-1},t_{i}]|$ tends to zero uniformly as $y \\rightarrow +\\infty$ and $|\\tilde{f}_i|<1/2$ for $y$ large, we can find new constants $C_{q-1}$ and $y^{q-1}$ such that on $\\RR^2_{y^{q-1}}$,\n\\begin{equation}\\label{stim_y}\n\\frac{\\partial y_{q-1}}{\\partial y} = 1 + \\bar{f}_{q-1}(t,y)  \\qquad \\mbox{with } |\\bar{f}_{q-1}|\\leq C_{q-1}\\norm\\ddf.\n\\end{equation}\nUsing it and the inductive hypothesis in \\eqref{t_q_e} we get\n\\begin{align}\\label{final}\n  \\frac{\\partial t_q}{\\partial y}\\left(1+\\frac{2}{g}\\partial_{t_{q}}f[t_{q-1},t_q]\\right)&amp;=\\frac{2}{g}(1 + \\bar{f}_{q-1}(t,y))+\\frac{2(q-1)}{g}(1+\\tilde{f}_{q-1}(t,y))\\left(1-\\frac{2}{g}\\partial_{t_{q-1}}f[t_{q-1},t_q]\\right)\\\\\n  &amp;=\\frac{2q}{g}\\left(1+ \\tilde{f}_q(t,y)\\right)\n\\end{align}\nwhere,\n\\[\n\\tilde{f}_q(t,y)=\\frac{1}{q}\\bar{f}_{q-1}(t,y)+\\frac{q-1}{q}\\tilde{f}_{q-1}(t,y)+\\frac{2(q-1)}{gq}\\partial_{t_{q-1}}f[t_{q-1},t_q](1+\\tilde{f}_{q-1}(t,y)).\n\\]\nNow (\\ref{fqq-11}-\\ref{fqq-12}) and \\eqref{stim_y} imply \n\\[\n|\\tilde{f}_q|<\\frac{C_{q-1}}{q}\\norm\\ddf+\\frac{q-1}{2q}+\\frac{C'_{q-1}}{y}\n\\]\nso that we can find $\\epsilon_q$ and $y_q$ such that if $\\norm\\ddf<\\epsilon_q$ then $|\\tilde{f}_q|<\\frac{1}{2}-\\frac{1}{2q}$ on $\\RR^2_{y^{q}}$. Plugging it into \\eqref{final} and using again (\\ref{fqq-11}-\\ref{fqq-12}) we get the thesis, eventually increasing $y^q$.  \n\n\n\\end{proof}\n\nThis is used to prove the following result\n\\begin{proposition}\nSuppose that $f$ is real analytic. For every $q>0$ there exist $\\alpha>0$ and $\\epsilon_q>0$ such that if $p>\\alpha$ and $\\norm{\\ddf}<\\epsilon_q$ then the set of $(p,q)$-periodic complete bouncing motion is either finite or degenerate. In the first case at least one $(p,q)$-periodic complete bouncing motion is unstable. In the degenerate case, all $(p,q)$-periodic complete bouncing motion are unstable.  \n\\end{proposition}\n\n\n\\begin{proof}\n  We would like to apply Theorem \\ref{maro_teo} to the map $\\tilde{\\Phi}^q$, noting that $(p,q)$-periodic bouncing motions correspond to fixed points of the map $\\sigma^{-p}\\circ\\tilde{\\Phi}^q$. Let us fix $q>0$. In Lemma \\ref{lemma_isot_exact} we proved that $\\tilde{\\Phi}^q$ is exact symplectic in $\\RR^2_{e_\\#}$ for some $e_\\#$ depending on $q$. Moreover, by Lemma \\ref{twist_q}, there exist $\\epsilon_q$ and $e^q>e_\\#$ such that if $\\norm{\\ddf}<\\epsilon_q$ then $\\tilde{\\Phi}^q$ is also twist on $\\RR^2_{e^q}$. Now choose $p>0$ such that\n  \\[\n  \\frac{gp}{2q}-2q\\norm{\\dot{f}}>e^q.\n  \\]  \n   Hence, there exist $b>a$ such that\n  \\[\n  e^q<\\sqrt{2a}<\\frac{gp}{2q}-2q\\norm{\\dot{f}}<\\frac{gp}{2q}+2q\\norm{\\dot{f}}<\\sqrt{2b}.\n  \\] \n  This choice for $a,b$ gives condition \\eqref{maro_cond} on the strip $\\Sigma=\\RR\\times (a,b)$. Actually, from \\eqref{stim_t_e},\n  \\begin{align*}\n  t_q(t,b)-t &amp; \\geq\\frac{2}{g}q\\sqrt{2b}-4q^2\\frac{\\norm{\\dot{f}}}{g}>p \\\\\n  t_q(t,a)-t &amp; \\leq\\frac{2}{g}q\\sqrt{2a}+4q^2\\frac{\\norm{\\dot{f}}}{g}<p.\n  \\end{align*}\n  This concludes the proof.\n  \\end{proof} \n\n\n\n&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:1,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\\subsection{Deligne's category  $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_t)$}\nFrom the perspective of the\nKilling-Cartan-Weyl classification of simple Lie algebras\nand their representation theory in terms of highest weights, root systems, Weyl groups and associated combinatorics\nit is not so easy to \nunderstand the extreme uniformity in the representation theory \nthat exists among different Lie groups. With possible application \nto a universal Chern-Simons type knot invariant in mind, P. Vogel \\cite{Vog1999}\ntried to define a universal Lie algebra, $\\mathfrak{g}(\\alpha:\\beta:\\gamma)$ \ndepending on three  {\\em Vogel parameters} that determine a point \n$(\\alpha:\\beta:\\gamma)$ in the {\\em Vogel plane}, in which all simple \nLie algebras find their place. The dimension of the Lie algebra \n$\\mathfrak{g}(\\alpha:\\beta:\\gamma)$ is given by a universal rational expression\n\\begin{equation*}\n\\dim \\mathfrak{g}(\\alpha:\\beta:\\gamma)\\, = \\, \\frac{(\\alpha-2t)(\\beta-2t)(\\gamma-2t)}{\\alpha\\beta\\gamma},\\qquad\nt=\\alpha+\\beta+\\gamma ,\n\\end{equation*} and similar universal rational formulas can be\ngiven for the dimensions of irreducible constituents of $S^2\\mathfrak{g}, S^3\\mathfrak{g}$ and \n$S^4\\mathfrak{g}$. Although the current status of Vogel's suggestions is unclear to us, \nthese ideas have led to many interesting developments, such as the discovery of \n$E_{7\\frac{1}{2}}$ by Landsberg and Manivel, \n\\cite{LM2002}, \\cite{LM2004}, \\cite{LM2006}, \\cite{LM2006a},    \\cite{LM2006a}.\n\nIn order to interpolate within the classical $A,B,C,D$ series of Lie algebras, \nDeligne has defined $\\otimes$-categories\n\\[ \\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_t),\\;\\; \\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(O_t), \\]\nwhere $t$ is a parameter that can take on any complex value. \n(The category $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(Sp_{2t})$ \n is usually not discussed as it can be \nexpressed easily in terms of the category $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(O_T)$ with $T=-2t$.)\nIf $n$ is an\ninteger, there are natural surjective functors\n\\[\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_n) \\to \\mathop{\\mathrm{Rep}}(GL_n)\\]\nIn the tannakian setup one would attempt to reconstruct a group $G$ from its\n$\\otimes$-category of representations $\\mathop{\\mathrm{Rep}}(G)$ using a fibre functor to\nthe $\\otimes$-category $Vect$ of vector spaces, but Deligne's category has no fibre functor and is not tannakian, or, in general, even abelian. (However, when $t$ is not an integer, the category \\emph{is}\nabelian semisimple.)  \n\nAccording to the axioms, in an arbitrary rigid $\\otimes$-category $\\mathcal{R}$ there exist a unit object~${\\bf 1}$ and \ncanonical evaluation and coevaluation morphisms\n\\[ \\epsilon: V \\otimes V^* \\to {\\bf 1},\\qquad \\delta: {\\bf 1} \\to V \\otimes V^*\\] \nso that we can assign to any object a dimension by setting\n\\[ \\dim V =\\epsilon \\circ \\delta  \\in \\mathop{\\mathrm{End}}({\\bf 1}) \\in \\mathbb{C}. \\]\n\nA simple diagrammatic description of $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_t)$ can be found in\n\\cite{CW2012}. One first constructs a skeletal category ${\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}\\,}_0(GL_t)$, \nwhose objects are words in the alphabet $\\{\\bullet, \\circ\\}$. The letter\n$\\bullet$ corresponds to the fundamental representation $V$ of $GL_t$, \n$\\circ$ to its dual $V^*$. A~$\\otimes$-structure is induced by concatenation \nof words. The space of morphisms between two such words is the $\\mathbb{C}$-span of \na set of admissible graphs, with vertices the circles and dots of the two \nwords.  Such an admissible graph consists of edges between the letters of \nthe two words. Each letter is contained in one edge. Such an edge connects \ndifferent letters of the same word or the same letter if the words are \ndifferent.\n$$\\vcenter{ \\xymatrix{\n\\bullet \\ar@/_2ex/@{-}[rr] &amp; \\bullet \\ar@{-}[ld] &amp; \\circ &amp; \\circ \\ar@{-}[d] \\\\\n\\bullet \\ar@{-}[rrd] &amp; \\circ  \\ar@/^/@{-}[r] \\ar@/_/@{-}[r]&amp; \\bullet &amp; \\circ \\ar@{-}[lld] \\\\\n\t\t&amp; \\circ &amp; \\bullet &amp; \\\\  \n} } \n= t \\cdot\n\\left( \\vcenter{ \\xymatrix{\\bullet \\ar@/_2ex/@{-}[rr] &amp; \\bullet \\ar@{-}[ddr] &amp; \\circ &amp; \\circ \\ar@{-}[ddll] \\\\\n &amp;  &amp;  \\\\\n\t\t&amp; \\circ &amp; \\bullet &amp; \\\\  \n}} \\right) $$\nThe composition is juxtaposition of the two graphs, followed by\nthe elimination of loops, which results in a factor $t$.\\\\\n\nDeligne's\ncategory is now obtained by first forming its additive hull by introducing\nformally direct sums  and then passing to the \nKaroubian hull, i.e. forming a category of pairs $(W,e)$, consisting of \nan object together with an idempotent:\n\\[\\mathop{\\underline{\\smash{\\mathrm{Rep}}}} (GL_t) =({\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}\\,}_0(GL_t)^{\\text{add}})^\\text{Karoubi}. \\]\n\n\\bf Example. \\rm  Consider the word $\\bullet \\bullet$ and \nthe morphisms $\\mathrm{Id}$ and $\\mathrm{Swap}$ with the obvious meaning. \nOne then can put\n\\[ S^2V=(\\bullet \\bullet, s), \\;\\;\\wedge^2 V=(\\bullet\\bullet, a),\\]\nwhere\n\\[ s=\\frac{1}{2}(\\mathrm{Id}+\\mathrm{Swap}),\\;\\;a=\\frac{1}{2}(\\mathrm{Id}-\\mathrm{Swap})\\]\nso that in $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(Gl_t)$ one has:\n\\[ V \\otimes V=(\\bullet \\bullet ,Id)=S^2V \\oplus \\wedge^2V,\\]\nwhich upon taking dimensions is the identity\n\\[  t^2 = \\frac{t(t+1)}{2}+\\frac{t(t-1)}{2} .\\]\n\n\\subsection{`Spaces of sections' as objects in Deligne's category and the beta integral.}\nAs above, we assume that $n$ is a natural number. Write $t=N+1$ and let $V_t=V$ be the fundamental object of $\\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_t)$ so that\n$\\dim V_t=t$. We do not define the projective space $\\P =\\P^N$, \nbut we can pretend that, in the sense of Deligne, the space of global sections is\n\\[ H(\\mathcal{O}_{\\P}(n)) :=\\mathop{\\mathrm{Sym}^n}(V_t^*) \\in \\mathop{\\underline{\\smash{\\mathrm{Rep}}}}(GL_t) .\\]\nIts dimension is then, as expected\n\\begin{equation}\n\\chi(\\mathcal{O}_{\\P}(n)) :=\\dim H (\\mathcal{O}_{\\P}(n))={N+n \\choose n} \\label{chi-interpret},\n\\end{equation}\n(interpreted in the obvious way as a polynomial\nin $N$ if $N\\not\\in\\mathbb{Z}$),\nso that e.g.\n\\[\\chi(\\mathcal{O}_{\\P^{1/2}}(2))=\\frac{3}{8}.\\]\nThe Poincar\\'e series \n\\[P(y):=\\sum_{n=0}^{\\infty} \\chi(\\mathcal{O}_{\\P}(n)) y^n =\\frac{1}{(1-y)^{N+1}},\\]\nwhich is consistent with the idea that $\\dim V_t = N+1$.\n\n\\medskip\nReturning to the question posed at the beginning, \n`is there a way to extend the interpolation of $\\chi$\nindividually to the Chern and the Todd ingredients?', we reason as\nfollows. If $X$ is a smooth projective $n$-dimensional variety, and $E$ a vector \nbundle on $X$, then the Euler characteristic\n\\[\\chi(X,E):=\\sum_{i=0}^n (-1)^i\\dim H^i(X,E)\\]\ncan be expressed in terms of characteristic numbers\n\\[\\chi(X,E)=\\int_X \\mathop{\\mathrm{ch}}(E) \\cdot \\mathop{\\mathrm{td}}(X) . \\] \nHere the integral in the right hand side is usually\n interpreted \nas resulting from evaluating the cap product with the fundamental class $[X]$\non the cohomology algebra $H^*(X)$, and the Chern character and Todd class\nare defined in terms of the Chern roots $x_i$ of $E$ and $y_i$ of $TX$:\n\\[\\mathop{\\mathrm{ch}}(E)=\\sum_{i=1}^r e^{x_i}\\,, \\qquad \\mathop{\\mathrm{td}}(X)=\\prod_{i=1}^n \\frac{y_i}{1-e^{-y_i}} .\\]\nThe cohomology ring of an $n$-dimensional projective space is\na truncated polynomial ring:\n\\[H^*(\\P^N)=\\mathbb{Z}[\\xi]/(\\xi^{N+1})\\,, \\qquad\\xi=c_1(\\mathcal{O}(1)),\\]\nand it is not directly clear how to make sense of this if $N$ is not an \ninteger. Our tactic will be  to drop the relation \n\\[\\xi^{N+1}=0\\] \naltogether, thinking instead of $\\mathbb{Z}[\\xi]$  as a Verma module over the  $sl_2$\nof the Lefschetz theory, and replacing taking the  cap product \nwith integration. \nAs we will be integrating meromorphic functions in $\\xi$,\nthe polynomial ring is too small, and we put  \n\\[ \\hat{H}(\\P) :=\\mathbb{Z}[[s]] \\supset \\mathbb{Z}[s] .\\] \nOne has\n\\[ \\chi(\\mathcal{O}(n))=e^{n\\xi}\\,, \\qquad \\mathop{\\mathrm{td}}(\\P)=\\left(\\frac{\\xi}{1-e^{-\\xi}}\\right)^{N+1}, \\]\nso Hirzebruch-Riemann-Roch reads\n\\[\\chi(\\mathcal{O}(n))=\\left[e^{n\\xi} \\left(\\frac{\\xi}{1-e^{-\\xi}}\\right)^{N+1}\\right]_N\\]\nwhere $[...]_N$ is the coefficient at $\\xi^N$ in a series. \nThis can be expressed analytically as a residue integral\nalong a small circle around the origin:\n\\begin{equation*}\n\\chi(\\mathcal{O}(n))=\\frac{1}{2\\pi i}\\oint e^{n \\xi}\\left(\\frac{\\xi}{1-e^{-\\xi}}\\right)^{N+1}\\frac{d\\xi}{\\xi^{N+1}} .\n\\end{equation*}\nAs it stands, it cannot be extended to non-integer\n$N$ since the factor $(1- e^{-\\xi})^{-N-1}$ is not univalued on the circle.  The usual way to adapt it is to  consider, for $n \\ge 0$, the integral along the   path \ngoing from $- \\infty - i \\varepsilon$ to $ - i \\varepsilon$, making a half--turn round the origin and going back, and choosing the standard branch of the logarithm.   Because of the change in the argument this integral is equal to  \n\\begin{equation*}\nJ(N,n) = \n\\frac{e^{2 \\pi i (N+1)}-1}{2 \\pi i} \n\\int_{-\\infty}^0 \\frac{e^{n \\xi}}{(1-e^{-\\xi})^{N+1}} \nd \\xi , \n\\end{equation*}\nor, after the substitution $s=e^{\\xi}$,\n\\begin{equation*}\nJ(N,n) = \n\\frac{e^{2 \\pi i (N+1)}-1}{2 \\pi i} \n\\int_0^1 s^{n-1} (1-1/s)^{-N-1} ds\n=\n\\frac{\\sin \\pi (N+1)}{ \\pi } \n\\int_0^1 s^{n+N} (1-s)^{-N-1} ds .\n\\end{equation*}\nUsing Euler's formulas\n\\begin{equation}\n\\Gamma(x)\\Gamma(1-x) =\\frac{\\pi}{\\sin \\pi x} \\,,\n\\label{gamma-one-minus-argument}\n\\end{equation}\n\\begin{equation}\n\\int_0^1 s^{\\alpha-1}(1-s)^{\\beta-1} ds = \\frac{\\Gamma(\\alpha)\\Gamma(\\beta)}{\\Gamma(\\alpha+\\beta)} \\,, \n\\label{beta-integral}\n\\end{equation}\nand\n\\begin{equation*}\n\\frac{\\Gamma(N+n+1)}{\\Gamma(n+1) \\Gamma(N+1)}\n=\n{N+n \\choose n} \\,,\n\\end{equation*}\nwe arrive at a version of RRH `with integrals':\n\n\\medskip\n\n\\noindent \\bf Proposition 1. \\rm Let $n \\in \\mathbb{N}$. Assume $\\mathop{\\mathrm{Re}} N  < 0, \\, N \\notin \\mathbb{Z}$. Interpret the Euler characteristic of~$\\P ^N$ via formula \\eqref{chi-interpret}. Then  \n\\begin{equation*} \\label{little-propo}\n\\chi_\\P(\\O (n)) = \\frac{e^{2 \\pi i (N+1)}-1}{2 \\pi i} \n\\int_{-\\infty}^0 \\frac{e^{n \\xi}}{(1-e^{-\\xi})^{N+1}} \nd \\xi .\n\\end{equation*}\n\\qed\n\n\\bigskip\n\n\n\n\n\\medskip\n\n\\subsection{The grassmannian and the Selberg integral.} For $\\P^N$, we ended up with the beta function, a one-dimensional integral, as the cohomology ring \nis generated by a single class~$\\xi$. In the cases  where the cohomology ring is generated\nby $k$ elements, for example the grassmannian $G(k,N+k)$,\nwe would like to see a $k$-dimensional integral appear in a natural way.\nFor $N \\in \\mathbb{N}$ the cohomology ring of the grassmannian $\\mathbb{G}:=G(k,N+k)$ \nis given by\n\\[H^*(G(k,N+k))=\\mathbb{C}[s_1,s_2,\\ldots,s_k]/(q_{N+1},q_{N+2}, \\dots,     q_{N+k}),\\]\nwhere the $s_i$ are the Chern classes of the universal rank $k$ sub-bundle\nand $q_i=c_i(Q)$ are formally the Chern classes of the universal quotient bundle $Q$ (so that the generating series of $q$'s is inverse to that of $s$'s). \nIn the same vein as before, we set:\n\\begin{equation}\n\\hat{H}^*(\\mathbb{G}):=\\mathbb{C}[[s_1,s_2,\\ldots,s_k]]=\\mathbb{C}[[x_1,x_2,\\ldots,x_k]]^{S_k} \\label{drop-rel}\n\\end{equation}\nby dropping the relations. A $\\mathbb{C}$-basis of this ring\ngiven by the Schur polynomials\n\\[\\sigma_{\\lambda} :=\\frac{\\det(x_i^{\\lambda_j+k-j})}{\\det(x_i^{k-j})}\\]\t\t\nwhere $\\lambda=(\\lambda_1,\\lambda_2,\\ldots,\\lambda_k)$ \nis an arbitrary Young diagram with at most $k$ rows.\nThere is a Satake--type map for the extended cohomology: \n\\[ \\mathrm{Sat}: \\hat{H}(\\mathbb{G}) \\to \\wedge^k \\hat{H}(\\P) \\]\nobtained from the Young diagram by `wedging its rows':\n\\[\\sigma_{\\lambda} \\mapsto  s^{\\lambda_1+k-1} \\wedge s^{\\lambda_2+k-2}\\wedge \\ldots \\wedge s^{\\lambda_k-1}. \\] \nWe are therefore seeking an expression for the values of the Hilbert polynomial of $G(k,N)$ in terms of a $k$--dimensional integral of the beta type involving $k$--wedging. \n\n\nEuler's beta integral\n\\eqref{beta-integral}\nhas several generalizations.  Selberg introduced \\cite{Selberg1944}\nan integral \\cite{FW2008} over the $k$-dimensional cube\n\\begin{equation*}\nS(\\alpha, \\beta,\\gamma, k):=\\int_0^1\\ldots\\int_0^1 (s_1 s_2\\ldots s_k)^{\\alpha-1}((1-s_1)(1-s_2)\\ldots(1-s_k))^{\\beta-1}\\Delta(s)^{2\\gamma} ds_1ds_2\\ldots ds_k \n\\end{equation*} \nwhere\n\\[ \\Delta(s)=\\Delta(s_1,s_2,\\ldots,s_k)=\\prod_{i <j} (s_i-s_j) ,\\]\nand showed that it admits meromorphic continuation, which\nwe will also denote by $S$. \n\n\\medskip\n\\noindent {\\bf Proposition 2.}  For $k \\in \\mathbb{N},\\,  n \\in \\mathbb{Z}_+$, let $\\chi(\\mathcal{O}_{\\mathbb{G}}(n))$\ndenote the result of interpolating  the polynomial function $\\chi(\\mathcal{O}_{G (k,k+N)}(n))$  of the argument \n$N \\in \\mathbb{N}$ to $\\mathbb{C}$.  \n  One has\n\\begin{equation*}\n\\chi(\\mathcal{O}_{\\mathbb{G}}(n))= \\frac{(-1)^{k(k-1)/2}}{k!}\\left( \\frac{\\sin \\pi(N+1)}{\\pi}\\right)^k S(n+N+1,-N-k+1;1,k) .\n\\end{equation*} \\rm\n{\\sc Proof.} The shortest (but not the most transparent) way to see this is to use the expressions for the LHS and the RHS in terms of the product of gamma factors found by Littlewood and Selberg respectively. By Selberg, \n\\begin{equation}\n S(\\alpha,\\beta,\\gamma,k)=\\prod_{i=0}^{k-1} \\frac{\\Gamma(\\alpha+i\\gamma)\\Gamma(\\beta+i\\gamma)\\Gamma(1+(i+1)\\gamma)}\n{\\Gamma(\\alpha+\\beta+(k+i-1)\\gamma) \\Gamma(1+\\gamma)} \\label{Selberg-formula}.\n\\end{equation}\nBy Littlewood \\cite{Lit1942}, for $N \\in \\mathbb{Z}_{>0}$ one has\n\\begin{equation*}\n \\chi(\\mathcal{O}_{G(k,k+N)}(n)) =\\frac{{N+n \\choose n} {N+n+1 \\choose n+1} \\ldots {N+n+(k-1) \\choose n+(k-1)}}{\n{N \\choose 0} {N+1 \\choose 1} \\ldots {N+(k-1) \\choose (k-1)}}, \n\\end{equation*}\nwhere there are $k$ factors at the top and the bottom. \nRearranging the terms in the RHS of \\eqref{Selberg-formula} and using \n\\eqref{gamma-one-minus-argument},\nwe bring the $\\Gamma$-factors that involve $\\beta$ to the denominator in order to form the binomial coefficients at the expense of the sine factor.\n \\qed\n\n\\bigskip\nAs an example, for $k=2$ and \n$N=-1/2$, we get\nthe Hilbert series \n\\[ \\sum_{k=0}^\\infty \\chi(\\mathcal{O}_{G(2,3/2)}(n)) \\, y^n = 1+6\\, \\frac{t}{16} +60\\left(\\frac{t}{16}\\right)^2 + 700 \\left(\\frac{t}{16}\n\\right)^3+8820 \\left(\\frac{t}{16}\n\\right)^4  +\\ldots\n\\]\nwhich is no longer algebraic, but can be expressed in terms of elliptic functions.\n\nMore generally, one can consider a Selberg--type integral \nwith an arbitrary symmetric function rather than the discriminant in the numerator and use separation of variables together with the Jacobi--Trudi formula in order to obtain similar expressions in terms of the gamma function in order to interpolate between the Euler characteristics of more general vector bundle on grassmannians (or the dimensions of highest weight\nrepresentations of $GL_{N+k}$). \n\n\n\n\n\\subsection{Towards a gamma conjecture in \nnon--integral dimensions.} \\label{gamma-phenomena} The by now standard \npredictions of mirror symmetry relate the RRH formalism \non a Fano variety $F$ to the monodromy of its regularized \nquantum differential equation. It is expected that this\ndifferential equation arises from the Gauss--Manin\nconnection  \nin the middle cohomology of level hypersurfaces of a \nregular function $f$ defined on some quasiprojective \nvariety (typically a Laurent \npolynomial on $\\mathbb{G}_\\mathrm{m}^{\\, d}$), \ncalled in this case a Landau--Ginzburg model of \n$F$. By stationary phase, \nthe monodromy of the Gauss--Manin connection in a pencil \ntranslates\ninto the asymptotic behavior of oscillatory \nintegrals of the generic form\n$I (z) = \\int \\exp (izf)\\, d\\mu (\\mathbb{G}_\\mathrm{m}^{\\, d})$,\nwhich satisfy the quantum differential equation of $F$, \nthis time without the word `regularized'. \nThe asymptotics \nare given by Laplace integrals computed at the critical points,\nand the critical values of $f$ are the exponents occurring\nin the oscillatory integrals $I_i(z)$ that have `pure' \nasymptotic behavior in sectors. \nOne wants to express these pure asymptotics in terms of the Frobenius \nbasis of solutions $\\{ \\Psi_i (z) \\}$ around $z = 0$.\nThe gamma conjecture \\cite{GGI2016} \npredicts that such an expression \nfor the highest--growth asymptotic (arising from the critical\nvalue next to infinity) will give the `gamma--half' of the Todd \ngenus and therefore effectively encode the Hilbert\npolynomial of $F$ with respect to the anticanonical bundle. \nAt first sight, none of this seems capable of surviving in non--integer dimensions.\nYet, to return to the example of $G(2,N+2)$, define the numbers $c_j$ and $d_j$ by the expansions \n\\begin{equation*}\n\\Gamma_\\P^{(0)} (\\varepsilon) = \\Gamma (1+\\varepsilon)^{N+2} = \\sum_{j=0}^\\infty d_j \\varepsilon^j ,\n\\end{equation*}\n\\begin{equation*}\n\\Gamma_\\P^{(1)} (\\varepsilon) = \\Gamma (1+\\varepsilon)^{N+2} e^{2 \\pi i \\varepsilon} = \\sum_{j=0}^\\infty c_j \\varepsilon^j.\n\\end{equation*}\nPut\n\\begin{equation*}\nF(\\varepsilon,z) = \\sum_{k=0}^{\\infty} \\frac{z^{l+\\varepsilon}}{\\Gamma(1+l+\\varepsilon)^{N+2}}\n\\end{equation*}\nand\n\\begin{equation*}\n\\Psi (\\varepsilon,z) = \\Gamma_\\P (\\varepsilon) F (\\varepsilon, z) = \\sum_{k=0}^\\infty \\Psi_k (z) \\varepsilon^k.\n\\end{equation*}\n\n\\medskip\n\\noindent \\bf Claim \\rm (rudimentary gamma conjecture). For fixed $N > 2$ and $i, \\, j$  in a box of at least some moderate size,  \none should have\n\\begin{equation*}\n\\label{claim-grass}\n\\lim_{z \\to - \\infty} \\frac{\\Psi_i (z) \\Psi'_j (z) - \\Psi_j (z) \\Psi'_i (z)}{\\Psi_1 (z) \\Psi'_0 (z) - \\Psi_0 (z) \\Psi'_1 (z)}\n= \\frac{c_i d_j - c_j d_i}{c_1 d_0 - c_0 d_1} .\n\\end{equation*}\n\n\n\\bigskip\n\\bigskip\n\n\n\\noindent The LHS and RHS mimic, in the setup of formula \\eqref{drop-rel}, the $\\sigma_{[j-1,i]}$-coefficients in the expansion of the `principal asymptotic class' and the gamma class of the usual grassmannian: in the case when $N \\in \\mathbb{N}$ and $0 \\le  i,j  \\le N$ one would use the identification of $2$--Wronskians of a fundamental matrix of solutions to a higher Bessel equation with homology classes of $G(2,N+2)$.  Preliminary considerations together with numerical evidence suggest that the claim has a good chance to be true, as well as its versions for $G(k,N+k)$ with $k > 2$.\n\n\\bigskip\n\n\n\n\n\\bigskip\n\\bigskip\n\nThe first--named author is grateful to Yuri Manin and Vasily Pestun for stimulating discussions. We thank Hartmut Monien for pointing us to \\cite{FW2008}. \n\n\n\\bigskip\n\n\\nocite{MV2017}\n\\nocite{GM2014}\n\\nocite{Bra2013}\n\\nocite{BS2013}\n\\nocite{Etingof1999}\n\\nocite{Etingof2014}\n\\nocite{Etingof2016}\n\\nocite{EGNO2015}\n\\nocite{FW2008}\n\\nocite{Man2006}\n\\nocite{Opd1999}\n\\nocite{Man1985}\n\\nocite{Lit1942}\n\\nocite{Lit1943}\n\\nocite{BD2016}\n\\nocite{LM2002}\n\\nocite{LM2004}\n\\nocite{LM2006}\n\\nocite{LM2006a}\n\n\n\n\\nocite{GW2011}\n\\nocite{Del2002}\n\\nocite{}\n\\nocite{}\n\\nocite{}\n\\nocite{}\n\\nocite{}\n\\nocite{}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:2,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\\section{Introduction}\n\\label{sec:intro}\nMobile ad-hoc networking has presented many challenges to the research community,\nespecially in designing suitable, efficient, and well performing protocols.\nThe practical analysis and validation of such protocols often depends on\nsynthetic data, generated by some mobility model. The model has the goal of\nsimulating real life scenarios~\\cite{camp02wcmc} that can be used to tune\nnetworking protocols and to evaluate their performance. A lot of work has been\ndone in designing realistic mobility models. Till a few years ago, the model of\nchoice in academic research was the random way point mobility model\n(RWP)~\\cite{rwp}, simple and very efficient to use in simulations.\n\nRecently, with the aim of understanding human mobility~\\cite{toronto, hui05,\nhui06, milan07, UCAM-CL-TR-617}, many researchers have performed\nreal-life experiments by distributing wireless devices to people. From the data\ngathered during the experiments, they have observed the typical distribution of\nmetrics such as inter-contact time (time interval between two successive\ncontacts of the same people) and contact duration. Inter-contact time, which\ncorresponds to how often people see each other, characterizes the opportunities\nof packet forwarding between nodes. Contact duration, which limits the duration\nof each meeting between people in mobile networks, limits the amount of data\nthat can be transferred.\nIn~\\cite{hui05, hui06}, the authors show that the distribution of\ninter-contact time is a power-law. Later, in~\\cite{milan07}, it has been\nobserved that the distribution of inter-contact time is best described as a\npower law in a first interval on the time scale (12 hours, in the experiments\nunder analysis), then truncated by an exponential cut-off. Conversely,\n\\cite{cai07mobicom} proves that RWP yields exponential inter-contact time\ndistribution. Therefore, it has been established clearly that models like RWP\nare not good to simulate human mobility, raising the need of new, more realistic\nmobility models for mobile ad-hoc networking.\n\nIn this paper we present small world in motion (SWIM), a simple mobility model that generates small worlds. The model is very simple to implement and very efficient in simulations. The mobility pattern of the nodes is based on a simple intuition on human mobility: People go more often to places not very far from their home and where they can meet a lot of other people. By implementing this simple rule, SWIM is able to raise social behavior among nodes, which we believe to be the base of human mobility in real life.\nWe validate our model using real traces and compare the distribution of inter-contact time, contact duration and number of contact distributions between nodes, showing that synthetic data that we generate match very well real data traces.\nFurthermore, we show that SWIM can predict well the performance of forwarding protocols. We compare the performance of two forwarding protocols---epidemic forwarding~\\cite{vahdat00epidemic} and (a simplified version of) delegation forwarding~\\cite{dfw08}---on both real traces and synthetic traces generated with SWIM. The performance of the two protocols on the synthetic traces accurately approximates their performance on real traces, supporting the claim that SWIM is an excellent model for human mobility.\n\nThe rest of the paper is organized as follows: Section~\\ref{sec:relatedwork} briefly reports on current work in the field; in Section~\\ref{sec:solution} we present the details of SWIM and we prove theoretically that the distribution of inter-contact time in SWIM has an exponential tail, as recently observed in real life experiments; Section~\\ref{sec:experiments} compares synthetic data traces to real traces and shows that the distribution of inter-contact time has a head that decays as a power law, again like in real experiments;\nin Section~\\ref{sec:forwarding} we show our experimental results on the behavior of two forwarding protocols on both synthetic and real traces; lastly, Section~\\ref{sec:conclusions} present some concluding remarks.\n\n\\section{Related work}\n\\label{sec:relatedwork}\n\nThe mobility model recently presented in~\\cite{levy} generates movement traces\nusing a model which is similar to a random walk, except that the flight lengths\nand the pause times in destinations are generated based on Levy Walks, so with\npower law distribution. In the past, Levy Walks have been shown to approximate\nwell the movements of animals. The model produces inter-contact time\ndistributions similar to real world traces. However, since every node moves\nindependently, the model does not capture any social behavior between nodes.\nIn~\\cite{musolesi07}, the authors present a mobility model based on social\nnetwork theory which takes in input a social network and discuss the community\npatterns and groups distribution in geographical terms. They validate their\nsynthetic data with real traces and show a good matching between them.\n\nThe work in \\cite{LCA-CONF-2008-049} presents a new mobility model for clustered networks. Moreover, a closed-form expression for the stationary distribution of node position is given. The model captures the phenomenon of emerging clusters, observed in real partitioned networks, and correlation between the spatial speed distribution and the cluster formation.\n\nIn~\\cite{workingDay}, the authors present a mobility model that simulates the every day life of people that go to their work-places in the morning, spend their day at work and go back to their homes at evenings. Each one of this scenarios is a simulation per se. The synthetic data they generate match well the distribution of inter-contact time and contact durations of real traces.\n\nIn a very recent work, Barabasi et al.~\\cite{barabasi08} study the trajectory of\na very large (100,000) number of anonymized mobile phone users whose position is\ntracked for a six-months period. They observe that human trajectories show a\nhigh degree of temporal and spatial regularity, each individual being\ncharacterized by a time independent characteristic travel distance and a\nsignificant probability to return to a few highly frequented locations. They\nalso show that the probability density function of individual travel distances\nare heavy tailed and also are different for different groups of users and\nsimilar inside each group. Furthermore, they plot also the frequency of visiting\ndifferent locations and show that it is well approximated by a power law. All\nthese observations are in contrast with the random trajectories predicted by\nLevy flight and random walk models, and support the intuition behind SWIM.\n\n\\section{Small World in Motion}\n\\label{sec:solution}\n\nWe believe that a good mobility model should\n\\begin{enumerate}\n\t\\item be simple; and\n\t\\item predict well the performance of networking protocols on real mobile\n\tnetworks.\n\\end{enumerate}\nWe can't overestimate the importance of having a \\emph{simple} model. A simple\nmodel is easier to understand, can be useful to distill the fundamental\ningredients of ``human'' mobility, can be easier to implement, easier to tune\n(just one or few parameters), and can be useful to support theoretical work. We\nare also looking for a model that generates traces with the same statistical\nproperties that real traces have. Statistical distribution of inter-contact time\nand number of contacts, among others, are useful to characterize the behavior of\na mobile network. A model that generates traces with statistical properties that\nare far from those of real traces is probably useless. Lastly, and most\nimportantly, a model should be accurate in predicting the performance of network\nprotocols on real networks. If a protocol performs well (or bad) in the model,\nit should also perform well (or bad) in a real network. As accurately as\npossible.\n\nNone of the mobility models in the literature meets all of these properties. The random way-point mobility model is simple, but its traces do not look real at all (and has a few other problems). Some of the other protocols we reviewed in the related work section can indeed produce traces that look real, at least with respect to some of the possible metrics, but are far from being simple. And, as far as we know, no model has been shown to predict real world performance of protocols accurately.\n\nHere, we propose \\emph{small world in motion} (SWIM), a very simple mobility\nmodel that meets all of the above requirements. Our model is based on a couple\nof simple rules that are enough to make the typical  properties of real traces\nemerge, just naturally. We will also show that this model can predict the\nperformance of networking protocols on real mobile networks extremely well.\n\n\\subsection{The intuition}\n\nWhen deciding where to move, humans usually trade-off. The best supermarket or the most popular restaurant that are also not far from where they live, for example. It is unlikely (though not impossible) that we go to a place that is far from home, or that is not so popular, or interesting. Not only that, usually there are just a few places where a person spends a long period of time (for example home and work office or school), whereas there are lots of places where she stays less, like for example post office, bank, cafeteria, etc. These are the basic intuitions SWIM is built upon. Of course, trade-offs humans face in their everyday life are usually much more complicated, and there are plenty of unknown factors that influence mobility. However, we will see that simple rules---trading-off proximity and popularity, and distribution of waiting time---are enough to get a mobility model with a number of desirable properties and an excellent capability of predicting the performance of forwarding protocols.\n\n\\subsection{The model in details}\n\nMore in detail, to each node is assigned a so called \\emph{home}, which is a\nrandomly and uniformly chosen point over the network area. Then, the node itself\nassigns to each possible destination a \\emph{weight} that grows with the\npopularity of the place and decreases with the distance from home. The weight\nrepresents the probability for the node to chose that place as its next\ndestination.\n\nAt the beginning, no node has been anywhere. Therefore, nodes do not know how\npopular destinations are. The number of other nodes seen in each destination is\nzero and this information is updated each time a node reaches a destination.\nSince the domain is continuous, we divided the network area into many small\ncontiguous cells that represent possible destinations. Each cell has a squared\narea, and its size depends on the transmitting range of the nodes. Once a node\nreaches a cell, it should be able to communicate with every other node that is\nin the same cell at the same time. Hence, the size of the cell is such that its\ndiagonal is equal to the transmitting radius of the nodes. Based on this, each\nnode can easily build a \\emph{map} of the network area, and can also calculate\nthe weight for each cell in the map. These information will be used to\ndetermine the next destination: The node chooses its cell\ndestination randomly and proportionally with its weight, whereas the exact\ndestination point (remind that the network area is continuous) is taken\nuniformly at random over the cell's area. Note that,\naccording to our experiments, it is not really necessary that the node has a\n\\emph{full} map of the domain. It can remember just the most popular cells it\nhas visited and assume that everywhere else there is nobody (until, by chance,\nit chooses one of these places as destination and learn that they are indeed\npopular). The general properties of SWIM holds as well.\n\nOnce a node has chosen its next destination, it starts moving towards it\nfollowing a straight line and with a speed that is proportional to the distance\nbetween the starting point and the destination. To keep things simple, in the\nsimulator the node chooses as its speed value exactly the distance between these\ntwo points. The speed remains constant till the node reaches the destination. In\nparticular, that means that nodes finish each leg of their movements in constant\ntime. This can seem quite an oversimplification, however, it is useful and also\nnot far from reality. Useful to simplify the model; not far from reality since\nwe are used to move slowly (maybe walking) when the destination is nearby,\nfaster when it is farther, and extremely fast (maybe by car) when the\ndestination is far-off.\n\nMore specifically, let $A$ be one of the nodes and $h_A$ its home. Let also $C$\nbe one of the possible destination cells. We will denote with $\\textit{seen}(C)$\nthe number of nodes that node~$A$ encountered in $C$ the last time it reached\n$C$. As we already mentioned, this number is $0$ at the beginning of the\nsimulation and it is updated each time node~$A$ reaches a destination in\ncell~$C$. Since $h_A$ is a point, whereas $C$ is a cell, when calculating the\ndistance of $C$ from its home $h_A$, node~$A$ refers to the center of the cell's\narea. In our case, being the cell a square, its center is the mid diagonal\npoint. The weight that node~$A$ assigns to cell $C$ is as follows:\n\\begin{equation}\n\\label{eq:weight}\nw(C) = \\alpha\\cdot\\textit{distance}(h_A, C) + (1-\\alpha)\\cdot\\textit{seen}(C).\n\\end{equation}\nwhere $\\textit{distance}(h_A, C)$ is a function that decays as a power law as\nthe distance between node~$A$ and cell~$C$ increases.\n\nIn the above equation $\\alpha$ is a constant in $[0;1]$. Since the weight that a\nnode assigns to a place represents the probability that the node chooses it as\nits next destination, the value of $\\alpha$ has a strong effect on the node's\ndecisions---the larger is $\\alpha$, the more the node will tend to go to places\nnear its home. The smaller is $\\alpha$, the more the node will tend to go to\n``popular'' places. Even if it goes beyond our scope in this paper, we strongly\nbelieve that would be interesting to exploit consequences of using different\nvalues for $\\alpha$. We do think that both small and big values for $\\alpha$\nrise clustering effect of the nodes. In the first case, the clustering effect\nis based on the neighborhood locality of the nodes, and is more related to a\nsocial type: Nodes that ``live'' near each other should tend to frequent the\nsame places, and therefore tend to be ``friends''. In the second case, instead,\nthe clustering effect should raise as a consequence of the popularity of the\nplaces.\n\nWhen reaching destination the node decides how long to remain there. One of the\nkey observations is that in real life a person usually stays for a long time\nonly in a few places, whereas there are many places where he spends a short\nperiod of time. Therefore, the distribution of the waiting time should follow a\npower law. However, this is in contrast with the experimental evidence that\ninter-contact time has an exponential cut-off, and with the intuition that, in\nmany practical scenarios, we won't spend more than a few hours standing at the\nsame place (our goal is to model day time mobility). So, SWIM uses an upper\nbounded power law distribution for waiting time, that is, a truncated power law.\nExperimentally, this seems to be the correct choice.\n\n\\subsection{Power law and exponential decay dichotomy}\n\nIn a recent work~\\cite{milan07}, it is observed that the distribution of\ninter-contact time in real life experiments shows a so  called dichotomy: First\na power law until a certain point in time, then an exponential cut-off.\nIn~\\cite{cai07mobicom}, the authors suggest that the exponential cut-off is due\nto the bounded domain where nodes move. In SWIM, inter-contact time distribution\nshows exactly the same dichotomy. More than that, our experiments show that, if\nthe model is properly tuned, the distribution is strikingly similar to that of\nreal life experiments.\n\nWe show here, with a mathematically rigorous proof, that the distribution of\ninter-contact time of nodes in SWIM has an exponential\ntail. Later, we will see experimentally that the same distribution has indeed\na head distributed as a power law. Note that the proof has to cope with a\ndifficulty due to the social nature of SWIM---every decision taken in SWIM by a\nnode \\emph{not} only depends on its own previous decisions, but also depends on\nother nodes' decisions: Where a node goes now, strongly affects where it\nwill choose to go in the future, and, it will affect also where other\nnodes will chose to go in the future. So, in SWIM there are no renewal\nintervals, decisions influence future decisions of other nodes, and nodes never\n``forget'' their past.\n\nIn the following, we will consider two nodes $A$ and $B$. Let $A(t)$, $t\\ge0$,\nbe the position of node~$A$ at time~$t$. Similarly, $B(t)$ is the position of\nnode~$B$ at time~$t$. We assume that at time~$0$ the two nodes are leaving\nvisibility after meeting. That is, $||A(0)-B(0)||=r$, $||A(t)-B(t)||<r$ for\n$t\\in 0^-$, and $||A(t)-B(t)||>r$ for $t\\in 0^+$. Here, $||\\cdot||$ is the\neuclidean distance in the square. The inter-contact time of nodes $A$ and $B$\nis defined as:\n\\begin{equation*}\nT_I=\\inf_{t>0} \\{t:||A(t)-B(t)||\\le r\\}\n\\end{equation*}\n\\begin{assumption}\n\\label{ass:lower}\nFor all nodes~$A$ and for all cells~$C$, the distance function $distance(A,C)$\nreturns at least $\\mu>0$.\n\\end{assumption}\n\n\\begin{theorem}\nIf $\\alpha>0$ and under Assumption~\\ref{ass:lower}, \\emph{the tail} of the\ninter-contact time distribution between nodes~$A$ and~$B$ in SWIM has an\nexponential decay.\n\\end{theorem}\n\\begin{IEEEproof}\nTo prove the presence of the exponential cut-off, we will show that there exists\nconstant $c>0$ such that\n\\begin{equation*}\n\\mathbb{P}\\{T_I>t\\}\\le e^{-ct}\n\\end{equation*}\nfor all sufficiently large $t$. Let $t_i=i\\lambda$, $i=1,2,\\dotsc$, be\na sequence of times. Constant $\\lambda$ is large enough that each node has\nto make a way point decision in the interval between $t_i$ and $t_{i+1}$\nand that each node has enough time to finish a leg. Recall that this is of\ncourse possible since waiting time at way points is bounded above and since\nnodes complete each leg of movement in constant time. The idea is to take\nsnapshots of nodes $A$ and $B$ and see whether they see each other at each\nsnapshot. However, in the following, we also need that at least one of the two\nnodes is not moving at each snapshot. So, let\n\\begin{equation*}\n\\begin{split}\n\\delta_i=\\text{min}\\{ &amp; \\delta\\ge 0 : \\text{either $A$ or $B$ is}\\\\\n&amp; \\text{at a way point at time $t_i+\\delta$}\\}.\n\\end{split}\n\\end{equation*}\nClearly, $t_i+\\delta_i<t_{i+1}$, for all $i=1,2,\\dotsc$.\n\nWe take the sequence of snapshots $\\{t_i+\\delta_i\\}_{i>0}$. Let $\\epsilon_i=\\{||A(t_i+\\delta_i)-B(t_i+\\delta_i)||>r\\}$ be the event that nodes $A$ and $B$ are not in visibility range at time $t_i+\\delta_i$. We have that\n\\begin{equation*}\n\\mathbb{P}\\{T_I>t\\}\\le \\mathbb{P}\\left\\{\\bigcap_{i=1}^{\\lfloor t/\\lambda\\rfloor\n-1}\n\\epsilon_i\\right\\}=\\prod_{i=1}^{\\lfloor t/\\lambda\\rfloor -1}\n\\mathbb{P}\\{ \\epsilon_i| \\epsilon_{i-1}\\cdots\\epsilon_1\\}.\n\\end{equation*}\nConsider $\\mathbb{P}\\{ \\epsilon_i| \\epsilon_{i-1}\\cdots\\epsilon_1\\}$. At\ntime~$t_i+\\delta_i$, at least one of the two nodes is at a way point, by\ndefinition of $\\delta_i$. Say node~$A$, without loss of generality. Assume that\nnode~$B$ is in cell $C$ (either moving or at a way point). During its last way\npoint decision, node~$A$ has chosen cell $C$ as its next way point with\nprobability at least $\\alpha\\mu>0$, thanks to Assumption~\\ref{ass:lower}. If\nthis is the case, the two nodes~$A$ and~$B$ are now in visibility. Note that the\ndecision has been made after the previous snapshot, and that it is not\nindependent of previous decisions taken by node~$A$, and it is not even\nindependent of previous decisions taken by node~$B$ (since the social nature of\ndecisions in SWIM). Nonetheless, with probability at least $\\alpha\\mu$ the two\nnodes are now in visibility. Therefore,\n\\begin{equation*}\n\\mathbb{P}\\{ \\epsilon_i| \\epsilon_{i-1}\\cdots\\epsilon_1\\}\\le 1-\\alpha\\mu.\n\\end{equation*}\nSo,\n\\begin{equation*}\n\\begin{split}\n\\mathbb{P}\\{T_I>t\\} &amp; \\le \\mathbb{P}\\left\\{\\bigcap_{i=1}^{\\lfloor\nt/\\lambda\\rfloor -1}\n\\epsilon_i\\right\\}=\\prod_{i=1}^{\\lfloor t/\\lambda\\rfloor -1}\n\\mathbb{P}\\{ \\epsilon_i| \\epsilon_{i-1}\\cdots\\epsilon_1\\}\\\\\n &amp; \\le (1-\\alpha\\mu)^{\\lfloor t/\\lambda\\rfloor -1}\\sim e^{-ct},\n\\end{split}\n\\end{equation*}\nfor sufficiently large $t$.\n\\end{IEEEproof}\n\n\\section{Real traces}\n\\begin{table*}\n\\begin{center}\n\\begin{tabular}{|c|c|c|c|c|c|c|}\n\\hline\nExperimental data set \\T \\B &amp; Cambridge~05 &amp; Cambridge~06 &amp; Infocom~05\\\\ \\hline\nDevice \\T &amp; iMote &amp; iMote &amp; iMote\\\\\nNetwork type &amp; Bluetooth &amp; Bluetooth &amp; Bluetooth\\\\\nDuration (days)&amp; 5 &amp; 11 &amp; 3\\\\\nGranularity (sec)&amp; 120 &amp; 600 &amp; 120\\\\\nDevices number &amp; 12 &amp; 54 (36 mobile) &amp; 41\\\\\nInternal contacts number&amp; 4,229 &amp; 10,873 &amp; 22,459\\\\\nAverage Contacts/pair/day &amp; 6.4 &amp; 0.345 &amp; 4.6\\\\[1mm] \\hline\n\\end{tabular}\n\\caption{The three experimental data sets}\n\\label{tab:realtraces}\n\\end{center}\n\\end{table*}\n\nIn order to show the accuracy of SWIM in simulating real life scenarios, we will\ncompare SWIM with three traces gathered during experiments done with real\ndevices carried by people. We will refer to these traces as \\emph{Infocom~05},\n\\emph{Cambridge~05} and \\emph{Cambridge~06}. Characteristics of these data sets\nsuch as inter-contact and contact distribution have been observed in several\nprevious works~\\cite{hui05, leguay06,hui06}.\n\\begin{itemize}\n\\item In \\emph{Cambridge 05}~\\cite{cambridge05} the authors used Intel iMotes to\ncollect the data. The iMotes were distributed to students of the University of\nCambridge and were programmed to log contacts of all visible mobile devices. The\nnumber of devices that were used for this experiment is 12. This data set covers\n5 days.\n\\item In \\emph{Cambridge 06}~\\cite{upmcCambridgeData} the authors repeated the\nexperiment using more devices. Also, a number of stationary nodes were deployed\nin various locations around the city of Cambridge UK. The data of the stationary\niMotes will not be used in this paper. The number of mobile devices used is 36\n(plus 18 stationary devices). This data set covers 11 days.\n\\item In \\emph{Infocom~05} ~\\cite{cambridgeInfocomData} the same devices as in\n\\emph{Cambridge} were distributed to students attending the Infocom 2005 student\nworkshop. The number of devices is 41. This experiment covers approximately 3\ndays.\n\\end{itemize}\nFurther details on the real traces we use in this paper are shown in\nTable~\\ref{tab:realtraces}.\n\n\\section{SWIM vs Real traces}\n\\label{sec:experiments}\n\n\\subsection{The simulation environment}\nIn order to evaluate SWIM, we built a discrete even simulator of the model.\nThe simulator takes as input\n\\begin{itemize}\n \\item $n$: the number of nodes in the network;\n  \\item $r$: the transmitting radius of the nodes;\n  \\item the simulation time in seconds;\n  \\item coefficient $\\alpha$ that appears in Equation~\\ref{eq:weight};\n  \\item the distribution of the waiting time at destination.\n\\end{itemize}\nThe output of the simulator is a text file containing records on each main event\noccurrence. The main events of the system and the related outputs are:\n\\begin{itemize}\n\\item \\emph{Meet} event: When two nodes are in range with each other. The\noutput line contains the ids of the two nodes involved and the time of\noccurrence.\n\\item \\emph{Depart} event: When two nodes that were in range of each other are\nnot anymore. The output line contains the ids of the two nodes involved and the\ntime of occurrence.\n\\item \\emph{Start} event: When a node leaves its current location and starts\nmoving towards destination. The output line contains the id of the location, the\nid of the node and the time of occurrence.\n\\item \\emph{Finish} event: When a node reaches its destination. The output line\ncontains the id of the destination, the id of the node and the time of\noccurrence.\n\\end{itemize}\nIn the output, we don't really need information on the geographical position of\nthe nodes when the event occurs. However, it is just straightforward to extend\nthe format of the output file to include this information. In this form, the\noutput file contains enough information to compute correctly inter-contact\nintervals, number of contacts, duration of contacts, and to implement state of\nthe art forwarding protocols.\n\nDuring the simulation, the simulator keeps a vector $\\textit{seen}(C)$ updated\nfor each sensor. Note that the nodes do not necessarily agree on what is the\npopularity of each cell. As mentioned earlier, it is not necessary to keep in\nmemory the whole vector, without changing the qualitative behavior of the mobile\nsystem. However, the three scenarios Infocom~05, Cambridge~05, and Cambridge~06\nare not large enough to cause any real memory problem. Vector~$\\textit{seen}(C)$\nis updated at each \\emph{Finish} and \\emph{Start} event, and is not changed\nduring movements.\n\n\\subsection{The experimental results}\n\nIn this section we will present some experimental results in order to show that\nSWIM is a simple and good way to generate synthetic traces with the same\nstatistical properties of real life mobile scenarios.\n\\begin{figure}[!ht]\n\\centering\n\\subfigure[Distribution of the inter-contact time in Infocom~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Infocom/InterContacts}\n\\label{fig:ICT infocom}}\n\\qquad\n\\subfigure[Distribution of the contact duration for each pair of nodes in\nInfocom~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Infocom/Contacts}\n\\label{fig:CONT infocom}}\n\\qquad\n\\subfigure[Distribution of the number of contacts for each pair of nodes in\nInfocom~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Infocom/ContactsNumber}\n\\label{fig:CONT-NR infocom}}\n\\caption{SWIM and Infocom~05}\n\\label{fig:infocom}\n\\end{figure}\n\\begin{figure}[t]\n\\centering\n\\subfigure[Distribution of the inter-contact time in Cambridge~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge05/InterContacts}\n\\label{fig:ICT cambridge05}}\n\\qquad\n\\subfigure[Distribution of the contact duration for each pair of nodes in\nCambridge~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge05/Contacts}\n\\label{fig:CONT cambridge05}}\n\\qquad\n\\subfigure[Distribution of the number of contacts for each pair of nodes in\nCambridge~05 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge05/ContactsNumber}\n\\label{fig:CONT-NR cambridge05}}\n\\caption{SWIM and Cambridge~05}\n\\label{fig:cambridge05}\n\\end{figure}\n\\begin{figure}[t]\n\\centering\n\\subfigure[Distribution of the inter-contact time in Cambridge~06 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge06/InterContacts}\n\\label{fig:ICT cambridge}}\n\\qquad\n\\subfigure[Distribution of the contact duration for each pair of nodes in\nCambridge~06 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge06/Contacts}\n\\label{fig:CONT cambridge}}\n\\qquad\n\\subfigure[Distribution of the number of contacts for each pair of nodes in\nCambridge~06 and in SWIM]{\n\\centering\n\\includegraphics[width=.4\\textwidth]{graphics/Cambridge06/ContactsNumber}\n\\label{fig:CONT-NR cambridge}}\n\\caption{SWIM and Cambridge~06}\n\\label{fig:cambridge06}\n\\end{figure}\nThe idea is to tune the few parameters used by SWIM in order to simulate\nInfocom~05, Cambridge~05, and Cambridge~06. For each of the experiments we\nconsider the following metrics: inter-contact time CCD function, contact\ndistribution per pair of nodes, and number of contacts per pair of nodes. The\ninter-contact time distribution is important in mobile networking since it\ncharacterizes the frequency with which information can be transferred between\npeople in real life. It has been widely studied for real traces in a large\nnumber of previous papers~\\cite{hui05, hui06, leguay06, cai07mobicom,\nmilan07, musolesi07, cai08mobihoc}. The contact distribution per pair\nof nodes and the number of contacts per pair of nodes are also important. Indeed\nthey represent a way to measure relationship between people. As it was also\ndiscussed in~\\cite{hui07community, hui07socio, hui08mobihoc} it's natural to\nthink that if a couple of people spend more time together and meet each other\nfrequently they are familiar to each other. Familiarity is important in\ndetecting communities, which may help improve significantly the design and\nperformance of forwarding protocols in mobile environments such as\nDNTs~\\cite{hui08mobihoc}. Let's now present the experimental results obtained\nwith SWIM when simulating each of the real scenarios of data sets.\nSince the scenarios we consider use iMotes, we model our network node according\nto iMotes properties (outdoor range $30\\textrm{m}$). We initially distribute the\nnodes over a network area of size $300\\times300~\\textrm{m}^2$. In the following,\nwe assume for the sake of simplicity that the network area is a square of side\n1, and that the node transmission range is 0.1. In all the three experiments we\nuse a power law with slope $a=1.45$ in order to generate waiting time values of\nnodes when arriving to destination, with an upper bound of 4 hours. We use as\n$\\textit{seen}(C)$ function the fraction of the nodes seen in cell~$C$, and as\n$\\textit{distance}(x,C)$ the following\n\\begin{equation*}\n\\textit{distance}(x,C)=\\frac{1}{\\left(1+k||x-y||\\right)^2},\n\\end{equation*}\nwhere $x$ is the position of the home of the current node, and $y$ is the\nposition of the center of cell~$C$. Positions are coordinates in the square of\nsize 1. Constant $k$ is a scaling factor, set to $0.05$, which accounts for the\nsmall size of the experiment area. Note that function $\\textit{distance}(x,C)$\ndecays as a power law. We come up with this choice after a large set of\nexperiments, and the choice is heavily influenced by scaling factors.\n\nWe start with Infocom~05. The number of nodes $n$ and the simulation time are\nthe same as in the real data set, hence 41 and 3 days respectively. Since the\narea of the real experiment was quite small (a large hotel), we deem that\n$300\\times300~m^2$ can be a good approximation of the real scenario. In\nInfocom~05, there were many parallel sessions. Typically, in such a case one\nchooses to follow what is more interesting to him. Hence, people with the same\ninterests are more likely to meet each other. In this experiment, the parameter\n$\\alpha$ such that the output fit best the real traces is $\\alpha=0.75$. The\nresults of this experiment are shown in Figure~\\ref{fig:infocom}.\n\nWe continue with the Cambridge scenario. The number of nodes and the simulation\ntime are the same as in the real data set, hence 11 and 5 days respectively. In\nthe Cambridge data set, the iMotes were distributed to two groups of students,\nmainly undergrad year~1 and~ 2, and also to some PhD and Master students.\nObviously, students of the same year are more likely to see each other more\noften. In this case, the parameter $\\alpha$ which best fits the real traces is\n$\\alpha=0.95$. This choice proves to be fine for both Cambridge~05 and\nCambridge~06. The results of this experiment are shown in\nFigure~\\ref{fig:cambridge05} and~\\ref{fig:cambridge06}.\n\nIn all of the three experiments, SWIM proves to be an excellent way to generate\nsynthetic traces that approximate real traces. It is particularly interesting\nthat the same choice of parameters gets goods results for all the metrics under\nconsideration at the same time.\n\n\\section{Comparative performance of forwarding protocols}\n\\label{sec:forwarding}\n\\begin{figure*}\n\\label{fig:forwarding}\n\\centering\n\\subfigure{\n\\centering\n\\includegraphics[width=.31\\textwidth]{graphics/Infocom/PerformanceInfocom}\n\\label{fig:perf infocom}}\n\\subfigure{\n\\centering\n\\includegraphics[width=.31\\textwidth]{graphics/Cambridge05/PerformanceCambridge05}\n\\label{fig:perf cambridge05}}\n\\subfigure{\n\\centering\n\\includegraphics[width=.31\\textwidth]{graphics/Cambridge06/PerformanceCambridge06}\n\\label{fig:perf cambridge 06}}\n\\caption{Performance of both forwarding protocols on real traces and SWIM\ntraces. EFw denotes Epidemic Forwarding while DFwd Delegation Forwarding.}\n\\label{fig:performance}\n\\end{figure*}\n\nIn this section we show other experimental results of SWIM, related to\nevaluation of two simple forwarding protocols for DNTs such as Epidemic\nForwarding~\\cite{vahdat00epidemic} and simplified version of Delegation\nForwarding\\cite{dfw08} in which each node has a random constant as its quality.\nOf course, this simplified version of delegation forwarding is not very\ninteresting and surely non particularly efficient. However, we use it just as a\nworst case benchmark against epidemic forwarding, with the understanding that\nour goal is just to validate the quality of SWIM, and not the quality of the\nforwarding protocol.\n\nIn the following experiments, we use for each experiment the same tuning used\nin the previous section. That is, the parameters input to SWIM are not\n``optimized'' for each of the forwarding protocols, they are just the same that\nhas been used to fit real traces with synthetic traces.\n\nFor the evaluation of the two forwarding protocols we use the same assumptions\nand the same way of generating traffic to be routed as in~\\cite{dfw08}.\nFor each trace and forwarding protocol a set of messages is generated with\nsources and destinations chosen uniformly at random, and generation times form a\nPoisson process averaging one message per 4 seconds.\nThe nodes are assumed to have infinite buffers and carry all message replicas\nthey receive until the end of the simulation. The metrics we are concerned with\nare: \\emph{cost}, which is the number of replicas per generated message;\n\\emph{success rate} which is the fraction of generated messages for which at\nleast one replica is delivered; \\emph{average delay} which is the average\nduration per delivered message from its generation time to the first arrival of\none of its replicas.\nAs in \\cite{dfw08} we isolated 3-hour periods for each data trace (real and\nsynthetic) for our study. Each simulation runs therefore 3 hours. to avoid\nend-effects no messages were generated in the last hour of each trace.\n\nIn the two forwarding protocols, upon contact with node $A$, node $B$ decides\nwhich message from its message queue to forward in the following way:\n\\begin{trivlist}\n\\item\n\\textbf{Epidemic Forwarding:} Node $A$ forwards message~$m$ to node $B$ unless\n$B$ already has a replica of $m$. This protocol achieves the best possible\nperformance, so it yields upper bounds on success rate and average delay.\nHowever, it does also have a high cost.\n\\item\n\\textbf{(Simplified) Delegation Forwarding:} To each node is initially given a\nquality, distributed uniformly in $(0;1]$. To each message is given a rate,\nwhich, in every instant corresponds to the quality of the node with the best\nquality that message have seen so far. When generated the message inherits the\nrate from the node that generates it (that would be the sender for that\nmessage). Node $A$ forwards message $m$ to node $B$ if the quality of node $B$\nis greater than the rate of the copy of $m$ that $A$ holds. If $m$ is forwarded\nto $B$, both nodes $A$ and $B$ update the rate of their copy of $m$ to the\nquality of $B$.\n\\end{trivlist}\n\nFigure~\\ref{fig:forwarding} shows how the two forwarding protocols perform in\nboth real and synthetic traces, generated with SWIM.\nAs you can see, the results are excellent---SWIM predicts very accurately the\nperformance of both protocols. Most importantly, this is not due to a customized\ntuning that has been optimized for these forwarding protocols, it is just the\nsame output that SWIM has generated with the tuning of the previous section.\nThis can be important methodologically: To tune SWIM on a particular scenario,\nyou can concentrate on a few well known and important statistical properties\nlike inter-contact time, number of contacts, and duration of contacts. Then, you\ncan have a good confidence that the model is properly tuned and usable to get\nmeaningful estimation of the performance of a forwarding protocol.\n\n\\section{Conclusions}\n\\label{sec:conclusions}\nIn this paper we present SWIM, a new mobility model for ad hoc networking. SWIM\nis simple, proves to generate traces that look real, and provides an accurate\nestimation of forwarding protocols in real mobile networks. SWIM can be used to\nimprove our understanding of human mobility, and it can support theoretical work\nand it can be very useful to evaluate the performance of networking protocols in\nscenarios that scales up to very large mobile systems, for which we don't have\nreal traces.\n\\IEEEtriggeratref{7}\n\\bibliographystyle{ieeetr}\n&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:3,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\\section{Introduction}\n\\label{SecIntro}\nLet $\\mathcal{G}=(V,E)$ be a connected undirected graph, with $V$ at most countable and each vertex $x\\in V$ of finite degree. We do not allow self-loops, however the edges might be multiple. Given $e\\in E$ an edge, we will denote\n$e_{+}$ and $e_{-}$ its end-vertices, even though $e$ is non-oriented and one can interchange $e_{+}$ and $e_{-}$. \nEach edge $e\\in E$ is endowed with a conductance $W_{e}>0$. There may be a killing measure $\\kappa=(\\kappa_{x})_{x\\in V}$ on vertices. \n\nWe consider $(X_{t})_{t\\ge0}$ the \\textit{Markov jump processes} on $V$ which being in $x\\in V$, jumps along an adjacent edge $e$ with rate $W_{e}$. Moreover if \n$\\kappa_{x}\\neq 0$, the process is killed at $x$ with rate $\\kappa_{x}$ (the process is not defined after that time). $\\zeta$ will denote the time up to which $X_{t}$ is defined. If $\\zeta<+\\infty$, then either the process has been killed by the killing measure $\\kappa$ (and $\\kappa \\not\\equiv 0$) or it has gone off to infinity in finite time \n(and $V$ infinite). We will assume that the process $X$ is transient, which means, if $V$ is finite, that \n$\\kappa\\not\\equiv 0$. $\\mathbb{P}_{x}$ will denote the law of $X$ started from $x$.\nLet $(G(x,y))_{x,y\\in V}$ be the Green function of $X_{t}$:\n\\begin{displaymath}\nG(x,y)=G(y,x)=\\mathbb{E}_{x}\\left[\\int_{0}^{\\zeta} 1_{\\{X_{t}=y\\}} dt\\right].\n\\end{displaymath}\nLet $\\mathcal{E}$ be the Dirichlet form defined on functions $f$ on $V$ with finite support:\n\\begin{eqnarray}\\label{Dirichlet-form}\n\\mathcal{E}(f,)=\\sum_{x\\in V}\\kappa_{x} f(x)^{2}+\n\\sum_{e\\in E}W_e(f(e_{+})-f(e_{-}))^{2}.\n\\end{eqnarray}\n$P_{\\varphi}$ will be the law of $(\\varphi_{x})_{x\\in V}$ the centred \n\\textit{Gaussian free field} (GFF) on $V$ with covariance\n$E_{\\varphi}[\\varphi_{x}\\varphi_{y}]=G(x,y)$. In case $V$ is finite, the density of $P_{\\varphi}$ is\n\\begin{displaymath}\n\\dfrac{1}{(2\\pi)^{\\frac{\\vert V\\vert}{2}}\\sqrt{\\det G}}\n\\exp\\left(-\\dfrac{1}{2}\\mathcal{E}(f,f)\\right)\\prod_{x\\in V} df_{x}.\n\\end{displaymath}\nGiven $U$ a finite subset of $V$, and $f$ a function on $U$, $P^{U,f}_{\\varphi}$ will denote the law of\nthe GFF $\\varphi$ conditioned to equal $f$ on $U$.\n$(\\ell_{x}(t))_{x\\in V, t\\in [0,\\zeta]}$ will denote the family of local times of $X$:\n\\begin{displaymath}\n\\ell_{x}(t)=\\int_{0}^{t}1_{\\{X_{s}=x\\}} ds.\n\\end{displaymath}\nFor all $x\\in V$, $u>0$, let\n\\begin{displaymath}\n\\tau_{u}^{x}=\\inf\\lbrace t\\geq 0; \\ell_{x}(t)>u\\rbrace.\n\\end{displaymath}\nRecall the generalized second Ray-Knight theorem on discrete graphs by Eisenbaum, Kaspi, Marcus, Rosen and Shi \\cite{ekmrs} (see also \n\\cite{MarcusRosen2006MarkovGaussianLocTime,Sznitman2012LectureIso}):\n\\begin{2ndRK}\nFor any $u>0$ and $x_{0}\\in V$, \n\\begin{center}\n$\\left(\\ell_{x}(\\tau_{u}^{x_{0}})+\\dfrac{1}{2}\\varphi_{x}^{2}\\right)_{x\\in V}$\nunder $\\mathbb{P}_{x_{0}}(\\cdot \\vert \\tau_{u}^{x_{0}}<\\zeta)\\otimes P^{\\lbrace x_{0}\\rbrace,0}_{\\varphi}$\n\\end{center}\nhas the same law as \n\\begin{center}\n$\\left(\\dfrac{1}{2}\\varphi_{x}^{2}\\right)_{x\\in V}$\nunder $P^{\\lbrace x_{0}\\rbrace,\\sqrt{2u}}_{\\varphi}$.\n\\end{center}\n\\end{2ndRK}\n\nSabot and TarrÃ¨s showed in \\cite{SabotTarres2015RK} that the so-called ``magnetized'' reverse Vertex-Reinforced Jump Process provides an inversion of the generalized second Ray-Knight theorem, in the sense that it enables to retrieve the law of $(\\ell_x(\\tau_u^{x_0}), \\varphi^2_x)_{x\\in V}$ conditioned on $\\left(\\ell_x(\\tau_u^{x_0})+\\frac{1}{2}\\varphi^2_x\\right)_{x\\in V}$. The jump rates of that latter process can be interpreted as the two-point functions of the Ising model associated to the time-evolving weights.\n\nHowever in \\cite{SabotTarres2015RK} the link with the Ising model is only implicit, and a natural question is whether Ray-Knight inversion can be described in a simpler form if we enlarge the state space of the dynamics, and in particular include the ``hidden'' spin variables. \n\nThe answer is positive, and goes through an extension  of the Ray-Knight isomorphism introduced by Lupu \\cite{Lupu2014LoopsGFF}, which couples the sign of the GFF to the path of the Markov chain. The Ray-Knight inversion will turn out to take a rather simple form  in Theorem \\ref{thm-Poisson} of the present paper, where it will be defined not only through the spin variables but also random currents associated to the field though an extra Poisson Point Process. \n\nThe paper is organised as follows. \n\nIn Section \\ref{sec:srk} we recall some background on loop soup isomorphisms and on related couplings and state and prove a signed version of generalized second Ray-Knight theorem. We begin in Section \\ref{sec:lejan} by a statement of Le Jan's isomorphism which couples the square of the Gaussian Free Field to the loop soups, and recall how the generalized second Ray-Knight theorem can be seen as its Corollary: for more details see \\cite{lejan4}. In Subsection \\ref{sec:lupu} we state Lupu's isomorphism which extends Le Jan's isomorphism and couples the  sign of the GFF to the loop soups, using  a  cable graph extension of the GFF and Markov Chain. Lupu's isomorphism yields an interesting realisation of the well-known  FK-Ising coupling,  and provides as well a ``Current+Bernoulli=FK'' coupling lemma \\cite{lupu-werner}, which occur in the relationship between the discrete and cable graph versions. We briefly recall those couplings in Sections \\ref{fkising} and \\ref{randomcurrent}, as they are implicit in this paper. In Section \\ref{sec:glupu} we state and prove the generalized second Ray-Knight ``version'' of Lupu's isomorphism, which we aim to invert. \n\nSection \\ref{sec:inversion} is devoted to the statements of inversions of those isomorphisms. We state in Section \\ref{sec_Poisson} a signed version of the inversion of the generalized second Ray-Knight theorem through an extra Poisson Point Process, namely Theorem \\ref{thm-Poisson}. In Section \\ref{sec_dicr_time} we provide a discrete-time description of the process, whereas in Section \\ref{sec_jump} we yield  an alternative version of that process through jump rates, which can be seen as an annealed version of the first one. We deduce a signed inversion of Le Jan's isomorphism for loop soups in Section \\ref{sec:lejaninv}, and an inversion of the coupling of random current with FK-Ising in Section \\ref{sec:coupinv}\n\nFinally Section \\ref{sec:proof} is devoted to the proof of Theorem \\ref{thm-Poisson}: Section \\ref{sec:pfinite} deals with the case of a finite graph without killing measure, and Section \\ref{sec:pgen} deduces the proof in the general case.  \n\n\\section{Le Jan's and Lupu's isomorphisms}\n\\label{sec:srk}\n\\subsection{Loop soups and Le Jan's isomorphism}\n\\label{sec:lejan}\nThe \\textit{loop measure} associated to the Markov jump process\n$(X_{t})_{0\\leq t<\\zeta}$ is defined as follows. Let $\\mathbb{P}^{t}_{x,y}$ be the bridge probability measure from \n$x$ to $y$ in time $t$ (conditionned on $t<\\zeta$). Let $p_{t}(x,y)$ be the transition probabilities of \n$(X_{t})_{0\\leq t<\\zeta}$. \n\nLet $\\mu_{\\rm loop}$ be the measure on time-parametrised nearest-neighbour based loops (i.e. loops with a starting site)\n\\begin{displaymath}\n\\mu_{\\rm loop}=\\sum_{x\\in V}\\int_{t>0}\\mathbb{P}^{t}_{x,x} p_{t}(x,x) \\dfrac{dt}{t}.\n\\end{displaymath}\nThe loops will be considered here up to a rotation of parametrisation (with the corresponding pushforward measure induced by $\\mu_{\\rm loop}$), that is to say a loop $(\\gamma(t))_{0\\leq t\\leq t_{\\gamma}}$ will be the same as \n$(\\gamma(T+t))_{0\\leq t\\leq t_{\\gamma}-T}\\circ (\\gamma(T+t-t_{\\gamma}))_{t_{\\gamma}-T\\leq t\\leq t_{\\gamma}}$, where $\\circ$ denotes the concatenation of paths.\nA \\textit{loop soup} of intensity $\\alpha>0$, denoted \n$\\mathcal{L}_{\\alpha}$, is a Poisson random measure of intensity\n$\\alpha \\mu_{\\rm loop}$. We see it as a random collection of loops in $\\mathcal{G}$. Observe that a.s. above each vertex \n$x\\in V$, $\\mathcal{L}_{\\alpha}$ contains infinitely many trivial \&quot;loops\&quot; reduced to the vertex $x$. There are also with positive probability non-trivial loop that visit several vertices. \n\nLet  $L_{.}(\\mathcal{L}_{\\alpha})$ be the \\textit{occupation field} of $\\mathcal{L}_{\\alpha}$ on $V$ i.e., for all $x\\in V$, \n\\begin{displaymath}\nL_x(\\mathcal{L}_{\\alpha})=\n\\sum_{(\\gamma(t))_{0\\leq t\\leq t_{\\gamma}}\\in\\mathcal{L}_{\\alpha}}\n\\int_{0}^{t_{\\gamma}}1_{\\{\\gamma(t)=x\\}} dt.\n\\end{displaymath}\nIn \\cite{LeJan2011Loops} Le Jan shows that for transient Markov jump processes, $L_x(\\mathcal{L}_{\\alpha})<+\\infty$ for all $x\\in V$ a.s. For $\\alpha=\\frac{1}{2}$ he identifies the law of\n$L_.(\\mathcal{L}_{\\alpha})$:\n\\begin{IsoLeJan}\n$L_.(\\mathcal{L}_{1/2})=\\left(L_x(\\mathcal{L}_{1/2})\\right)_{x\\in V}$ has the same law as\n$\\dfrac{1}{2}\\varphi^2=\\left(\\dfrac{1}{2}\\varphi_{x}^{2}\\right)_{x\\in V}$\nunder $P_{\\varphi}$.\n\\end{IsoLeJan}\n\nLet us briefly recall how Le Jan's isomorphism enables one to retrieve the generalized second Ray-Knight theorem stated in Section \\ref{SecIntro}: for more details, see for instance \\cite{lejan4}. We assume that $\\kappa$ is supported by $x_0$: the general case can be dealt with by an argument similar to the proof of Proposition \\ref{PropKillingCase}. \nLet $D=V\\setminus\\{x_0\\}$, and note that the isomorphism in particular implies that $L_.(\\mathcal{L}_{1/2})$ conditionally on $L_{x_0}(\\mathcal{L}_{1/2})=u$ has the same law as $\\varphi^2/2$ conditionally on $\\varphi_{x_0}^2/2=u$. \n\nOn the one hand, given the classical energy decomposition, we have $\\varphi=\\varphi^D+\\varphi_{x_0}$, with $\\varphi^D$ the GFF associated to the restriction of $\\mathcal{E}$ to $D$, where $\\varphi^D$ and $\\varphi_{x_0}$ are independent. Now $\\varphi^2/2$ conditionally on $\\varphi_{x_0}^2/2=u$ has the law of $(\\varphi^D+\\eta\\sqrt{2u})^2/2$, where $\\eta$ is the sign of $\\varphi_{x_0}$, which is independent of $\\varphi^D$. But $\\varphi^D$ is symmetric, so that the latter also has the law of $(\\varphi^D+\\sqrt{2u})^2/2$.\n\nOn the other hand, the loop soup $\\mathcal{L}_{1/2}$ can be decomposed into the two independent loop soups $\\mathcal{L}_{1/2}^D$ contained in $D$ and $\\mathcal{L}_{1/2}^{(x_0)}$ hitting $x_0$. Now $L_.(\\mathcal{L}_{1/2}^D)$ has the law of $(\\varphi^D)^2/2$ and  $L_.(\\mathcal{L}_{1/2}^{(x_0)})$ conditionally on $L_{x_0}(\\mathcal{L}_{1/2}^{(x_0)})=u$ has the law of the occupation field of the Markov chain $\\ell(\\tau_{u}^{x_{0}})$\nunder $\\mathbb{P}_{x_{0}}(\\cdot \\vert \\tau_{u}^{x_{0}}<\\zeta)$, which enables us to conclude.\n\n\\subsection{Lupu's isomorphism}\n\\label{sec:lupu}\nAs in \\cite{Lupu2014LoopsGFF}, we consider the \\textit{metric graph} $\\tilde{\\mathcal{G}}$ associated to $\\mathcal{G}$. Each edge $e$ is replaced by a continuous line of length \n$\\frac{1}{2}W_{e}^{-1}$. \n\nThe GFF $\\varphi$ on $\\mathcal{G}$ with law $P_\\varphi$ can be extended to a GFF $\\tilde{\\varphi}$ on $\\tilde{\\mathcal{G}}$ as follows. Given $e\\in E$, one considers inside $e$ a conditionally independent Brownian bridge, actually a bridge of a $\\sqrt{2} \\times$ \n\\textit{standard Brownian motion}, of length $\\frac{1}{2}W_{e}^{-1}$, with end-values\n$\\varphi_{e_{-}}$ and $\\varphi_{e_{+}}$. This provides a continuous field on the metric graph which satisfies the spatial Markov property. \n\nSimilarly one can define a standard Brownian motion $(B^{\\tilde{\\mathcal{G}}})_{0\\le t\\le \\tilde{\\zeta}}$ on $\\tilde{\\mathcal{G}}$, whose trace on $\\mathcal{G}$ indexed by the local times at $V$ has the same law as the Markov process $(X_t)_{t\\ge0}$ on $V$ with jump rate $W_e$ to an adjacent edge $e$ up to time $\\zeta$, as explained in Section 2 of \\cite{Lupu2014LoopsGFF}. One can associate a measure on time-parametrized continuous loops $\\tilde{\\mu}$, and let $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ be the Poisson Point Process of loops of intensity $\\tilde{\\mu}/2$: the discrete-time loops $\\mathcal{L}_{\\frac{1}{2}}$ can be obtained from $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ by taking the print of the latter on $V$.\n\nLupu introduced in \\cite{Lupu2014LoopsGFF} an isomorphism linking  the GFF $\\tilde{\\varphi}$ and the loop soup $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ on $\\tilde{\\mathcal{G}}$. \n\n\\begin{theorem}[Lupu's Isomorphism,\\cite{Lupu2014LoopsGFF}]\n\\label{thm:Lupu} \nThere is a coupling between the Poisson ensemble of loops $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ and $(\\tilde{\\varphi}_y)_{y\\in\\tilde{\\mathcal{G}}}$ defined above, such that the two following constraints hold: \n\\begin{itemize}\n\\item For all $y\\in\\tilde{\\mathcal{G}}$, $L_y(\\tilde{{\\mathcal{L}}}_{\\frac{1}{2}})=\\frac{1}{2}\\tilde{\\varphi}_y^2$\n\\item The clusters of loops of $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ are exactly the sign clusters of $(\\tilde{\\varphi}_y)_{y\\in\\tilde{\\mathcal{G}}}$.\n\\end{itemize}\nConditionally on $(|\\tilde{\\varphi}_y|)_{y\\in\\tilde{\\mathcal{G}}}$, the sign of $\\tilde{\\varphi}$ on each of its connected components is distributed independently and uniformly in $\\{-1,+1\\}$. \n\\end{theorem}\nLupu's isomorphism and the idea of using metric graphs were applied in \\cite{Lupu2015ConvCLE} to show that on the discrete half-plane $\\mathbb{Z}\\times\\mathbb{N}$, the scaling limits of outermost boundaries of clusters of loops in loop soups are the Conformal Loop Ensembles $\\hbox{CLE}$.\n\nLet $\\mathcal{O}(\\tilde{\\varphi})$ (resp. $\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$) be the set of edges $e\\in E$ such that $\\tilde{\\varphi}$ (resp. $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$) does not touch $0$ on $e$, in other words such that all the edge $e$ remains in the same sign cluster of $\\tilde{\\varphi}$ (resp. $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$). Let $\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}})$ be the set of edges $e\\in E$ that are crossed (i.e. visited consecutively) by the trace of the loops $\\mathcal{L}_{\\frac{1}{2}}$ on $V$.\n\nIn order to translate Lupu's isomorphism back onto the initial graph $\\mathcal{G}$, one needs to describe on one hand the distribution of $\\mathcal{O}(\\tilde{\\varphi})$ conditionally on the values of $\\varphi$, and on the other hand the distribution of $\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$  conditionally on $\\mathcal{L}_{\\frac{1}{2}}$ and the cluster of loops $\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}})$ on the discrete graph $G$. These two distributions are described respectively in Subsections \\ref{fkising} and \\ref{randomcurrent}, and provide realisations of the  FK-Ising coupling and the ``Current+Bernoulli=FK'' coupling lemma \\cite{lupu-werner}.\n\n\\subsection{The FK-Ising distribution of $\\mathcal{O}(\\tilde{\\varphi})$ conditionally on $|\\varphi|$}\n\\label{fkising}\n\\begin{lemma}\n\\label{lem:fki}\nConditionally on $(\\varphi_{x})_{x\\in V}$, $(1_{e\\in \\mathcal{O}(\\tilde{\\varphi})})_{e\\in E}$\nis a family of independent random variables and\n\\begin{displaymath}\n\\mathbb{P}\\left(e\\not\\in \\mathcal{O}(\\tilde{\\varphi})\\vert \\varphi\\right)=\n\\left\\lbrace\n\\begin{array}{ll}\n1 &amp; \\text{if}~ \\varphi_{e_{-}}\\varphi_{e_{+}}<0,\\\\ \n\\exp\\left(-2W_{e}\\varphi_{e_{-}}\\varphi_{e_{+}}\\right)\n&amp; \\text{if}~ \\varphi_{e_{-}}\\varphi_{e_{+}}>0.\n\\end{array} \n\\right.\n\\end{displaymath}\n\\end{lemma}\n\\begin{proof}\nConditionally on $(\\varphi_{x})_{x\\in V}$, are constructed as independent Brownian bridges on each edge, so that $(1_{e\\in \\mathcal{O}(\\tilde{\\varphi})})_{e\\in E}$ are independent random variables, and it follows from the reflection principle that, if $\\varphi_{e_{-}}\\varphi_{e_{+}}>0$, then \n$$\\mathbb{P}\\left(e\\not\\in \\mathcal{O}(\\tilde{\\varphi})\\vert \\varphi\\right)=\\dfrac{\\exp\\left(-\\frac{1}{2}W_{e}(\\varphi_{e_{-}}+\\varphi_{e_{+}})^{2}\\right)}\n{\\exp\\left(-\\frac{1}{2}W_{e}(\\varphi_{e_{-}}-\\varphi_{e_{+}})^{2}\\right)}=\\exp\\left(-2W_{e}\\varphi_{e_{-}}\\varphi_{e_{+}}\\right).$$\n\\end{proof}\n\nLet us now recall how the conditional probability in Lemma \\ref{lem:fki} yields a realisation of the FK-Ising coupling. \n\n Assume $V$ is finite. Let $(J_{e})_{e\\in E}$ be a family of positive weights. An \\textit{Ising model} on $V$ with interaction constants $(J_{e})_{e\\in E}$ is a\nprobability on configuration of spins $({\\sigma}_{x})_{x\\in V}\\in \\{+1,-1\\}^V$ such that\n\\begin{displaymath}\n\\mathbb{P}^{\\rm Isg}_{J}((\\sigma_x)_{x\\in V})=\n\\dfrac{1}{\\mathcal{Z}^{\\rm Isg}_{J}}\\exp\\left(\\sum_{e\\in E}\nJ_{e}\\sigma_{e_{+}}\\sigma_{e_{-}}\\right).\n\\end{displaymath}\nAn \\textit{FK-Ising random cluster model} with weights\n$(1-e^{-2J_{e}})_{e\\in E}$ is a random configuration of open (value $1$) and closed\nedges (value $0$) such that\n\\begin{displaymath}\n\\mathbb{P}^{\\rm FK-Isg}_{J}((\\omega_{e})_{e\\in E})=\n\\dfrac{1}{\\mathcal{Z}^{\\rm FK-Isg}_{J}}\n2^{\\sharp~\\text{clusters}}\n\\prod_{e\\in E}(1-e^{-2J_{e}})^{\\omega_{e}}(e^{-2J_{e}})^{1-\\omega_{e}},\n\\end{displaymath}\nwhere \&quot;$\\sharp~\\text{clusters}$\&quot; denotes the number of clusters created by open edges.\n\nThe well-known FK-Ising and Ising coupling reads as follows.\n\\begin{proposition}[FK-Ising and Ising coupling]\n\\label{FK-Ising}\nGiven an FK-Ising model, sample on each cluster an independent uniformly distributed spin. The spins are then distributed according to the Ising model. Conversely, given a spins configuration\n$\\hat{\\sigma}$ following the Ising distribution, consider each edge $e$, such that\n$\\hat{\\sigma}_{e_{-}}\\hat{\\sigma}_{e_{+}}<0$, closed, and each edge $e$, such that\n$\\hat{\\sigma}_{e_{-}}\\hat{\\sigma}_{e_{+}}>0$ open with probability\n$1-e^{-2J_{e}}$. Then the open edges are distributed according to the FK-Ising model.\nThe two couplings between FK-Ising and Ising are the same.\n\\end{proposition}\n\n\nConsider the GFF $\\varphi$ on $\\mathcal{G}$ distributed according to $P_{\\varphi}$. Let\n$J_{e}(\\vert\\varphi\\vert)$ be the random interaction constants\n\\begin{displaymath}\nJ_{e}(\\vert\\varphi\\vert)=W_{e}\\vert\\varphi_{e_{-}}\\varphi_{e_{+}}\\vert.\n\\end{displaymath}\n\nConditionally on $\\vert\\varphi\\vert$,\n$(\\operatorname{sign}(\\varphi_{x}))_{x\\in V}$ follows an Ising distribution with interaction constants $(J_{e}(\\vert\\varphi\\vert))_{e\\in E}$:\nindeed, the Dirichlet form (\\ref{Dirichlet-form}) can be written as\n\\begin{displaymath}\n\\mathcal{E}(\\varphi,\\varphi)=\\sum_{x\\in V}\\kappa_{x} \\varphi(x)^{2}+\n\\sum_{x\\in V}(\\varphi(x))^2(\\sum_{y\\sim x} W_{x,y})-\n2\\sum_{e\\in E}J_e(\\vert\\varphi\\vert) \\operatorname{sign}(\\varphi(e_{+}))\\operatorname{sign}(\\varphi(e_{-})).\n\\end{displaymath}\nSimilarly, when $\\varphi\\sim P_{\\varphi}^{\\{x_0\\},\\sqrt{2u}}$ has boundary condition $\\sqrt{2u}\\ge 0$ on $x_0$, then $(\\operatorname{sign}(\\varphi_{x}))_{x\\in V}$ has an Ising distribution\nwith interaction $(J_{e}(\\vert\\varphi\\vert))_{e\\in E}$ and conditioned on $\\sigma_{x_0}=+1$.\n\nNow, conditionally on $\\varphi$, $\\mathcal{O}(\\tilde{\\varphi})$ has FK-Ising distribution  with weights\n$(1-e^{-2J_{e}(\\vert\\varphi\\vert)})_{e\\in E}$. Indeed, the probability for $e\\in\\mathcal{O}(\\tilde{\\varphi})$ conditionally on $\\varphi$ is $1-e^{-2J_{e}(\\vert\\varphi\\vert)}$,  by Lemma \\ref{lem:fki}, as in Proposition \\ref{FK-Ising}. \n\nNote that, given that $\\mathcal{O}(\\tilde{\\varphi})$ has FK-Ising distribution, the fact that the sign of on its connected components is distributed independently and uniformly in $\\{-1,1\\}$ can be seen either as a consequence of Proposition \\ref{FK-Ising}, or from Theorem \\ref{thm:Lupu}.\n\nGiven $\\varphi=(\\varphi_x)_{x\\in V}$ on the discrete graph $\\mathcal{G}$, we introduce in Definition \\ref{def_FK-Ising} as the random set of edges which has the distribution of $\\mathcal{O}(\\tilde{\\varphi})$ conditionally on $\\varphi=(\\varphi_x)_{x\\in V}$. \n\\begin{definition}\\label{def_FK-Ising}\nWe let $\\mathcal{O}(\\varphi)$ be a random set of edges which has the distribution of $\\mathcal{O}(\\tilde{\\varphi})$ conditionally on $\\varphi=(\\varphi_x)_{x\\in V}$ given by Lemma \\ref{lem:fki}.\n\\end{definition}\n\\subsection{Distribution of $\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$  conditionally on $\\mathcal{L}_{\\frac{1}{2}}$ }\n\\label{randomcurrent}\nThe distribution of $\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$  conditionally on $\\mathcal{L}_{\\frac{1}{2}}$ can be retrieved by  Corollary 3.6 in \\cite{Lupu2014LoopsGFF}, which reads as follows. \n\\begin{lemma}[Corollary 3.6 in \\cite{Lupu2014LoopsGFF}]\n\\label{36} Conditionally on $\\mathcal{L}_{\\frac{1}{2}}$, the events $e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$, $e\\in E\\setminus\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}})$, are independent and have probability\n\\begin{equation}\n\\label{cp}\n\\exp\\left(-2 W_{e} \\sqrt{L_{e_{+}}(\\mathcal{L}_{\\frac{1}{2}})L_{e_{-}}(\\mathcal{L}_{\\frac{1}{2}})}\\right).\n\\end{equation}\n\\end{lemma}\nThis result gives rise, together with Theorem \\ref{thm:Lupu}, to the following discrete version of Lupu's isomorphism, which is stated without any recourse to the cable graph induced by $\\mathcal{G}$. \n\\begin{definition}\n\\label{def:out}\nLet $(\\omega_{e})_{e\\in E}\\in\\lbrace 0,1\\rbrace^{E}$ be a percolation defined as follows: conditionally on $\\mathcal{L}_{\\frac{1}{2}}$, the random variables \n$(\\omega_{e})_{e\\in E}$ are independent, and $\\omega_{e}$ equals $0$ with conditional probability given by \\eqref{cp}.\n\nLet $\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$ the set of edges:\n\\begin{displaymath}\n\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})=\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}})\n\\cup \\lbrace e\\in E\\vert \\omega_{e}=1\\rbrace.\n\\end{displaymath}\n\\end{definition}\n\\begin{proposition}[Discrete version of Lupu's isomorphism, Theorem 1 bis in \\cite{Lupu2014LoopsGFF}]\n\\label{PropIsoLupuLoops}\nGiven a loop soup $\\mathcal{L}_{\\frac{1}{2}}$, let $\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$ be as in Definition \\ref{def:out}.\nLet $(\\sigma_{x})_{x\\in V}\\in\\lbrace -1,+1\\rbrace^{V}$ be random spins taking constant values on\nclusters induced by $\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$ \n($\\sigma_{e_{-}}=\\sigma_{e_{+}}$ if $e\\in \\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$) and such that the values on each cluster, conditional on $\\mathcal{L}_{\\frac{1}{2}}$ and $\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$, are independent and uniformly distributed. Then\n\\begin{displaymath}\n\\left(\\sigma_{x}\\sqrt{2 L_{x}(\\mathcal{L}_{\\frac{1}{2}})}\\right)_{x\\in V}\n\\end{displaymath}\nis a Gaussian free field distributed according to $P_{\\varphi}$.\n\\end{proposition}\n\nProposition \\ref{PropIsoLupuLoops}  induces the following coupling between FK-Ising and random currents. \n\nIf $V$ is finite, a \\textit{random current model} on $\\mathcal{G}$ with weights\n$(J_{e})_{e\\in E}$ is a random assignment to each edge $e$ of a non-negative integer\n$\\hat{n}_{e}$ such that for all $x\\in V$,\n\\begin{displaymath}\n\\sum_{e~\\text{adjacent to}~x}\\hat{n}_{e}\n\\end{displaymath}\nis even, which is called the \\textit{parity condition}. The probability of a configuration\n$(n_{e})_{e\\in E}$ satisfying the parity condition is\n\\begin{displaymath}\n\\mathbb{P}^{\\rm RC}_{J}(\\forall e\\in E, \\hat{n}_{e}=n_{e})=\n\\dfrac{1}{\\mathcal{Z}^{\\rm RC}_{J}}\\prod_{e\\in E}\\dfrac{(J_{e})^{n_{e}}}{n_{e}!},\n\\end{displaymath}\nwhere actually $\\mathcal{Z}^{\\rm RC}_{J}=\\mathcal{Z}^{\\rm Isg}_{J}$. Let\n\\begin{displaymath}\n\\mathcal{O}(\\hat{n})=\\lbrace e\\in E\\vert \\hat{n}_{e}>0\\rbrace.\n\\end{displaymath}\nThe open edges in $\\mathcal{O}(\\hat{n})$ induce clusters on the graph $\\mathcal{G}$.\n\nGiven a loop soup $\\mathcal{L}_{\\alpha}$, we denote by $N_{e}(\\mathcal{L}_{\\alpha})$ the number of times the loops in $\\mathcal{L}_{\\alpha}$ cross the nonoriented edge $e\\in E$. The transience of the Markov jump process $X$ implies that\n$N_{e}(\\mathcal{L}_{\\alpha})$ is a.s. finite for all $e\\in E$. If $\\alpha=\\frac{1}{2}$, we have the following identity (see for instance \\cite{Werner2015}):\n\n\\begin{LoopsRC}\nAssume $V$ is finite and consider the loop soup $\\mathcal{L}_{\\frac{1}{2}}$. Conditionally on the occupation field $(L_{x}(\\mathcal{L}_{\\frac{1}{2}}))_{x\\in V}$, \n$(N_{e}(\\mathcal{L}_{\\frac{1}{2}}))_{e\\in E}$ is distributed as a random current model with weights \n$\\left(2W_{e}\\sqrt{L_{e_{-}}(\\mathcal{L}_{\\frac{1}{2}})L_{e_{+}}\n(\\mathcal{L}_{\\frac{1}{2}})}\\right)_{e\\in E}$. If $\\varphi$ is the GFF on $\\mathcal{G}$ given by Le Jan's or Lupu's isomorphism, then these weights are\n$(J_{e}(\\vert\\varphi\\vert))$.\n\\end{LoopsRC}\n\nConditionally on the occupation field \n$(L_{x}(\\mathcal{L}_{\\frac{1}{2}}))_{x\\in V}$, \n$\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}})$ are the edges occupied by a random current and \n$\\mathcal{O}_{+}(\\mathcal{L}_{\\frac{1}{2}})$ the edges occupied by FK-Ising. \nLemma \\ref{lem:fki} and Proposition \\ref{PropIsoLupuLoops} imply the following coupling, as noted by Lupu and Werner in \n\\cite{lupu-werner}.\n\n\\begin{proposition}[Random current and FK-Ising coupling, \n\\cite{lupu-werner}]\n\\label{RCFKIsing}\nAssume $V$ is finite. Let $\\hat{n}$ be a random current on $\\mathcal{G}$ with weights\n$(J_{e})_{e\\in E}$. Let $(\\omega_{e})_{e\\in E}\\in\\lbrace 0,1\\rbrace^{E}$ be an independent percolation, each edge being opened (value $1$) independently with probability \n$1-e^{-J_{e}}$. Then\n\\begin{displaymath}\n\\mathcal{O}(\\hat{n})\\cup\\lbrace e\\in E\\vert \\omega_{e}=1\\rbrace\n\\end{displaymath}\nis distributed like the open edges in an FK-Ising with weights \n$(1-e^{-2 J_{e}})_{e\\in E}$.\n\\end{proposition}\n \n\\subsection{Generalized second Ray-Knight ``version'' of Lupu's isomorphism}\\label{sec:glupu}\nWe are now in a position to state the coupled version of the second Ray-Knight theorem.\n\\begin{theorem}\n\\label{Lupu}\nLet $x_{0}\\in V$. Let $(\\varphi_{x}^{(0)})_{x\\in V}$ with distribution $P_{\\varphi}^{\\lbrace x_{0}\\rbrace,0}$, and define $\\mathcal{O}(\\varphi^{(0)})$ as in Definition \\ref{def_FK-Ising}. \nLet $X$ be an independent Markov jump process started from $x_{0}$. \n\nFix $u>0$. If $\\tau_{u}^{x_{0}}<\\zeta$, we \nlet $\\mathcal{O}_{u}$ be the random subset of $E$ which contains $\\mathcal{O}(\\varphi_{x}^{(0)})$, the edges used by the path $(X_{t})_{0\\leq t\\leq \\tau_{u}^{x_{0}}}$, and additional edges $e$ opened conditionally independently with probability\n\\begin{displaymath}\n1-e^{W_{e}\\vert\\varphi_{e_{-}}^{(0)}\\varphi_{e_{+}}^{(0)}\\vert - \nW_{e}\\sqrt{(\\varphi_{e_{-}}^{(0)2}+2\\ell_{e_{-}}(\\tau_{u}^{x_{0}}))\n(\\varphi_{e_{+}}^{(0)2}+2\\ell_{e_{+}}(\\tau_{u}^{x_{0}}))}}.\n\\end{displaymath}\nWe let $\\sigma\\in\\lbrace -1,+1\\rbrace^{V}$ be random spins sampled uniformly independently on each cluster induced by\n$\\mathcal{O}_{u}$, pinned at $x_0$, i.e. $\\sigma_{x_0}=1$, and define\n\\begin{displaymath}\n\\varphi_{x}^{(u)}:=\\sigma_{x}\\sqrt{\\varphi_{x}^{(0)2}+2\\ell_{x}(\\tau_{u}^{x_{0}})}.\n\\end{displaymath}\n\nThen, conditionally on $\\tau_{u}^{x_{0}}<\\zeta$, $\\varphi^{(u)}$ has  distribution $P_{\\varphi}^{\\lbrace x_{0}\\rbrace,\\sqrt{2u}}$, and\n$\\mathcal{O}_{u}$ has distribution $\\mathcal{O}(\\varphi^{(u)})$ conditionally on $\\varphi^{(u)}$.\n\\end{theorem}\n\\begin{remark}\nOne consequence of that coupling is that the path $(X_{s})_{s\\le \\tau_{u}^{x_{0}}}$ stays in the \npositive connected component of ${x_0}$ for $\\varphi^{(u)}$. This yields a coupling between the range\nof the Markov chain and the sign component of $x_{0}$ inside a GFF $P_{\\varphi}^{\\lbrace x_{0}\\rbrace,\\sqrt{2u}}$.\n\\end{remark}\n\n\\noindent{\\it Proof of Theorem \\ref{Lupu}:~}\nThe proof is based on\n\\cite{Lupu2014LoopsGFF}.  Let $D=V\\setminus\\{x_0\\}$, and let $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ be the loop soup of intensity $1/2$ on the cable graph $\\tilde{\\mathcal{G}}$, which we decompose into $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^{(x_0)}$ (resp. $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^{D}$) the loop soup hitting (resp. not hitting) $x_0$, which are independent. We let $\\mathcal{L}_{\\frac{1}{2}}$ and $\\mathcal{L}_{\\frac{1}{2}}^{(x_0)}$ (resp.  $\\mathcal{L}_{\\frac{1}{2}}^{D}$) be the prints of these loop soups on $V$ (resp. on $D=V\\setminus\\{x_0\\}$). We condition on $L_{x_0}(\\mathcal{L}_{\\frac{1}{2}})=u$. \n\nTheorem \\ref{thm:Lupu} implies (recall also Definition \\ref{def_FK-Ising}) that we can couple $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^{D}$ with $\\varphi^{(0)}$ so that \n$L_x(\\mathcal{L}_{\\frac{1}{2}}^{D})=\\varphi_x^{(0)2}/2$ for all $x\\in V$, and \n$\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})=\\mathcal{O}(\\varphi^{(0)})$. \n\nDefine \n$\\varphi^{(u)}=(\\varphi^{(u)}_x)_{x\\in V}$ from \n$\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ by, for all $x\\in V$, \n\\begin{equation*}\n\\label{abs}\n|\\varphi_x^{(u)}|=\\sqrt{2L_x(\\mathcal{L}_{\\frac{1}{2}})}\n\\end{equation*}\nand $\\varphi_x^{(u)}=\\sigma_x|\\varphi_x^{(u)}|$, where $\\sigma\\in\\{-1,+1\\}^V$ are random spins sampled uniformly independently on each cluster induced by $\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})$, pinned at $x_0$,  i.e. $\\sigma_{x_0}=1$. Then, by Theorem \\ref{thm:Lupu}, $\\varphi^{(u)}$ has distribution $P_{\\varphi}^{\\lbrace x_{0}\\rbrace,\\sqrt{2u}}$.\n\nFor all $x\\in V$, we have\n$$L_x(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})=\\frac{\\varphi_x^{(0)2}}{2}+L_x(\\mathcal{L}_{\\frac{1}{2}}^{(x_0)}).$$\n\nOn the other hand, conditionally on $L_.(\\mathcal{L}_{\\frac{1}{2}})$,\n\\begin{align*}\n&amp;\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})\\,|\\,\ne\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D)\\cup\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}))\n=\\frac{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}))}{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D)\\cup\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}))}=\n\\frac{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})\\,|\\,\ne\\not\\in\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}))}{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D)\\,|\\,\ne\\not\\in\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}))}\\\\\n&amp;=\\frac{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}})\\,|\\,\ne\\not\\in\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}))}{\\mathbb{P}(e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D)\\,|\\,\ne\\not\\in\\mathcal{O}(\\mathcal{L}_{\\frac{1}{2}}^D))}\n=\\exp\\left(-W_e\\sqrt{L_{e_-}(\\mathcal{L}_{\\frac{1}{2}})L_{e_+}(\\mathcal{L}_{\\frac{1}{2}})}\n+W_e\\sqrt{L_{e_-}(\\mathcal{L}_{\\frac{1}{2}}^D)L_{e_+}(\\mathcal{L}_{\\frac{1}{2}}^D)}\\right),\n\\end{align*}\nwhere we use in the third equality that the event $e\\not\\in\\mathcal{O}(\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D)$ is measurable with respect to the $\\sigma$-field generated by $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D$, which is independent of $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^{(x_0)}$, and where we use Lemma \\ref{36} in the fourth equality, for $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}$ and for $\\tilde{\\mathcal{L}}_{\\frac{1}{2}}^D$. \n\nWe conclude the proof by observing that  $\\mathcal{L}_{\\frac{1}{2}}^{(x_0)}$ conditionally on $L_{x_0}(\\mathcal{L}_{\\frac{1}{2}}^{(x_0)})=u$ has the law of the occupation field of the Markov chain $\\ell(\\tau_{u}^{x_{0}})$\nunder $\\mathbb{P}_{x_{0}}(\\cdot \\vert \\tau_{u}^{x_{0}}<\\zeta)$.\n{\\hfill $\\Box$}\n\\section{Inversion of the signed isomorphism}\n\\label{sec:inversion}\nIn \\cite{SabotTarres2015RK}, Sabot and TarrÃ¨s give a new proof of the generalized second Ray-Knight theorem together with a construction that inverts the coupling between the square of a GFF conditioned by its value at a vertex $x_{0}$ and the excursions of the jump process $X$ from and to $x_{0}$. \nIn this paper we are interested in inverting the coupling of Theorem \\ref{Lupu} with the signed GFF : more precisely, we want to describe the law of\n$(X_t)_{0\\le t\\le \\tau_u^{x_0}}$ conditionally on $\\varphi^{(u)}$. \n\nWe present in section \\ref{sec_Poisson}\nan inversion involving an extra Poisson process. We provide in Section \\ref{sec_dicr_time} a discrete-time description of the process and in Section \\ref{sec_jump} an alternative description via jump rates.  Sections \\ref{sec:lejaninv} and \\ref{sec:coupinv} are respectively dedicated to a signed inversion of Le Jan's isomorphism for loop soups, and to an inversion of the coupling of random current with FK-Ising.\n\n\\subsection{A description via an extra Poisson point process}\\label{sec_Poisson}\n\nLet $(\\check \\varphi_x)_{x\\in V}$ be a real function on $V$ such that\n$\\check\\varphi_{x_0}=+\\sqrt{2u}$ for some $u>0$. Set \n$$\n\\check \\Phi_x=\\vert\\check\\varphi_x\\vert, \\;\\;\\sigma_x=\\operatorname{sign}(\\check\\varphi_x).\n$$\nWe define a self-interacting process $(\\check X_t, (\\check n_e(t))_{e\\in E})$ living on $V\\times {\\mathbb{N}}^E$ as follows.\nThe process $\\check X$ starts at $\\check X(0)=x_0$.\nFor $t\\ge 0$, we set\n$$\n\\check\\Phi_x(t)=\\sqrt{(\\check\\Phi_x)^2-2\\check\\ell_x(t)},\\;\\;\\forall x\\in V,\\;\\;\\;\\hbox{ and }\\;\nJ_e(\\check\\Phi(t))=W_e \\check\\Phi_{e-}(t)\\check\\Phi_{e+}(t), \\;\\; \\forall e\\in E.\n$$\nwhere $\\check\\ell_x(t)=\\int_0^t{{\\mathbbm 1}}_{\\{\\check X_s=x\\}}ds$ is the local time of the process $\\check X$ up to time $t$.\nLet $(N_e(u))_{u\\ge 0}$ be an independent Poisson Point Processes on ${\\mathbb R}_+$ with intensity 1, for each edge $e\\in E$.\nWe set\n$$\n\\check n_e(t)=\n\\begin{cases} \nN_e(2J_e(t)), &amp;\\hbox{ if } \\sigma_{e-}\\sigma_{e+}=+1,\n\\\\\n0, &amp;\\hbox{ if } \\sigma_{e-}\\sigma_{e+}=-1.\n\\end{cases}\n$$\nWe also denote by $\\check {\\mathcal C}(t)\\subset E$ the configuration of edges such that $\\check n_e(t)>0$.\nAs time increases, the interaction parameters $J_{e}(\\check\\Phi(t))$ decreases for the edges neighboring $\\check X_t$, and at some random times $\\check n_e(t)$ may drop\nby 1.\nThe process $(\\check X_t)_{t\\ge 0}$ is defined as the process that jumps only at the times when one of the $\\check n_e(t)$ drops by 1, as follows:\n\\begin{itemize}\n\\item\nif $\\check n_e(t)$ decreases by 1 at time $t$, but does not create a new cluster in $\\check {\\mathcal C}_t$, then $\\check X_t$ crosses the edge\n$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,\n\\item\nif $\\check n_e(t)$ decreases by 1 at time $t$, and does create a new cluster in $\\check {\\mathcal C}_t$,\n then $\\check X_t$ moves/or stays with probability 1 on the unique extremity\nof $e$ which is in the cluster of the origin $x_0$ in the new configuration.\n\\end{itemize}\nWe set\n$$\n\\check T:=\\inf\\{t\\ge 0,\\;\\;  \\exists x\\in V, \\hbox{ s. t. } \\check\\Phi_x(t)=0\\},\n$$\nclearly, the process is well-defined up to time $\\check T$.\n\\begin{proposition}\nFor all $0\\le t\\le \\check T$, $\\check X_t$ is in the connected component of $x_0$ of the configuration $\\check {\\mathcal C}(t)$. If $V$ is finite,\nthe process ends at $x_0$, i.e. $\\check X_{\\check T}=x_0$.\n\\end{proposition}\n\n\\begin{theorem}\n\\label{thm-Poisson}\nAssume that $V$ is finite.\nWith the notation of Theorem \\ref{Lupu}, conditioned on $\\varphi^{(u)}=\\check\\varphi$, $(X_{t})_{t\\le \\tau_{u}^{x_{0}}}$ has the law\nof $(\\check X_{\\check T-t})_{0\\le t\\le \\check T}$.\n\nMoreover, conditioned on  $\\varphi^{(u)}=\\check\\varphi$, $(\\varphi^{(0)},\\mathcal{O}(\\varphi^{(0)}))$ has the law of\n$(\\sigma'_x\\check\\Phi_x(\\check T), \\check{\\mathcal C}(\\check T))$ where $(\\sigma'_x)_{x\\in V}\\in \\lbrace -1,+1\\rbrace^{V}$ are random spins sampled uniformly independently on \neach cluster induced by $\\check{\\mathcal C}(\\check T)$,\nwith the condition that $\\sigma'_{x_0}=+1$.\n\nIf $V$ is infinite, then $P_{\\varphi}^{\\lbrace x_{0}\\rbrace, \\sqrt{2u}}$-a.s.,\n$\\check X_t$ (with the initial condition $\\check\\varphi=\\varphi^{(u)}$)\nends at $x_0$, i.e. $\\check T<+\\infty$ and $\\check X_{\\check T}=x_0$. \nAll previous conclusions for the finite case still hold.\n\\end{theorem}\n\n\\subsection{Discrete time description of the process}\n\\label{sec_dicr_time}\n\nWe give a discrete time description of the process\n$(\\check X_t, (\\check n_e(t))_{e\\in E})$\nthat appears in the previous section.\nLet $t_{0}=0$ and $0<t_{1}<\\dots<t_{j}$ be the stopping times when one of the\nstacks $n_e(t)$ decreases by $1$, where $t_{j}$ is the time when one of the stacks is completely depleted. It is elementary to check the following:\n\n\\begin{proposition}\n\\label{PropDiscrTime}\nThe discrete time process\n$(\\check X_{t_{i}}, (\\check n_e(t_{i}))_{e\\in E})_{0\\leq i\\leq j}$ is a stopped Markov process. The transition from time $i-1$ to $i$ is the following:\n\\begin{itemize}\n\\item first chose $e$ an edge adjacent to the vertex $\\check X_{t_{i-1}}$\naccording to a probability proportional to $\\check n_e(t_{i-1})$,\n\\item decrease the stack $\\check n_e(t_{i-1})$ by 1,\n\\item\nif decreasing $\\check n_e(t_{i-1})$ by 1 does not create a new cluster in \n$\\check {\\mathcal C}_{t_{i-1}}$, then $\\check X_{t_{i-1}}$ crosses the edge\n$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,\n\\item\nif decreasing $\\check n_e(t_{i-1})$ by 1 does create a new cluster in \n$\\check {\\mathcal C}_{t_{i-1}}$,\n then $\\check X_{t_{i-1}}$ moves/or stays with probability 1 on the unique extremity of $e$ which is in the cluster of the origin $x_0$ in the new configuration.\n\\end{itemize}\n\\end{proposition}\n\n\\subsection{An alternative description via jump rates}\\label{sec_jump}\nWe provide an alternative description of the process $(\\check X_t, \\check {\\mathcal C}(t))$ that appears in Section \\ref{sec_Poisson}.\n\n\\begin{proposition}\\label{prop-jump}\nThe process $(\\check X_t, \\check{\\mathcal C}(t))$ defined in section \\ref{sec_Poisson} can be alternatively described by its jump rates :\nconditionally on its past at time $t$, if $\\check X_t=x$, $y\\sim x$ and $\\lbrace x,y\\rbrace\\in \\check{\\mathcal{C}}(t)$, then\n\\begin{itemize}\n\\item[(1)]  $\\check X$ jumps to $y$ without modification of $\\check{\\mathcal C}(t)$ at rate\n\\begin{displaymath}\nW_{x,y}\\dfrac{\\check\\Phi_{y}(t)}{\\check\\Phi_{x}(t)}\n\\end{displaymath}\n\\item[(2)]  the edge $\\lbrace x,y\\rbrace$ is closed in $\\check{\\mathcal C}(t)$ at rate\n\\begin{displaymath}\n2W_{x,y}\\dfrac{\\check\\Phi_{y}(t)}{\\check\\Phi_{x}(t)}\n\\left(e^{2W_{x,y}\\check\\Phi_{x}(t)\\check\\Phi_{y}(t)}-1\\right)^{-1}\n\\end{displaymath}\nand, conditionally on that last event:\n\n- if $y$ is connected to\n$x$ in the configuration $\\check {\\mathcal C}(t)\\setminus\\{x,y\\}$, then $\\check X$ simultaneously jumps to $y$ with probability $1/2$ and stays at $x$ with probability $1/2$\n\n- otherwise $\\check X_t$ moves/or stays with probability 1 on the unique extremity\nof $\\{x,y\\}$ which is in the cluster of the origin $x_0$ in the new configuration.\n\\end{itemize}\n\\end{proposition}\n\\begin{remark}\nIt is clear from this description that the joint process $(\\check X_t, \\check {\\mathcal C}(t), \\check \\Phi(t))$ is Markov process, and well defined up to the time\n$$\n\\check T:=\\inf\\{t\\ge 0:\\;\\;  \\exists x\\in V, \\hbox{ s.t. } \\check\\Phi_x(t)=0\\}.\n$$\n\\end{remark}\n\n\\begin{remark}\nOne can also retrieve the process in Section \\ref{sec_Poisson} from the representation in Proposition \\ref{prop-jump} as follows.\nConsider the representation of Proposition \\ref{prop-jump} on the graph where each edge $e$ is replaced by a large number $N$ of \nparallel edges with conductance $W_e/N$. Consider now $\\check n^{(N)}_{x,y}(t)$ the number of parallel edges that are open in the configuration\n$\\check {\\mathcal C}(t)$ between $x$ and $y$. Then, when $N\\to\\infty$, $(\\check n^{(N)}(t))_{t\\ge0}$,  converges in law to \n$(\\check n(t))_{t\\ge0}$,  defined in section \\ref{sec_Poisson}.\n\\end{remark}\n\n\\noindent {\\it Proof of Proposition \\ref{prop-jump}:~}\nAssume $\\check X_t=x$, fix $y\\sim x$ and let $e=\\{x,y\\}$. Recall that $\\{x,y\\}\\in\\check{\\mathcal C}(t)$ iff $\\check n_e(t)\\ge1$.\n\nLet us first prove (1):\n\\begin{align*}\n&amp;\\mathbb{P}\\left(\\check X\\text{ jumps to $y$ on time interval $[t,t+\\Delta t]$ without modification of }\\check{\\mathcal C}(t)\\,|\\,\\{x,y\\}\\in\\check{\\mathcal C}(t)\\right)\\\\\n&amp;=\\frac{1}{2}\\mathbb{P}\\left(\\check n_e(t)-\\check n_e(t+\\Delta t)=1,\\,\\check n_e(t+\\Delta t)\\ge1\\,|\\,\\check n_e(t)\\ge1\\right)\\\\\n&amp;=\\frac{1}{2}(2J_e(t)-2J_e(t+\\Delta t))+o(\\Delta t)=W_{xy}\\dfrac{\\check\\Phi_{y}(t)}{\\check\\Phi_{x}(t)}\\Delta t+o(\\Delta t).\n\\end{align*}\nSimilarly, (2) follows from the following computation:\n\\begin{align*}\n&amp;\\mathbb{P}\\left(\\{x,y\\}\\text{ closed in }\\check{\\mathcal C}(t+\\Delta t)\\,|\\,\\{x,y\\}\\in\\check{\\mathcal C}(t)\\right)\n=\\mathbb{P}\\left(n_e(t+\\Delta t)=0\\,|\\,\\check n_e(t)\\ge1\\right)\\\\\n&amp;=\\frac{\\mathbb{P}\\left(\\check n_e(t)=1,\\,\\check n_e(t+\\Delta t)=0\\right)}{\\mathbb{P}\\left(\\check n_e(t)\\ge1\\right)}\n=\\frac{e^{-2J_e(t)}2J_e(t)}{1-e^{-2J_e(t)}}(J_e(t)-J_e(t+\\Delta t))+o(\\Delta t)\n\\end{align*}\n{\\hfill $\\Box$}\n\nWe easily deduce from the Proposition \\ref{prop-jump} and Theorem \\ref{thm-Poisson2} the following alternative inversion of the coupling in Theorem \\ref{Lupu}.\n\\begin{theorem}\\label{thm-jump-rates}\nWith the notation of Theorem \\ref{Lupu}, conditionally on $(\\varphi^{(u)},\\mathcal{O}_{u})$, $(X_{t})_{t\\le \\tau_{u}^{x_{0}}}$ has the law\nof self-interacting process $(\\check X_{\\check T-t})_{0\\le t\\le \\check T}$ defined by jump rates of Proposition \\ref{prop-jump}\nstarting with \n$$\n\\check \\Phi_x=\\sqrt{(\\varphi_{x}^{(0)})^2+2\\ell_{x}(\\tau_{u}^{x_{0}})} \\hbox{ and } \\check{\\mathcal C}(0)=\\mathcal{O}_{u}.\n$$\nMoreover $(\\varphi^{(0)},\\mathcal{O}(\\varphi^{(0)}))$ has the same law as\n$(\\sigma'\\check\\Phi(T), \\check{\\mathcal C}(\\check T))$ where $(\\sigma'_x)_{x\\in V}$ is a configuration of signs obtained by picking a sign at random independently on\neach connected component of $\\check{\\mathcal C}(T)$, with the condition that the component of $x_0$ has a + sign.\n\n\\end{theorem}\n\n\\subsection{A signed version of Le Jan's isomorphism for loop soup}\n\\label{sec:lejaninv}\nLet us first recall how the loops in $\\mathcal{L}_{\\alpha}$ are connected to the excursions of the jump process $X$.\n\\begin{proposition}[From excursions to loops]\n\\label{PropPD}\nLet $\\alpha>0$ and $x_{0}\\in V$. \n$L_{x_{0}}(\\mathcal{L}_{\\alpha})$ is distributed according to a Gamma\n$\\Gamma(\\alpha, G(x_{0},x_{0}))$ law, where $G$ is the Green's function. Let $u>0$, and consider the path $(X_{t})_{0\\leq t\\leq \\tau_{u}^{x_{0}}}$ conditioned on $\\tau_{u}^{x_{0}}<\\zeta$. Let $(Y_{j})_{j\\geq 1}$ be an independent Poisson-Dirichlet partition $PD(0,\\alpha)$ of $[0,1]$. Let $S_{0}=0$ and\n\\begin{displaymath}\nS_{j}=\\sum_{i=1}^{j}Y_{i}.\n\\end{displaymath}\nLet\n\\begin{displaymath}\n\\tau_{j}= \\tau_{u S_{j}}^{x_{0}}.\n\\end{displaymath}\nConsider the family of paths\n\\begin{displaymath}\n\\left((X_{\\tau_{j-1}+t})_{0\\leq t\\leq \\tau_{j}-\\tau_{j-1}}\\right)_{j\\geq 1}.\n\\end{displaymath}\nIt is a countable family of loops rooted in $x_{0}$. It has the same law as the family of all the loops in $\\mathcal{L}_{\\alpha}$ that visit $x_{0}$, conditioned on $L_{x_0}(\\mathcal{L}_{\\alpha})=u$.\n\\end{proposition}\n\n\nNext we describe how to invert the discrete version fo Lupu's isomorphism Proposition \\ref{PropIsoLupuLoops} for the loop-soup in the same way as in Theorem \\ref{thm-Poisson}.\n\nLet $(\\check \\varphi_x)_{x\\in V}$ be a real function on $V$ such that\n$\\check\\varphi_{x_0}=+\\sqrt{2u}$ for some $u>0$. Set \n$$\n\\check \\Phi_x=\\vert\\check\\varphi_x\\vert, \\;\\;\\sigma_x=\\operatorname{sign}(\\check\\varphi_x).\n$$\n\nLet $(x_{i})_{1\\leq i\\leq\\vert V\\vert}$ be an enumeration of $V$ (which may be infinite).\nWe define by induction the self interacting processes\n$((\\check X_{i,t})_{1\\leq i\\leq\\vert V\\vert}, \n(\\check n_e(t))_{e\\in E})$. \n$\\check{T}_{i}$ will denote the end-time for $\\check X_{i,t}$, and\n$\\check{T}^{+}_{i}=\\sum_{1\\leq j\\leq i}\\check{T}_{j}$.\nBy definition, $\\check{T}^{+}_{0}=0$.\n$L(t)$ will denote\n\\begin{displaymath}\nL_{x}(t):=\\sum_{1\\leq i\\leq\\vert V\\vert}\n\\check{\\ell}_{x}(i,0\\vee(t-\\check{T}^{+}_{i})),\n\\end{displaymath}\nwhere $\\check{\\ell}_{x}(i,t)$ are the occupation times for\n$\\check X_{i,t}$.\nFor $t\\ge 0$, we set\n$$\n\\check\\Phi_x(t)=\\sqrt{(\\check\\Phi_x)^2-2L_x(t)},\\;\\;\\forall x\\in V,\\;\\;\\;\\hbox{ and }\\;\nJ_e(\\check\\Phi(t))=W_e \\check\\Phi_{e-}(t)\\check\\Phi_{e+}(t), \\;\\; \\forall e\\in E.\n$$\nThe end-times $\\check{T}_{i}$ are defined by inductions as\n\\begin{displaymath}\n\\check{T}_{i}=\\inf\\lbrace t\\geq 0\\vert \n\\check{\\Phi}_{\\check{X}_{i,t}}(t+\\check{T}^{+}_{i-1})=0\\rbrace.\n\\end{displaymath}\nLet $(N_e(u))_{u\\ge 0}$ be independent Poisson Point Processes on ${\\mathbb R}_+$ with intensity 1, for each edge $e\\in E$.\nWe set\n$$\n\\check n_e(t)=\n\\begin{cases} \nN_e(2J_e(t)), &amp;\\hbox{ if } \\sigma_{e-}\\sigma_{e+}=+1,\n\\\\\n0, &amp;\\hbox{ if } \\sigma_{e-}\\sigma_{e+}=-1.\n\\end{cases}\n$$\nWe also denote by $\\check {\\mathcal C}(t)\\subset E$ the configuration of edges such that $\\check n_e(t)>0$.\n$\\check X_{i,t}$ starts at $x_{i}$.\nFor $t\\in[\\check{T}^{+}_{i-1},\\check{T}^{+}_{i}]$,\n\\begin{itemize}\n\\item\nif $\\check n_e(t)$ decreases by 1 at time $t$, but does not create a new cluster in $\\check {\\mathcal C}_t$, then $\\check X_{i,t-\\check{T}^{+}_{i-1}}$ crosses the edge\n$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,\n\\item\nif $\\check n_e(t)$ decreases by 1 at time $t$, and does create a new cluster in $\\check {\\mathcal C}_t$,\n then $\\check X_{i,t-\\check{T}^{+}_{i-1}}$ moves/or stays with probability 1 on the unique extremity\nof $e$ which is in the cluster of the origin $x_i$ in the new configuration.\n\\end{itemize}\n\nBy induction, using Theorem \\ref{thm-Poisson}, we deduce the following:\n\n\\begin{theorem}\n\\label{ThmPoissonLoopSoup}\nLet $\\varphi$ be a GFF on $\\mathcal{G}$ with the law $P_{\\varphi}$.\nIf one sets $\\check{\\varphi}=\\varphi$ in the preceding construction, then\nfor all $i\\in \\lbrace 1,\\dots,\\vert V\\vert\\rbrace$,\n$\\check{T}_{i}<+\\infty$, \n$\\check{X}_{i,\\check{T}_{i}} = x_{i}$ and the\npath $(\\check{X}_{i,t})_{t\\leq\\check{T}_{i}}$ has the same law as a concatenation in $x_{i}$ of all the loops in a loop-soup\n$\\mathcal{L}_{1/2}$ that visit $x_{i}$, but none of the\n$x_{1},\\dots,x_{i-1}$. To retrieve the loops out of each path\n$(\\check{X}_{i,t})_{t\\leq\\check{T}_{i}}$, on has to partition it according to\na Poisson-Dirichlet partition as in Proposition \\ref{PropPD}.\nThe coupling between the GFF $\\varphi$ and the loop-soup obtained from\n$((\\check X_{i,t})_{1\\leq i\\leq\\vert V\\vert}, \n(\\check n_e(t))_{e\\in E})$ is the same as in Proposition\n\\ref{PropIsoLupuLoops}.\n\\end{theorem}\n\n\\subsection{Inverting the coupling of random current with FK-Ising}\n\\label{sec:coupinv}\nBy combining Theorem \\ref{ThmPoissonLoopSoup} and the discrete time\ndescription of Section \\ref{sec_dicr_time}, and by conditionning on the occupation field of the loop-soup, one deduces an inversion of the coupling \nof Proposition \\ref{RCFKIsing} between the random current and FK-Ising.\n\nWe consider that the graph $\\mathcal{G}=(V,E)$ and that the edges are endowed with weights $(J_{e})_{e\\in E}$. Let\n$(x_{i})_{1\\le i\\le \\vert V\\vert}$ be an enumeration of $V$.\nLet $\\check{\\mathcal{C}}(0)$ be a subset of open edges of $E$.\nLet $(\\check{n}_{e}(0))_{e\\in E}$ be a family of \nrandom integers such that\n$\\check{n}_{e}(0)=0$ if $e\\not\\in\\check{\\mathcal{C}}(0)$, and\n$(\\check{n}_{e}(0)-1)_{e\\in\\check{\\mathcal{C}}(0)}$ \nare independent Poisson random variables, where \n$\\mathbb{E}[\\check{n}_{e}(0)-1]=2J_{e}$.\n\nWe will consider a family of discrete time self-interacting processes\n$((\\check X_{i,j})_{1\\leq i\\leq \\vert V\\vert},\n(\\check{n}_{e}(j))_{e\\in E})$. $\\check X_{i,j}$ starts at $j=0$ at\n$x_{i}$ and is defined up to a integer time $\\check{T}_{i}$.\nLet $\\check{T}_{i}^{+}=\\sum_{1\\leq k\\leq i}\\check{T}_{k}$, with\n$\\check{T}_{0}^{+}=0$. The end-times $\\check{T}_{i}$ are defined by induction as\n\\begin{displaymath}\n\\check{T}_{i}=\n\\inf\\Big\\lbrace j\\geq 0\\Big\\vert \n\\sum_{e~\\text{edge adjacent to}~\\check X_{i,j}}\n\\check{n}_{e}(j+\\check{T}_{i-1}^{+})=0\\Big\\rbrace.\n\\end{displaymath}\nFor $j\\geq 1$, $\\check{\\mathcal{C}}(j)$ will denote\n\\begin{displaymath}\n\\check{\\mathcal{C}}(j)=\\lbrace e\\in E\\vert \\check{n}_{e}(j)\\geq 1\\rbrace,\n\\end{displaymath}\nwhich is consistent with the notation $\\check{\\mathcal{C}}(0)$.\n\nThe evolution is the following. For \n$j\\in \\lbrace \\check{T}_{i-1}^{+}+1,\\dots, \\check{T}_{i}^{+}\\rbrace$, the transition from time $j-1$ to time $j$ is the following:\n\\begin{itemize}\n\\item first chose an edge $e$ adjacent to the vertex\n$\\check{X}_{i,j-1-\\check{T}_{i-1}^{+}}$ with probability proportional to\n$\\check{n}_{e}(j-1)$,\n\\item decrease the stack $\\check{n}_{e}(j-1)$ by 1,\n\\item if decreasing $\\check{n}_{e}(j-1)$ by 1 does not create a new cluster in  $\\check{\\mathcal{C}}(j-1)$, then \n$\\check{X}_{i,\\cdot}$ crosses $e$ with probability $1/2$ and\ndoes not move with probability $1/2$.\n\\item if decreasing $\\check{n}_{e}(j-1)$ by 1 does create a new cluster in  $\\check{\\mathcal{C}}(j-1)$, then $\\check{X}_{i,\\cdot}$\nmoves/or stays with probability 1 on the unique extremity of $e$ which is in the cluster of the origin $x_{i}$ in the new configuration.\n\\end{itemize}\n\nDenote $\\hat{n}_{e}$ the number of times the edge $e$ has been crossed, in both directions, by all the walks\n$((\\check{X}_{i,j})_{0\\le j\\le \\check{T}_{i}})_{1\\le i\\le\\vert V\\vert}$.\n\n\\begin{proposition}\nA.s., for all $i\\in\\lbrace 1,\\dots,\\vert V\\vert\\rbrace$,\n$\\check{T}_{i}<+\\infty$ and $\\check{X}_{i,\\check{T}_{i}}=x_{i}$. If the initial configuration of open edges\n$\\check{\\mathcal{C}}(0)$ is random and follows an FK-Ising distribution\nwith weights $(1-e^{-2 J_{e}})_{e\\in E}$, then the family of integers\n$(\\hat{n}_{e})_{e\\in E}$ is distributed like a random current with weights\n$(J_{e})_{e\\in E}$. Moreover, the coupling between the random current and the FK-Ising obtained this way is the same as the one given by\nProposition \\ref{RCFKIsing}.\n\\end{proposition}\n\n\n\\section{Proof of theorem \\ref{thm-Poisson} }\n\\label{sec:proof}\n\\subsection{Case of finite graph without killing measure}\n\\label{sec:pfinite}\nHere we will assume that $V$ is finite and that the killing measure\n$\\kappa\\equiv 0$.\n\nIn order to prove Theorem \\ref{thm-Poisson}, we first enlarge the state space of the process $(X_t)_{t\\ge 0}$. We define a process\n$(X_t,(n_e(t)))_{t\\ge 0}$ living on the space $V\\times {\\mathbb N}^E$ as follows. Let \n$\\varphi^{(0)}\\sim P_{\\varphi}^{\\{x_0\\},0}$ be a GFF pinned at $x_0$.\nLet $\\sigma_x=\\hbox{sign}(\\varphi^{(0)}_x)$ be the signs of the GFF with the convention that $\\sigma_{x_0}=+1$.\nThe process $(X_t)_{t\\ge 0}$ is as usual the Markov Jump process starting at $x_0$ with jump rates $(W_e)$. We set\n\\begin{equation}\n\\label{Phi-J}\n\\Phi_x=\\vert\\varphi^{(0)}_x\\vert, \\;\\; \\Phi(t)=\\sqrt{\\Phi_x^2+2\\ell_x(t)}, \\;\\;\\;\\forall x\\in V, \\;\\;\\; J_e(\\Phi(t))=W_e \\Phi_{e-}(t)\\Phi_{e+}(t), \\;\\;\\; \\forall e\\in E.\n\\end{equation}\nThe initial values $(n_e(0))$ are choosen independently on each edge with distribution\n$$\nn_e(0)\\sim\n\\begin{cases}\n0,&amp; \\hbox{ if $\\sigma_{e-}\\sigma_{e+}=-1$}\n\\\\\n\\mathcal{P}(2J_e(\\Phi)),&amp; \\hbox{ if $\\sigma_{e-}\\sigma_{e+}=+1$}\n\\end{cases}\n$$\nwhere ${\\mathcal{P}}(2J_e(\\Phi))$ is a Poisson random variable with parameter $2J_e(\\Phi)$. Let $((N_e(u))_{u\\ge 0})_{e\\in E}$ be independent Poisson point processes \non ${\\mathbb R}_+$ with intensity 1. We define the process $(n_e(t))$ by\n$$\nn_e(t)=n_e(0)+N_e(J_e(\\Phi(t)))-N_e(J_e(\\Phi))+K_e(t),\n$$\nwhere $K_e(t)$ is the number of crossings of the edge $e$ by the Markov jump process $X$ before time $t$.\n\\begin{remark}\nNote that compared to the process defined in Section \\ref{sec_Poisson}, the speed of the Poisson process is related to $J_e(\\Phi(t))$ and not $2J_e(\\Phi(t))$.\n\\end{remark}\nWe will use the following notation\n$$\n{\\mathcal C}(t)=\\{e\\in E, \\;\\; n_e(t)>0\\}.\n$$\nRecall that $\\tau_u^{x_0}=\\inf\\{t\\ge 0, \\; \\ell_{x_0}(t)=u\\}$ for $u>0$. To simplify notation, we will write $\\tau_u$ for $\\tau_u^{x_0}$ in the sequel.\nWe define $\\varphi^{(u)}$ by\n$$\n\\varphi^{(u)}_x=\\sigma_x\\Phi(\\tau_u), \\;\\;\\; \\forall x\\in V,\n$$\nwhere  $(\\sigma_x)_{x\\in V}\\in \\lbrace -1,+1\\rbrace^{V}$ are random spins sampled uniformly independently on \neach cluster induced by $\\check{\\mathcal C}(\\check T)$ with the condition that $\\sigma_{x_0}=+1$.\n\n\\begin{lemma}\n\\label{end-distrib}\nThe random vector $(\\varphi^{(0)}, {\\mathcal C}(0), \\varphi^{(u)}, {\\mathcal C}(\\tau_u^{x_0}))$ thus defined has the same distribution\n as $(\\varphi^{(0)}, {\\mathcal{O}}(\\varphi^{(0)}), \\varphi^{(u)}, {\\mathcal{O}}_u)$ defined in Theorem \\ref{Lupu}.\n\\end{lemma}\n\\begin{proof}\nIt is clear from construction, that ${\\mathcal C}(0)$ has the same law as ${\\mathcal{O}}(\\varphi^{(0)})$ (cf Definition \\ref{def_FK-Ising}), the FK-Ising configuration coupled with the signs of\n$\\varphi^{(0)}$ as in Proposition \\ref{FK-Ising}. Indeed, for each edge $e\\in E$ such that $\\varphi^{(0)}_{e-}\\varphi^{(0)}_{e+}>0$, the probability that\n$n_e(0)>0$ is $1-e^{-2J_e(\\Phi)}$.\nMoreover, conditionally on ${\\mathcal C}(0)={\\mathcal{O}}(\\varphi^{(0)})$, ${\\mathcal C}(\\tau_u^{x_0})$ has the same law as ${\\mathcal{O}}_u$ defined in Theorem \\ref{Lupu}. Indeed, ${\\mathcal C}(\\tau_u^{x_0})$\nis the union of the set ${\\mathcal C}(0)$, the set of edges crossed by the process $(X_u)_{u\\le \\tau_u^{x_0}}$, and the additional edges such that $N_e(J_e(\\tau_u^{x_0}))-N_e(J_e(\\Phi))>0$.\nClearly $N_e(J_e(\\tau_u^{x_0}))-N(J_e(\\Phi))>0$ independently with probability $1-e^{-(J_e(\\Phi(\\tau_u^{x_0}))-J_e(\\Phi))}$ which coincides with the probability given in\nTheorem \\ref{Lupu}. \n\\end{proof}\n\nWe will prove the following theorem that, together with Lemma \\ref{end-distrib}, contains the statements of both Theorem \\ref{Lupu} and \\ref{thm-Poisson}.\n\\begin{theorem}\\label{thm-Poisson2}\nThe random vector $\\varphi^{(u)}_x$ is a GFF distributed according to $P_{\\varphi}^{\\{x_0\\},\\sqrt{2u}}$.\nMoreover, conditionally on $\\varphi^{(u)}_x=\\check \\varphi$, the process \n$$(X_{t},(n_{e}(t))_{e\\in E})_{t\\le \\tau_u^{x_0}}$$ \nhas the law of the process $(\\check X_{\\check T-t },(\\check n_e(\\check T -t))_{e\\in E})_{t\\le \\check T}$\ndescribed in section \\ref{sec_Poisson}.\n\\end{theorem} \n\\begin{proof}\n{\\bf Step 1 :}\nWe start by a simple lemma.\n\\begin{lemma}\\label{distrib-phi-n}\nThe distribution of $(\\Phi:=\\vert \\varphi^{(0)}\\vert, n_e(0))$ is given by the following formula for any bounded measurable test function $h$\n\\begin{multline*}\n{\\mathbb{E}}\\left(h(\\Phi, n(0))\\right)= \\\\\\sum_{(n_e)\\in {\\mathbb N}^E} \\int_{{\\mathbb R}_+^{V\\setminus\\{x_0\\}}} d\\Phi  h(\\Phi, n) \ne^{-{1\\over 2} \\sum_{x\\in V} W_x(\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi)}\n\\left(\\prod_{e\\in E}{\\frac{(2J_e(\\Phi))^{n_e}}{n_e!}}\\right)\n2^{\\#{\\mathcal C}(n_e)-1}.\n\\end{multline*}\nwhere the integral is on the set $\\{(\\Phi_x)_{x\\in V}, \\;\\; \\Phi_x>0\\; \\forall x\\neq x_0,\\; \\Phi_{x_0}=0\\}$ and \n$d\\Phi={\\frac{\\prod_{x\\in V\\setminus\\{x_0\\}} d\\Phi_x}{\\sqrt{2\\pi}^{\\vert V\\vert -1}}}$  \nand $\\#{\\mathcal C}(n)$ is the number of clusters \ninduced by the edges such that $n_e>0$.\n\\end{lemma}\n\\begin{proof}\nIndeed, by construction, summing on possible signs of $\\varphi^{(0)}$, we have\n\\begin{eqnarray}\n\\nonumber\n&amp;&amp;{\\mathbb{E}}\\left(h(\\Phi, n(0))\\right)\n\\\\\n\\label{int-eee}&amp;=&amp;\\sum_{\\sigma_x}\n \\sum_{n\\ll \\sigma_x}\n \\int_{{\\mathbb R}_+^{V\\setminus\\{x_0\\}}} d\\Phi  h(\\Phi, n) e^{-{1\\over 2} {\\mathcal E}(\\sigma\\Phi)}\\left(\\prod_{e\\in E, \\; \\sigma_{e+}\\sigma_{e-}=+1} {e^{-2J_e(\\Phi)} (2J_e(\\Phi))^{n_e}\\over n_e!}\\right).\n \\end{eqnarray}\nwhere the first sum is on the set $\\{\\sigma_x\\in \\{+1,-1\\}^V, \\; \\sigma_{x_0}=+1\\}$ and the second sum is on the set of\n$\\{(n_e)\\in {\\mathbb N}^E, \\; n_e=0\\hbox{ if $\\sigma_{e-}\\sigma_{e+}=-1$}\\}$ (we write $n\\ll \\sigma$ to mean that $n_e$ vanishes on the edges\nsuch that  $\\sigma_{e-}\\sigma_{e+}=-1$). Since\n\\begin{eqnarray*}\n{1\\over 2}{\\mathcal E}(\\sigma \\Phi)&amp;=&amp; {1\\over 2}\\sum_{x\\in V} W_x (\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi)\\sigma_{e-}\\sigma_{e+}.\n\\\\\n&amp;=&amp;\n {1\\over 2}\\sum_{x\\in V} W_x (\\Phi_x)^2+\\sum_{e\\in E} J_e(\\Phi) \n -\\sum_{\\substack{e\\in E\\\\\\sigma_{e-}\\sigma_{e+}=+1}} 2J_e(\\Phi),\n\\end{eqnarray*}\nwe deduce that the integrand in (\\ref{int-eee}) is equal to\n\\begin{eqnarray*}\n &amp;&amp; h(\\Phi,n) e^{-{1\\over 2} {\\mathcal E}(\\sigma\\Phi)}\\left(\\prod_{e\\in E, \\; \\sigma_{e+}\\sigma_{e-}=+1} {e^{-2J_e(\\Phi)} (2J_e(\\Phi))^{n_e}\\over n_e!}\\right)\n \\\\\n &amp;=&amp;\nh(\\Phi,n)   e^{-{1\\over 2} {\\mathcal E}(\\sigma\\Phi)}e^{-\\sum_{e\\in E, \\; \\sigma_{e+}\\sigma_{e-}=+1} 2J_e(\\Phi)}\\left(\\prod_{e\\in E} {(2J_e(\\Phi))^{n_e}\\over n_e!}\\right)\n \\\\\n  &amp;=&amp;\n h(\\Phi,n)  e^{-{1\\over 2}\\sum_{x\\in V} W_x (\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi)}\\left(\\prod_{e\\in E} {(2J_e(\\Phi))^{n_e}\\over n_e!}\\right)\n\\end{eqnarray*}\nwhere we used in the first equality that $n_e=0$ on the edges such that  \n$\\sigma_{e+}\\sigma_{e-}=-1$.\nThus,\n\\begin{eqnarray*}\n&amp;&amp;{\\mathbb{E}}\\left(h(\\Phi, n(0))\\right)\n\\\\\n&amp;=&amp;\n\\sum_{\\sigma_x}\\sum_{n_e\\ll \\sigma_x}\n \\int_{{\\mathbb R}_+^{V\\setminus\\{x_0\\}}} d\\Phi h(\\Phi, n) e^{-{1\\over 2}\\sum_{x\\in V} W_x (\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi)}\\left(\\prod_{e\\in E} {(2J_e(\\Phi))^{n_e}\\over n_e!}\\right).\n\\end{eqnarray*}\nInverting the sum on $\\sigma$ and $n$ and summing on the number of possible signs which are constant on  clusters induced by the configuration of edges\n$\\{e\\in E, \\; n_e>0\\}$,\nwe deduce Lemma \\ref{distrib-phi-n}.\n\\end{proof}\n\\noindent{\\bf Step 2 :} We denote by $Z_t=(X_t, \\Phi(t), n_e(t))$ the process defined previously and by\n$E_{x_0, \\Phi, n_0}$ its law with initial condition $(x_0, \\Phi, n_0)$. \n\nWe now introduce a process $\\tilde Z_t$, which is a \&quot;time reversal\&quot; of the process $Z_t$. This process will be related to the \nprocess defined in section \\ref{sec_Poisson} in Step 4, Lemma \\ref{RN}.\n\nFor $(\\tilde n_e)\\in {\\mathbb N}^E$ and $(\\tilde \\Phi_x)_{x\\in V}$ such that\n$$\n\\tilde \\Phi_{x_0}=u, \\;\\; \\tilde \\Phi_x>0, \\;\\; \\forall x\\neq x_0,\n$$\nwe define the process $\\tilde Z_t=(\\tilde X_t, \\tilde\\Phi(t), \\tilde n_e(t))$  with values in $V\\times {\\mathbb R}_+^V\\times {\\mathbb Z}^E$  as follows.\nThe process $(\\tilde X_t)$ is a Markov jump process with jump rates $(W_e)$ (so that $\\tilde X\\stackrel{\\text{law}}{=} X$), and\n$\\tilde\\Phi(t)$, $\\tilde n_e(t)$ are defined by\n\\begin{eqnarray}\\label{tildePhi}\n\\tilde \\Phi_x(t)=\\sqrt{\\tilde \\Phi_x^2-2\\tilde \\ell_x(t)},\\;\\;\\;\\forall x\\in V,\n\\end{eqnarray}\nwhere $(\\tilde\\ell_x(t))$ is the local time of the process $\\check X$ up to time $t$,\n\\begin{eqnarray}\\label{tilden}\n\\tilde n_e(t)= \\tilde n_e-\\left(N_e(J_e(\\tilde\\Phi))-N_e(J_e(\\tilde\\Phi(t)))\\right)-\\tilde K_e(t)\n\\end{eqnarray}\nwhere $((N_e(u))_{u\\ge 0})_{e\\in E}$ are independent Poisson point process on ${\\mathbb R}_+$ with intensity 1 for each edge $e$, and \n$\\tilde K_e(t)$ is the number of crossings of the edge $e$ by the process $\\tilde X$ before time $t$.\nWe set\n\\begin{eqnarray}\\label{tildeZ}\n\\tilde Z_t=(\\tilde X_t, (\\tilde \\Phi_x(t)), (\\tilde n_e(t))),\n\\end{eqnarray}\nThis process is well-defined up to time\n$$\n\\tilde T=\\inf\\left\\{t\\ge 0, \\;\\; \\exists x\\in V\\; \\tilde \\Phi_x(t)=0\\right\\}.\n$$\nWe denote by $\\tilde E_{x_0, \\tilde\\Phi, \\tilde n_0}$ its law. Clearly $\\tilde Z_t=(\\tilde X_t, \\tilde\\Phi(t), \\tilde n_e(t))$ is a Markov process, we will later on make explicit its generator. \n\nWe have the following change of variable lemma.\n\\begin{lemma}\\label{change-var}\nFor all bounded measurable test functions $F,G,H$\n\\begin{multline*}\n\\sum_{(n_e)\\in {\\mathbb N}^E} \\int d\\Phi F(\\Phi, n)E_{x_0,\\Phi,n}\n\\left( G((Z_{\\tau_u^{x_0}-t})_{0\\le t\\le\\tau_u^{x_0}})\nH(\\Phi(\\tau_u^{x_0}), n(\\tau_u^{x_0}))\\right)=\n\\\\\n\\sum_{(\\tilde n_e)\\in {\\mathbb N}^E} \\int d\\tilde\\Phi H(\\tilde\\Phi, \\tilde n)\n\\tilde E_{x_0,\\tilde \\Phi,\\tilde n}\n\\Big({{\\mathbbm 1}}_{\\{\\tilde X_{\\tilde T}=x_0,\\tilde n_e(\\tilde T)\\ge 0\\; \\forall e\\in E\\}} \nG((\\tilde Z_{t})_{t\\le\\check T})\nF(\\tilde\\Phi(\\tilde T), \\tilde n(\\tilde T))\\prod_{x\\in V\\setminus\\{x_0\\}} {\\tilde \\Phi_x\\over \\tilde\\Phi_x(\\tilde T) }\\Big)\n\\end{multline*}\nwhere the integral on the l.h.s. is on the set $\\{(\\Phi_x)\\in {\\mathbb R}_+^V, \\;\\; \\Phi_{x_0}=0\\}$ with $d\\Phi= {\\prod_{x\\in V\\setminus\\{x_0\\}} d\\Phi_x\\over \\sqrt{2\\pi}^{\\vert V\\vert -1}}$\nand the integral on the r.h.s. is on the set $\\{(\\tilde\\Phi_x)\\in {\\mathbb R}_+^V, \\;\\; \\tilde\\Phi_{x_0}=u\\}$ with \n$d\\tilde\\Phi= {\\prod_{x\\in V\\setminus\\{x_0\\}} d\\tilde\\Phi_x\\over \\sqrt{2\\pi}^{\\vert V\\vert -1}}$\n\\end{lemma}\n\\begin{proof} \nWe start from the left-hand side, i.e. the process, $(X_t, n_e(t))_{0\\le\\le \\tau_u^{x_0}}$.\nWe define\n$$\n\\tilde X_{t}=X_{\\tau_u-t},\\;\\;\\; \\tilde n_e(t)=n_e(\\tau_u-t),\n$$\nand\n$$\n\\tilde \\Phi_x=\\Phi_x(\\tau_u),\\;\\;\\;, \\tilde\\Phi_x(t)=\\Phi_x({\\tau_u-t}), \n$$\n(The law of the processes such defined will later be identified with the law of the processes ($\\tilde X_t, \\tilde \\Phi(t),\\tilde n(t))$ defined at the beginning of step 2, cf (\\ref{tildePhi}) and (\\ref{tilden})).\nWe also set\n$$\n\\tilde K_e(t)= K_e(\\tau_u)-K_e(t),\n$$\nwhich is also the number of crossings of the edge $e$ by the process $\\tilde X$, between time 0 and $t$. With these notations we clearly have\n$$\n\\tilde \\Phi_x(t)=\\sqrt{\\tilde \\Phi_x^2-2\\tilde \\ell_x(t)},\n$$\nwhere $\\tilde \\ell_x(t)=\\int_{0}^t{{\\mathbbm 1}}_{\\{\\tilde X_u=x\\}} du$ is the local time of $\\tilde X$ at time $t$, and\n$$\n\\tilde n_e(t)= \\tilde n_e(0)+(N_e(J_e(\\tilde \\Phi(t)))-N_e(J_e(\\tilde\\Phi(0))))-\\tilde K_e(t).\n$$\nBy time reversal, the law of $(\\tilde X_t)_{0\\le s\\le \\tilde \\tau_u}$ is the same as the law of the Markov Jump process $(X_t)_{0\\le t\\le \\tau_u}$, where\n$\\tilde \\tau_u=\\inf\\{t\\ge 0, \\; \\tilde\\ell_{x_0}(t)=u\\}$. Hence, we see that up to the time $\\tilde T=\\inf\\{t\\ge 0, \\; \\exists x\\; \\tilde\\Phi_x(t)=0\\}$, the process\n$(\\tilde X_t, (\\tilde \\Phi_x(t))_{x\\in V}, (\\tilde n_e(t))_{t\\le \\tilde T}$ has the same law as the process defined at the beginning of step 2.\n\nThen, following \\cite{SabotTarres2015RK},  we make the following change of variables conditionally on the processes $(X_t, (N_e(t)))$\n\\begin{eqnarray*}\n({\\mathbb R}_+^*)^V\\times {\\mathbb N}^E&amp;\\mapsto&amp; ({\\mathbb R}_+^*)^V\\times {\\mathbb N}^E\\\\\n((\\Phi_x), (n_e)_{e\\in E})&amp;\\mapsto&amp;\n((\\tilde \\Phi_x), (\\tilde n_e)_{e\\in E})\n\\end{eqnarray*}\nwhich is bijective onto the set \n\\begin{multline*}\n\\{\\tilde\\Phi_x, \\;\\; \\tilde\\Phi_{x_0}=\\sqrt{2u}, \\; \\check\\Phi_x>\\sqrt{2\\ell_x(\\tau_u^{x_0})}\\;\\;\\forall x\\neq x_0\\} \n\\\\\\times \\{(\\tilde n_e),\\;\\; \\tilde n_e\\ge K_e(\\tau_u)+(N_e(J_e(\\tilde \\Phi(\\tau_u)))-N_e(J_e(\\Phi)))\\}\n\\end{multline*}\n(Note that we always have $\\tilde \\Phi_{x_0}=\\sqrt{2u}$.) The last conditions on $\\tilde \\Phi$ and $\\tilde n_e$ are equivalent to\nthe conditions $\\tilde X_{\\tilde T}=x_0$ and $\\tilde n_e(\\tilde T)\\ge 0$.\nThe Jacobian of the change of variable is given by\n$$\n\\prod_{x\\in V\\setminus\\{x_0\\}} d\\Phi_x=\\left({\\prod_{x\\in V\\setminus\\{x_0\\}} {\\check\\Phi_x\\over \\Phi_x} }\\right)\\prod_{x\\in V\\setminus\\{x_0\\}} d\\check\\Phi_x.\n$$\n\n\n\\end{proof}\n\n\\noindent\n{\\bf Step 3:}\nWith the notations of Theorem \\ref{thm-Poisson2}, we consider the following expectation for $g$ and $h$ bounded measurable test functions\n\\begin{eqnarray}\\label{test-functions}\n{\\mathbb{E}}\\left( g\\left(\\left(X_{\\tau_u-t}, n_e(\\tau_u-t)\\right)_{0\\le t\\le \\tau_u}\\right)h(\\varphi^{(u)})\\right)\n\\end{eqnarray}\nBy definition, we have\n$$\n\\varphi^{(u)}=\\sigma \\Phi(\\tau_u),\n$$\nwhere $(\\sigma_x)_{x\\in V}\\in \\{\\pm 1\\}^V$ are random signs sampled uniformly independently on clusters induced by\n$\\{e\\in E, \\; n_e(\\tau_u)>0\\}$ and conditioned on the fact that $\\sigma_{x_0}=+1$.\nHence, we define for $(\\Phi_x)\\in {\\mathbb R}_+^V$ and $(n_e)\\in {\\mathbb N}^E$\n\\begin{eqnarray}\\label{h}\nH(\\Phi, n)=2^{-\\#{\\mathcal C}(n)+1} \\sum_{\\sigma\\ll n} h(\\sigma \\Phi),\n\\end{eqnarray}\nwhere $\\sigma\\ll n$ means that the signs $(\\sigma_x)$ are constant on clusters of $\\{ e\\in E, \\; n_e>0\\}$ and such that $\\sigma_{x_0}=+1$.\nHence, setting\n$$\nF(\\Phi, n)=e^{-{1\\over 2} \\sum_{x\\in V} W_x (\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi) }\\left(\\prod_{e\\in E} {(2J_e(\\Phi))^{n_e}\\over n_e!}\\right)\n2^{\\#{\\mathcal C}(n_e)-1},\n$$\n$$\nG\\left((Z_{\\tau_u-t})_{t\\le\\tau_u}\\right)= g\\left(\\left(X_{\\tau_u-t}, n_e(\\tau_u-t)\\right)_{t\\le \\tau_u}\\right),\n$$\nusing lemma \\ref{distrib-phi-n} in the first equality and lemma \\ref{change-var} in the second equality, we deduce that\n(\\ref{test-functions}) is equal to \n\\begin{multline}\n\\label{eq-3.3}\n{\\mathbb{E}}\\left( G\\left((Z_{\\tau_u-t})_{0\\le t\\le \\tau_u}\\right)H(\\Phi(\\tau_u), n(\\tau_u)))\\right)=\n\\\\\n\\sum_{(n_e)\\in {\\mathbb N}^E} \\int\nd\\Phi\nF(\\Phi, n) E_{x_0, \\Phi,n}\\left(G\\left((Z_{\\tau_u-t})_{t\\le\\tau_u}\\right)H\\left(\\Phi(\\tau_u, n(\\tau_u))\\right)\\right)\nd\\Phi =\n\\\\\n\\sum_{(\\tilde n_e)\\in {\\mathbb N}^E} \\int d\\tilde\\Phi\nH\\left(\\tilde \\Phi,\\tilde n\\right)\n\\tilde E_{x_0, \\tilde \\Phi, \\tilde n}\\Big({{\\mathbbm 1}}_{\\{\\tilde X_{\\tilde T}=x_0,\\tilde n_e(\\tilde T)\\ge 0\\; \\forall e\\in E\\}} \nF\\left(\\tilde \\Phi(\\tilde T) , \\tilde n(\\tilde T)\\right) G\\left((\\tilde Z_{t})_{t\\le\\tilde T}\\right) \\prod_{x\\in V\\setminus\\{x_0\\}} {\\tilde \\Phi_x\\over \\tilde\\Phi_x(\\tilde T) }\n\\Big)\n\\end{multline}\nwith notations of Lemma \\ref{change-var}.\n\nLet $\\tilde{\\mathcal F}_t=\\sigma\\{\\tilde X_s, \\; s\\le t\\}$ be the filtration generated by $\\tilde X$. We define the $\\tilde {\\mathcal F}$-adapted process\n$\\tilde M_t$, defined up to time $\\tilde T$ by\n\\begin{multline}\n\\label{Mart}\n\\tilde M_t\n= {F(\\tilde \\Phi(t), \\tilde n(t))\\over \\prod_{V\\setminus\\{\\tilde X_t\\}} \\tilde\\Phi_x(t) }{{\\mathbbm 1}}_{\\{\\tilde X_t\\in {\\mathcal C}(x_0,\\tilde n)\\}}{{\\mathbbm 1}}_{\\{\\tilde n_e(t)\\ge 0\\; \\forall e\\in E\\}}=\n\\\\\ne^{-{1\\over 2} \\sum_{x\\in V} W_x(\\tilde \\Phi_x(t))^2-\\sum_{e\\in E} J_e(\\tilde\\Phi(t)) }\n\\Big(\\prod_{e\\in E} {(2J_e(\\tilde \\Phi(t)))^{\\tilde n_e(t)}\\over \\tilde n_e(t) !}\\Big)\n{2^{\\#{\\mathcal C}(\\tilde n_e(t))-1}\n\\over \\prod_{x\\in V\\setminus\\{\\tilde X_t\\}} \\tilde\\Phi_x(t) }{{\\mathbbm 1}}_{\\{\\tilde X_t\\in {\\mathcal C}(x_0,\\tilde n(t)),\\tilde n_e(t)\\ge 0\\; \\forall e\\in E\\}}\n\\end{multline}\nwhere ${\\mathcal C}(x_0,\\tilde n(t))$ denotes the cluster of the origin $x_0$ induced by the configuration ${\\mathcal C}(\\tilde n(t))$.\nNote that at time $t=\\tilde T$, we also have\n\\begin{eqnarray}\\label{M-T}\n\\tilde M_{\\tilde T}= {F(\\tilde \\Phi(\\tilde T), \\tilde n(\\tilde T))\\over \\prod_{V\\setminus\\{\\tilde x_0\\}} \\tilde\\Phi_x(\\tilde T) }{{\\mathbbm 1}}_{\\{\\tilde X_{\\tilde T}=x_0}{{\\mathbbm 1}}_{\\tilde n_e(t)\\ge 0\\; \\forall e\\in E\\}} \n\\end{eqnarray}\nsince $\\tilde M_{\\tilde T}$ vanishes on the event where $\\{\\tilde X_{\\tilde T}=x\\}$, with $x\\neq x_0$. Indeed, if $\\tilde X_{\\tilde T}=x\\neq x_0$, then\n$\\tilde\\Phi_x(\\tilde T)=0$ and $J_e(\\tilde\\Phi(\\tilde T))=0$ for $e\\in E$ such that $x\\in e$. It means that $\\tilde M_{\\tilde T}$ is equal to\n0 if $\\tilde n_{e}(\\tilde T)>0$ for some edge $e$ neighboring $x$. Thus, $\\tilde M_{\\tilde T}$ is null unless $\\{x\\}$ is a cluster in ${\\mathcal C}(\\tilde n(\\tilde T))$.\nHence, $\\tilde M_{\\tilde T}=0$ if $x\\neq x_0$ since $\\tilde M_{\\tilde T}$ contains the indicator of the event that $\\tilde X_{\\tilde T}$ and $x_0$ are in the same cluster. \n\nHence, using identities (\\ref{eq-3.3}) and (\\ref{M-T})\nwe deduce that (\\ref{test-functions}) is equal to \n\\begin{eqnarray}\n\\label{equ-M}\n(\\ref{test-functions})&amp;=&amp;\n\\sum_{(\\tilde n_e)\\in {\\mathbb N}^E} \\int d\\tilde\\Phi\nH\\left(\\tilde \\Phi,\\tilde n\\right) F\\left(\\tilde \\Phi,\\tilde n\\right)\n\\tilde E_{x_0, \\tilde \\Phi, \\tilde n}\\left(\n{\\tilde M_{\\tilde T}\\over \\tilde M_0} \n G\\left((\\tilde Z_{t})_{t\\le\\tilde T}\\right)\n\\right)\n\\end{eqnarray}\n\n\\noindent {\\bf Step 4 :}\nWe denote by $\\check Z_t=(\\check X_t, \\check \\Phi_t, \\check n(t))$ the process defined in section \\ref{sec_Poisson}, which is well defined up to\nstopping time $\\check T$, and $\\check Z^T_t=\\check Z_{t\\wedge \\check T}$. We denote by $\\check E_{x_0, \\check \\Phi, \\check n}$\nthe law of the process $\\check Z$ conditionnally on the initial value $\\check n(0)$, i.e. conditionally on $(N_e(2J(\\check\\Phi)))=(\\check n_e)$.\nThe last step of the proof goes through the following lemma.\n\\begin{lemma}\\label{RN}\ni) Under $\\check E_{x_0,\\check\\Phi,\\check n}$, $\\check X$ ends at $\\check X_{\\check T}=x_0$ a.s. and \n$\\check n_e(\\check T)\\ge 0$ for all $e\\in E$.\n\nii) Let $\\tilde P^{\\le t}_{x_0,\\tilde\\Phi,\\tilde n}$ and $\\check P^{\\le t}_{x_0,\\check\\Phi,\\check n}$ be the law\nof the process $(\\tilde Z^T_s)_{s\\le t}$ and $(\\check Z^T_s)_{s\\le t}$, then\n$$\n{d\\check P^{\\le t}_{x_0,\\tilde \\Phi,\\tilde n}\\over d\\tilde P^{\\le t}_{x_0,\\tilde \\Phi,\\check n}}={\\tilde M_{t\\wedge \\tilde T}\\over \\tilde M_0}.\n$$\n\\end{lemma}\nUsing this lemma we obtain that in the right-hand side of (\\ref{equ-M})\n$$\n\\tilde E_{x_0, \\tilde \\Phi , \\tilde n}\\left(\n{\\tilde M_{\\tilde T}\\over \\tilde M_0} \n G\\left((\\tilde Z_{t})_{t\\le\\tilde T}\\right)\\right)=\n \\check E_{x_0, \\tilde \\Phi , \\tilde n}\n \\left(  \n G\\left((\\check Z_{t})_{t\\le\\check T}\\right)\\right)\n$$\nHence, we deduce, using formula (\\ref{h}) and proceeding as in lemma \\ref{distrib-phi-n}, that (\\ref{test-functions}) is equal to\n\\begin{multline*}\n\\label{final}\n\\int_{{\\mathbb R}^{V\\setminus\\{x_0\\} }} d\\tilde\\varphi\ne^{-{1\\over 2} {\\mathcal E}(\\tilde\\varphi)}  h(\\tilde \\varphi) \n\\sum_{(\\tilde n_e)\\ll (\\tilde \\varphi_x)} \\left(\\prod_{e\\in E, \\; \\tilde\\varphi_{e-}\\tilde\\varphi_{e+}\\ge 0} \n{e^{-2J_e(\\vert \\tilde \\varphi\\vert)}(2J_e(\\vert \\tilde \\varphi\\vert ))^{\\tilde n_e}\\over \\tilde n_e !}\\right) \n\\\\\\tilde E_{x_0, \\vert \\tilde \\varphi\\vert , \\tilde n}\\left({\\tilde M_{\\tilde T}\\over \\tilde M_0} \n G\\left((\\tilde Z_{t})_{t\\le\\tilde T}\\right)\\right),\n\\end{multline*}\nwhere the last integral is on the set $\\{(\\tilde\\varphi_x)\\in {\\mathbb R}^V, \\;\\; \\varphi_{x_0}=u\\}$,\n$d\\tilde\\varphi={\\prod_{x\\in V\\setminus\\{x_0\\}} d\\tilde\\varphi_x\\over \\sqrt{2\\pi}^{\\vert V\\vert -1}}$, and where $(n_e)\\ll (\\varphi_x)$ means that\n$(\\tilde n_e)\\in {\\mathbb N}^E$ and $\\tilde n_e=0$ if $\\tilde\\varphi_{e-}\\tilde\\varphi_{e+}\\le 0$.\nFinally, we conclude that\n\\begin{eqnarray*}\n{\\mathbb{E}}\\left[ g\\left(\\left(X_{\\tau_u^{x_0}-t}, n_e(\\tau_u^{x_0}-t)\\right)_{0\\le t\\le \\tau_u^{x_0}}\\right)h(\\varphi^{(u)})\\right]=\n{\\mathbb{E}}\\left[ g\\left(\\left(\\check X_{t}, \\check n_e(t)\\right)_{0\\le t\\le \\check T}\\right)h(\\check \\varphi)\\right]\n\\end{eqnarray*}\nwhere in the right-hand side \n$\\check \\varphi\\sim P_{\\varphi}^{\\{x_0\\}, \\sqrt{2u}} $ \nis a GFF and $(\\check X_t, \\check n(t))$ \nis the process defined in section \\ref{sec_Poisson} from the\nGFF $\\check \\varphi$.\nThis exactly means that \n$\\varphi^{(u)} \\sim P_{\\varphi}^{\\{x_0\\}, \\sqrt{2u}}$ \nand that\n$$\n{\\mathcal L}\\left(\\left(X_{\\tau_u^{x_0}-t}, n_e(\\tau_u^{x_0}-t)\\right)_{0\\le t\\le \\tau_u^{x_0}}\\; \n\\Big| \\; \\varphi^{(u)}=\\check\\varphi\\right)= {\\mathcal L}\\left(\\left(\\check X_t, \\check n(t)\\right)_{t\\le \\check T}\\right).\n$$\nThis concludes the proof of Theorem \\ref{thm-Poisson2}.\n\\end{proof}\n\\begin{proof}[Proof of lemma \\ref{RN}]\nThe generator of the process $\\tilde Z_t$ defined in (\\ref{tildeZ}) is given, for any bounded and $\\mathcal{C}^{1}$ for the second component test function $f$, by \n\\begin{equation}\n\\label{tildeL2}\n\\begin{split}\n&amp;(\\tilde L f)(x,\\tilde\\Phi,\\tilde n)=\n-{1\\over \\tilde \\Phi_x} ({\\partial\\over \\partial \\tilde\\Phi_x}f)\n(x,\\tilde\\Phi, \\tilde n) +\\\\\n&amp;\n\\sum_{y, \\; y\\sim x} \\left(W_{x,y} \\left(f(y,\\tilde\\Phi,\\tilde n-\\delta_{\\{x,y\\}})-f(x,\\tilde\\Phi,n)\\right)+\nW_{x,y} {\\tilde \\Phi_{y}\\over \\tilde \\Phi_x} \\left(f(x,\\tilde\\Phi, n-\\delta_{\\{x,y\\}})-f(x,\\tilde\\Phi,n)\\right)\\right).\n\\end{split}\n\\end{equation}\nwhere $ n-\\delta_{\\{x,y\\}}$ is the value obtained by removing 1 from $n$ at edge $\\{x,y\\}$.\nIndeed, since $\\tilde \\Phi_x(t)=\n\\sqrt{\\tilde\\Phi_{x}(0)^{2} -2\\tilde \\ell_x(t)}$, we have \n\\begin{eqnarray}\n\\label{deriv-Phi}\n{\\partial\\over\\partial t} \\tilde \\Phi_x(t)=\n-{{\\mathbbm 1}}_{\\{\\tilde X_t=x\\}}{1\\over \\tilde \\Phi_x(t)},\n\\end{eqnarray}\nwhich is explains the first term in the expression. The second term is obvious from the definition of $\\tilde Z_t$, and corresponding to the term induced by jumps\nof the Markov process $\\tilde X_t$. The last term corresponds to the decrease of $\\tilde n$ due to the increase in the process\n$\\tilde N_e(\\tilde \\Phi)-\\tilde N_e(\\tilde \\Phi(t))$. Indeed, on the interval $[t,t+dt]$, the probability that\n$\\tilde N_{e}(\\tilde \\Phi(t))-\\tilde N_{e}(\\tilde \\Phi(t+dt))$\nis equal to 1 is of order\n$$-{\\partial\\over \\partial t} \\tilde N_e(\\tilde \\Phi(t))dt={{\\mathbbm 1}}_{\\{\\tilde X_t\\in e\\}}\n {W_e \\tilde \\Phi_{\\underline e}(t)\\tilde\\Phi_{\\overline e}(t)\\over \\Phi_{\\tilde X_t}(t)^2}dt\n $$\nusing identity (\\ref{deriv-Phi}).\n\nLet $\\check L$ be the generator of the Markov jump process $\\check Z_t=(\\check X_t, (\\check \\Phi_x(t)), (\\check n_e(t)))$.\nWe have that the generator is equal, for any smooth test function $f$, to\n\n\\begin{eqnarray*}\n&amp;&amp;(\\check L f)(x,\\Phi, n)=\n-{1\\over  \\Phi_x} ({\\partial\\over \\partial \\Phi_x}f)(x,\\Phi,  n) +\\\\\n&amp;&amp;{1\\over 2} \\sum_{y, \\; y\\sim x}{ n_{x,y} \\over  \\Phi_x^2}\n{{{\\mathbbm 1}}_{\\mathcal{A}_1(x,y)}} \\left(f(y,\\tilde\\Phi,n-\\delta_{\\{x,y\\}})+f(x,\\tilde\\Phi,n-\\delta_{\\{x,y\\}})- 2f(x,\\tilde\\Phi,n)\\right)\n\\\\\n&amp;&amp;+ \\sum_{y, \\; y\\sim x}{ n_{x,y} \\over \\Phi_x^2}  {{\\mathbbm 1}}_{\\mathcal{A}_2(x,y)} \\left( f(y,\\tilde\\Phi,n-\\delta_{\\{x,y\\}})- f(x,\\tilde\\Phi,n)) \\right)\n\\\\\n&amp;&amp;+\\sum_{y, \\; y\\sim x}{n_{x,y} \\over \\Phi_x^2} \n {{\\mathbbm 1}}_{\\mathcal{A}_3(x,y)} \\left(f(x,\\tilde\\Phi,n-\\delta_{\\{x,y\\}}) - f(x,\\tilde\\Phi,n) \\right)\n\\end{eqnarray*}\nwhere \n$\\mathcal{A}_{i}(x,y)$ correspond to the following disjoint events\n\\begin{itemize}\n\\item\n$\\mathcal{A}_1(x,y)$ if the numbers of connected clusters induced by $n-\\delta_{\\{x,y\\}}$ is the same as that of $\\check n$.\n\\item\n$\\mathcal{A}_2(x,y)$ if a new cluster is created in $ n-\\delta_{\\{x,y\\}}$ compared with $\\check n$ and if $y$ is in the connected component\nof $x_0$ in the cluster induced by $ n-\\delta_{\\{x,y\\}}$.\n\\item\n$\\mathcal{A}_3(x,y)$ if a new cluster is created in $ n-\\delta_{\\{x,y\\}}$ compared with $n$ and if $x$ is in the connected component\nof $x_0$ in the cluster induced by $ n-\\delta_{\\{x,y\\}}$.\n\\end{itemize}\nIndeed, conditionally on the value of $\\check n_e(t)=N_e(2J_e(\\check\\Phi(t)))$ at time $t$, the point process $N_e$ on the interval $[0,  2J_e(\\check\\Phi(t)))]$ has the law of\n$n_e(t)$ independent points with uniform distribution on $[0,  2J_e(\\check\\Phi(t)))]$. Hence, the probability that a point lies in the interval \n$[2J_e(\\check\\Phi(t+dt))),  2J_e(\\check\\Phi(t)))]$ is of order \n$$\n-\\check n_e(t) {1\\over J_e(\\check\\Phi(t)))}{\\partial\\over \\partial t} J_e(\\check\\Phi(t)))  dt= {{\\mathbbm 1}}_{\\{X_t\\in e\\}}\\;\\check n_e(t){1\\over \\check\\Phi_{X_t}(t)^2}dt.\n$$\nWe define the function \n\\begin{multline}\n\\nonumber\\Theta(x,(\\Phi_x),(n_e))=\\\\\ne^{-{1\\over 2} \\sum_{x\\in V}W_x (\\Phi_x)^2-\\sum_{e\\in E} J_e(\\Phi) }\n\\left(\\prod_{e\\in E} {(2J_e(\\Phi))^{n_e}\\over n_e !}\\right)\n{2^{\\#{\\mathcal C}(n_e)-1}\n\\over \\prod_{V\\setminus\\{x\\}} \\Phi }{{\\mathbbm 1}}_{\\{x\\in {\\mathcal C}(x_0,n),\nn_e\\ge 0\\; \\forall e\\in E\\}},\n\\end{multline}\nso that\n$$\n\\tilde M_{t\\wedge \\tilde T}= \\Theta(\\tilde Z_{t\\wedge\\tilde T}).\n$$\nTo prove the lemma it is sufficient to prove (\\cite{ChungWalsh05MP}, Chapter 11) that for any bounded smooth test function $f$\n\\begin{eqnarray}\\label{LcheckL}\n{1\\over \\Theta}\\tilde L\\left(\\Theta f\\right)= \\check L\\left(f\\right)\n \\end{eqnarray}\nLet us first consider the first term in (\\ref{tildeL2}).\nDirect computation gives \n$$\n\\left({1\\over \\Theta}{1\\over \\Phi_x}\\left({\\partial\\over\\partial \\Phi_x} \\Theta\\right)\\right) (x,\\Phi,n)= -W_x+\\sum_{y\\sim x} \\left(- W_{x,y}{\\Phi_y\\over\\Phi_x}+n_{x,y}{1\\over \\Phi_x^2}\\right).\n$$\nFor the second part, remark that the indicators ${{\\mathbbm 1}}_{\\{x\\in {\\mathcal C}(x_0,n)\\}}$ and ${{\\mathbbm 1}}_{\\{n_e\\ge 0\\; \\forall e\\in E\\}}$ imply that \n$\n\\Theta(y,\\Phi, n-\\delta_{x,y})\n$\nvanishes if $n_{x,y}=0$ or if $y\\not\\in {\\mathcal C}(x_0,n-\\delta_{x,y})$.\nBy inspection of the expression of $\\Theta$, we obtain for $x\\sim y$,\n\\begin{eqnarray*}\n\\Theta (y,\\Phi, n-\\delta_{x,y})&amp;=&amp; \\left({{\\mathbbm 1}}_{\\{n_{x,y}>0\\}} ({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_2}) {n_{x,y}\\over 2J_{x,y}(\\Phi)}{\\Phi_y\\over \\Phi_x}\\right)\\Theta(x,\\Phi, n) \n\\\\\n&amp;=&amp;\\left(({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_2}) {n_{x,y}\\over 2W_{x,y}}{1\\over \\Phi_x^2}\\right)\\Theta(x,\\Phi, n).\n\\end{eqnarray*}\nSimilarly,  for $x\\sim y$,\n\\begin{eqnarray*}\n\\Theta(x,\\Phi, n-\\delta_{x,y})&amp;=&amp; \\left({{\\mathbbm 1}}_{\\{n_{x,y}>0\\}}({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_3}){n_{x,y}\\over 2J_{x,y}}\\right)\\Theta(x,\\Phi, n)\\\\\n&amp;=&amp;\n\\left(({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_3}) {n_{x,y}\\over 2W_{x,y}\\Phi_x\\Phi_y}\\right)\\Theta(x,\\Phi, n).\n\\end{eqnarray*}\nCombining these three identities with the expression (\\ref{tildeL2}) we deduce\n\\begin{eqnarray*}\n&amp;&amp;{1\\over \\Theta}\\tilde L\\left(\\Theta f\\right)(x,\\Phi,n)=\\\\\n&amp;&amp;\n-{1\\over \\Phi_x} {\\partial\\over\\partial \\Phi_x}f(x,\\Phi,n)-\\sum_{y\\sim x} \\left(n_{x,y}{1\\over \\Phi_x^2}\\right)f(x,\\Phi,n)\n\\\\\n&amp;&amp;  +\\sum_{y\\sim x} ({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_2}) n_{x,y}{1\\over 2\\Phi_x^2} f(y,  n-\\delta_{\\{x,y\\}},\\Phi)+\n\\sum_{y\\sim x}({{\\mathbbm 1}}_{\\mathcal{A}_1}+2{{\\mathbbm 1}}_{\\mathcal{A}_3}){1\\over 2 \\Phi_x^2} f(x, n-\\delta_{\\{x,y\\}},\\Phi).\n\\end{eqnarray*}\nIt exactly coincides with the expression for $\\check L$ since $1={{\\mathbbm 1}}_{\\mathcal{A}_1}+{{\\mathbbm 1}}_{\\mathcal{A}_2}+{{\\mathbbm 1}}_{\\mathcal{A}_3}$.\n\\end{proof}\n\n\\subsection{General case}\n\\label{sec:pgen}\n\n\\begin{proposition}\n\\label{PropKillingCase}\nThe conclusion of\nTheorem \\ref{thm-Poisson} still holds\nif the graph $\\mathcal{G}=(V,E)$ is finite and the killing measure is non-zero ($\\kappa\\not\\equiv 0$).\n\\end{proposition}\n\n\\begin{proof}\nLet $h$ be the function on $V$ defined as\n\\begin{displaymath}\nh(x)=\\mathbb{P}_{x}(X~\\text{hits}~x_{0}~\\text{before}~\\zeta).\n\\end{displaymath}\nBy definition $h(x_{0})=1$. Moreover, for all \n$x\\in V\\setminus\\lbrace x_{0}\\rbrace$,\n\\begin{displaymath}\n-\\kappa_{x} h(x)+\\sum_{y\\sim x}W_{x,y}(h(y)-h(x))=0.\n\\end{displaymath}\nDefine the conductances\n$W^{h}_{x,y}:=W_{x,y}h(x)h(y)$, and the corresponding jump process $X^{h}$, and the GFF $\\varphi_{h}^{(0)}$ and $\\varphi_{h}^{(u)}$ with conditions\n$0$ respectively $\\sqrt{2u}$ at $x_{0}$. The Theorem \\ref{thm-Poisson}\nholds for the graph $\\mathcal{G}$ with conductances \n$(W^{h}_{e})_{e\\in E}$ and with zero killing measure. But the process\n$(X^{h}_{t})_{t\\leq \\tau_{u}^{x_{0}}}$ has the same law as the process\n$(X_{s})_{s\\leq \\tau_{u}^{x_{0}}}$, conditioned on\n$\\tau_{u}^{x_{0}}<\\zeta$, after the change of time\n\\begin{displaymath}\ndt = h(X_{s})^{-2}ds.\n\\end{displaymath}\nThis means in particular that for the occupation times,\n\\begin{equation}\n\\label{EqTimeChange}\n\\ell_{x}(t)=h(X_{s})^{-2}\\ell_{x}(s).\n\\end{equation}\nMoreover, we have the equalities in law \n\\begin{displaymath}\n\\varphi_{h}^{(0)}\\stackrel{\\text{law}}{=}h^{-1}\\varphi^{(0)},\\qquad\n\\varphi_{h}^{(u)}\\stackrel{\\text{law}}{=}h^{-1}\\varphi^{(u)}.\n\\end{displaymath}\nIndeed, at the level of energy functions, we have:\n\\begin{equation*}\n\\begin{split}\n&amp;\\mathcal{E}(hf,hf)=\n\\sum_{x\\in V}\\kappa_{x} h(x)^{2}f(x)^{2}+\n\\sum_{e}W_{e}(h(e_{+})f(e_{+})-h(e_{-})f(e_{-}))^{2}\\\\&amp;=\n\\sum_{x\\in V}[\\kappa_{x}h(x)^{2}f(x)^{2}+\n\\sum_{y\\sim x}W_{x,y}h(y)f(y)(h(y)f(y)-h(x)f(x))]\\\\\n&amp;=\n\\sum_{x\\in V}[\\kappa_{x}h(x)^{2}f(x)^{2}-\n\\sum_{y\\sim x}W_{x,y}(h(y)-h(x))h(x)f(x)^{2}]\n-\\sum_{\\substack{x\\in V\\\\y\\sim x}}W_{x,y}h(x)h(y)(f(y)-f(x))f(x)\n\\\\&amp;=[\\kappa_{x_{0}}-\n\\sum_{y\\sim x_{0}}W_{x_{0},y}(h(y)-1)]f(x_{0})^{2}\n+\\sum_{e}W_{e}^{h}(h(e_{+})f(e_{+})-h(e_{-})f(e_{-}))^{2}\n\\\\&amp;= \\text{Cste}(f(x_{0}))+\\mathcal{E}^{h}(f,f),\n\\end{split}\n\\end{equation*}\nwhere $\\text{Cste}(f(x_{0}))$ means that this term does not depend of $f$\nonce the value of the function at $x_{0}$ fixed.\n\nLet $\\check{X}^{h}_{t}$ be the inverse process for the conductances \n$(W_{e}^{h)_{e\\in E}}$ and the initial condition for the field\n$\\varphi_{h}^{(u)}$, given by Theorem \\ref{thm-Poisson}. \nBy applying the time change\n\\ref{EqTimeChange} to the process $\\check{X}^{h}_{t}$, we obtain an inverse process for the conductances $W_{e}$ and the field $\\varphi^{(u)}$.\n\\end{proof}\n\n\\begin{proposition}\n\\label{PropInfiniteCase}\nAssume that the graph $\\mathcal{G}=(V,E)$ is infinite. The killing measure $\\kappa$ may be non-zero. Then the conclusion of\nTheorem \\ref{thm-Poisson} holds.\n\\end{proposition}\n\n\\begin{proof}\nConsider an increasing sequence of connected sub-graphs\n$\\mathcal{G}_{i}=(V_{i},E_{i})$ of $\\mathcal{G}$ which converges to the whole graph. We assume that $V_{0}$ contains $x_{0}$.\nLet $\\mathcal{G}_{i}^{\\ast}=(V_{i}^{\\ast},E_{i}^{\\ast})$ be the graph obtained by adding to $\\mathcal{G}_{i}$ an abstract vertex\n$x_{\\ast}$, and for every edge $\\lbrace x,y\\rbrace$, where $x\\in V_{i}$ and \n$y\\in V\\setminus V_{i}$, adding an edge $\\lbrace x,x_{\\ast}\\rbrace$,\nwith the equality of conductances \n$W_{x,x_{\\ast}}=W_{x,y}$.\n$(X_{i,t})_{t\\geq 0}$ will denote the Markov jump process on \n$\\mathcal{G}_{i}^{\\ast}$, started from $x_{0}$. \nLet $\\zeta_{i}$ be the first hitting time of $x_{\\ast}$ or the first\nkilling time by the measure $\\kappa{{\\mathbbm 1}}_{V_{i}}$. Let\n$\\varphi^{(0)}_{i}$,\n$\\varphi^{(u)}_{i}$ will denote the GFFs on $\\mathcal{G}_{i}^{\\ast}$ with condition $0$ respectively $\\sqrt{2u}$ at $x_{0}$, with condition $0$ at \n$x_{\\ast}$, and taking in account the possible killing measure \n$\\kappa{{\\mathbbm 1}}_{V_{i}}$. \nThe limits in law of $\\varphi^{(0)}_{i}$\nrespectively $\\varphi^{(u)}_{i}$ are \n$\\varphi^{(0)}$\nrespectively $\\varphi^{(u)}$.\n\nWe consider the process \n$(\\hat{X}_{i,t},(\\check{n}_{i,e}(t))_{e\\in E_{i}^{\\ast}})\n_{0\\leq t\\leq\\check{T}_{i}}$ be the inverse process on\n$\\mathcal{G}_{i}^{\\ast}$, with initial field $\\varphi^{(u)}_{i}$.\n$(X_{i,t})_{t\\leq \\tau_{i,u}^{x_{0}}}$, conditional on \n$\\tau_{i,u}^{x_{0}}$, has the same law as\n$(\\check{X}_{i,\\check{T}_{i}-t})_{t\\leq \\check{T}_{i}}$.\nTaking the limit in law as $i$ tends to infinity, we conclude that\n$(X_{t})_{t\\leq \\tau_{u}^{x_{0}}}$, conditional on \n$\\tau_{u}^{x_{0}}<+\\infty$, has the same law as\n$(\\check{X}_{\\check{T}-t})_{t\\leq \\check{T}}$ on the infinite graph\n$\\mathcal{G}$. The same for the clusters.\nIn particular,\n\\begin{multline*}\n\\mathbb{P}(\\check{T}\\leq t, \\check{X}_{[0,\\check{T}]}~\\text{stays in}~V_{j})=\n\\lim_{i\\to +\\infty}\n\\mathbb{P}(\\check{T}_{i}\\leq t, \\check{X}_{i,[0,\\check{T}_{i}]}~\\text{stays in}~V_{j})\n\\\\=\n\\lim_{i\\to +\\infty}\n\\mathbb{P}(\\tau_{i,u}^{x_{0}}\\leq t, X_{i,[0,\\tau_{i,u}^{x_{0}}]}~\\text{stays in}~V_{j}\\vert \\tau_{i,u}^{x_{0}}<\\zeta_{i})=\n\\mathbb{P}(\\tau_{u}^{x_{0}}\\leq t, X_{[0,\\tau_{u}^{x_{0}}]}\n~\\text{stays in}~V_{j}\\vert \\tau_{u}^{x_{0}} < \\zeta),\n\\end{multline*}\nwhere in the first two probabilities we also average by the values of the\nfree fields.\nHence\n\\begin{displaymath}\n\\mathbb{P}(\\check{T}=+\\infty~\\text{or}~\\check{X}_{\\check{T}}\\neq x_{0})=\n1-\\lim_{\\substack{t\\to +\\infty\\\\ j\\to +\\infty}}\n\\mathbb{P}(\\tau_{u}^{x_{0}}\\leq t, X_{[0,\\tau_{u}^{x_{0}}]}\n~\\text{stays in}~V_{j}\\vert \\tau_{u}^{x_{0}} < \\zeta) = 0.\n\\end{displaymath}\n\\end{proof}\n\n\\section*{Acknowledgements}\n\nTL acknowledges the support of Dr. Max RÃ¶ssler, the Walter Haefner\nFoundation and the ETH Zurich Foundation.\n\n\\bibliographystyle{plain}\n&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:4,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction} \\\\label{farey_intro}\\n\\nIn \\\\cite{Weyl1} Hermann Weyl developed a general a&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:5,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction}\\n\\\\label{sec:intro}\\n\\nThe design of efficient flow control strategies for &quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:6,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction}\\n\\nLet $R$ be a finite ring equipped with a weight $w$.  Two linear codes\\n&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:7,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction}\\nAll graphs considered in this paper are finite and simple\\n(undirected, lo&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:8,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction}\\nIn this paper, we study the cyclicity problem with respect to the forward &quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}},{&quot;rowIdx&quot;:9,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;truncated&quot;,&quot;value&quot;:&quot;\&quot;\\\\section{Introduction} \\n\\\\label{Introduction}\\nDetecting communities (or clusters) in graphs is a&quot;},&quot;meta&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;{\n  \&quot;redpajama_set_name\&quot;: \&quot;RedPajamaArXiv\&quot;\n}&quot;}}}],&quot;truncated&quot;:true},&quot;paginationData&quot;:{&quot;pageIndex&quot;:0,&quot;numItemsPerPage&quot;:100,&quot;numTotalItems&quot;:86892,&quot;offset&quot;:0,&quot;length&quot;:100}},&quot;jwt&quot;:&quot;eyJhbGciOiJFZERTQSJ9.eyJyZWFkIjp0cnVlLCJwZXJtaXNzaW9ucyI6eyJyZXBvLmNvbnRlbnQucmVhZCI6dHJ1ZX0sImlhdCI6MTc0MjkyMzE2MSwic3ViIjoiL2RhdGFzZXRzL01CWlVBSS1MTE0vU2xpbVBhamFtYS02MjdCLURDIiwiZXhwIjoxNzQyOTI2NzYxLCJpc3MiOiJodHRwczovL2h1Z2dpbmdmYWNlLmNvIn0.GMiaGt4rdPt1RT6CIXNtnfl4bOo9x3crZPd7YyHrHyKdyk_zBIGwTgPTIoXQX6lJLq5BJAOr5pD6Jw9ul2szAA&quot;,&quot;displayUrls&quot;:true},&quot;dataset&quot;:&quot;MBZUAI-LLM/SlimPajama-627B-DC&quot;,&quot;isGated&quot;:false,&quot;isPrivate&quot;:false,&quot;hasParquetFormat&quot;:false,&quot;author&quot;:{&quot;avatarUrl&quot;:&quot;https://cdn-avatars.huggingface.co/v1/production/uploads/649d5a3f4e08d59d20014652/oxIEEzBgF7pk4gorWc4BO.jpeg&quot;,&quot;fullname&quot;:&quot;MBZUAI-LLM&quot;,&quot;name&quot;:&quot;MBZUAI-LLM&quot;,&quot;type&quot;:&quot;org&quot;,&quot;isHf&quot;:false,&quot;isHfAdmin&quot;:false,&quot;isMod&quot;:false,&quot;isEnterprise&quot;:false,&quot;followerCount&quot;:22},&quot;compact&quot;:true}"><div class="flex flex-col overflow-hidden shadow-xs mx-auto mb-10 rounded-lg border pt-2  px-2.5"><div class="mb-2 flex flex-wrap items-center gap-2"><div class="mr-auto flex items-center"><svg class="mr-1 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
	<div class="whitespace-nowrap font-semibold">Dataset Viewer (First 5GB)</div>
	<div class="translate-y-px z-10"><svg class="mx-1.5 text-sm text-gray-400 hover:text-black dark:hover:text-white" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M17 22v-8h-4v2h2v6h-3v2h8v-2h-3z" fill="currentColor"></path><path d="M16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z" fill="currentColor"></path><path d="M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z" fill="currentColor"></path></svg>
	</div></div>
				<a href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/tree/refs%2Fconvert%2Fparquet/default" class="group mr-1 text-xs text-gray-400 max-sm:hidden"><svg class="text-[.6rem] mr-1 inline -translate-y-px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M12 10H6.78A11 11 0 0 1 27 16h2A13 13 0 0 0 6 7.68V4H4v8h8zm8 12h5.22A11 11 0 0 1 5 16H3a13 13 0 0 0 23 8.32V28h2v-8h-8z"></path></svg>
						<span class="underline decoration-gray-300 group-hover:decoration-gray-400 dark:decoration-gray-500 dark:group-hover:decoration-gray-300">Auto-converted</span> to Parquet
					</a>
				<button class="btn shadow-xs flex cursor-pointer items-center rounded-sm border px-1 py-0.5 text-xs font-normal text-gray-700 hover:text-gray-800 hover:shadow-inner dark:hover:text-gray-200"><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" style="transform: rotate(360deg);"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg>API</button>
					<button class="btn shadow-xs flex cursor-pointer items-center rounded-sm border px-1 py-0.5 text-xs font-normal text-gray-700 hover:text-gray-800 hover:shadow-inner dark:hover:text-gray-200"><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path d="M9.80603 2.86737H3.56107C3.37704 2.86737 3.20055 2.94048 3.07042 3.0706C2.94029 3.20073 2.86719 3.37723 2.86719 3.56126V9.80622C2.86719 9.99025 2.94029 10.1667 3.07042 10.2969C3.20055 10.427 3.37704 10.5001 3.56107 10.5001H9.80603C9.99006 10.5001 10.1666 10.427 10.2967 10.2969C10.4268 10.1667 10.4999 9.99025 10.4999 9.80622V3.56126C10.4999 3.37723 10.4268 3.20073 10.2967 3.0706C10.1666 2.94048 9.99006 2.86737 9.80603 2.86737Z" fill="currentColor" fill-opacity="0.3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.40942 1.66191C2.05175 1.66191 1.7618 1.95186 1.7618 2.30953V6.76191H1.43799V2.30953C1.43799 1.77303 1.87291 1.3381 2.40942 1.3381H6.45704V1.66191H2.40942Z" fill="currentColor"></path></svg>Embed</button>

					<button class="bg-linear-to-b shadow-xs flex items-center gap-1.5 rounded-full border from-white to-red-100/90 px-2 py-0.5 text-xs font-medium text-[#2D3648] transition-shadow hover:shadow-inner dark:from-gray-900 dark:to-red-800/30 dark:text-gray-100 dark:hover:shadow-inner dark:hover:shadow-red-800/30" ><svg class="h-3.5 w-3.5 text-red-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
						<span>Data Studio</span></button></div>
		<div class="flex flex-1 flex-col overflow-hidden -mx-2.5"><div class="flex flex-1 flex-col overflow-hidden"><div class="flex min-h-0 flex-1"><div class="flex flex-1 flex-col overflow-hidden"><div class="md:-mx-2.5 flex min-w-0 flex-wrap border-t"><div class="flex min-w-0 flex-1 flex-wrap"><div class="grid flex-1 grid-cols-1 overflow-hidden text-sm md:grid-cols-2 md:place-content-center sm:mx-2.5"><label class="relative block flex-1 px-3 py-2 hover:bg-gray-50 dark:border-gray-850 dark:hover:bg-gray-950 md:border-r md:border-r-0 hidden" title="default"><span class="text-gray-500">Subset (1)</span>
			<div class="flex items-center whitespace-nowrap"><span class="truncate">default</span>
				<span class="mx-2 text-gray-500">Â·</span>
					<span class="text-gray-500">~57M rows (showing the first 1.09M)</span>
				<svg class="ml-auto min-w-6 pl-2" width="1em" height="1em" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L6 6L11 1" stroke="currentColor"></path></svg></div>
			<select class="absolute inset-0 z-10 w-full cursor-pointer border-0 bg-white text-base opacity-0"><optgroup label="Subset (1)"><option value="default" selected>default (~57M rows, showing the first 1.09M)</option></optgroup></select></label>
		<label class="relative block flex-1 px-3 py-2 hover:bg-gray-50 dark:border-gray-850 dark:hover:bg-gray-900 md:border-r md:border-r" title="train"><div class="text-gray-500">Split (3)</div>
				<div class="flex items-center overflow-hidden whitespace-nowrap"><span class="truncate">train</span>
					<span class="mx-2 text-gray-500">Â·</span>
						<span class="text-gray-500">~56M rows (showing the first 86.9k)</span>
					<svg class="ml-auto min-w-6 pl-2" width="1em" height="1em" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L6 6L11 1" stroke="currentColor"></path></svg></div>
				<select class="absolute inset-0 z-10 w-full cursor-pointer border-0 bg-white text-base opacity-0"><optgroup label="Split (3)"><option value="train" selected>train (~56M rows, showing the first 86.9k)</option><option value="validation" >validation (503k rows)</option><option value="test" >test (502k rows)</option></optgroup></select></label></div></div>
								</div>

							<div class="flex min-h-0 flex-1 flex-col ">
	<div class="bg-linear-to-r text-smd relative flex items-center dark:border-gray-900 dark:bg-gray-950 false border-t [&amp;:has(:focus)]:from-gray-50 [&amp;:has(:focus)]:to-transparent [&amp;:has(:focus)]:to-20% dark:[&amp;:has(:focus)]:from-gray-900"><div class="flex w-full items-center justify-between "><div class="flex flex-1 items-center"><div class="flex h-9 flex-1 items-center px-3 text-gray-400">Search is not available for this dataset</div></div>
				<div class="flex items-center px-2 py-1"><button type="button" class="hover:bg-yellow-200/70 flex items-center gap-1 rounded-md border border-yellow-200 bg-yellow-100 pl-0.5 pr-1 text-[.8rem] leading-normal text-gray-700 dark:border-orange-500/25 dark:bg-orange-500/20 dark:text-gray-300 dark:hover:brightness-110 hidden"><div class="rounded-sm bg-yellow-300 px-1 font-mono text-[.7rem] font-bold text-black dark:bg-yellow-700 dark:text-gray-200">SQL
	</div>
	Console
</button></div></div></div>


<div class="flex flex-1 flex-col overflow-hidden min-h-64 border-t">
		

<div class="max-h-96 relative overflow-auto"><table class="w-full table-auto rounded-lg font-mono text-xs text-gray-900"><thead class="shadow-xs sticky left-0 right-0 top-0 z-1 bg-white align-top"><tr class="space-y-54 h-full min-w-fit divide-x border-b text-left"><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">text
				</div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['Â·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="0" width="11.2" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="13.2" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="26.4" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="39.599999999999994" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="52.8" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="79.19999999999999" y="26" width="11.2" height="4" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="92.39999999999999" y="26" width="11.2" height="4" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="105.6" y="26" width="11.2" height="4" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="118.8" y="25" width="11.2" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500" x="-1" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="12.2" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="25.4" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="38.599999999999994" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="51.8" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="65" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="78.19999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="91.39999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="104.6" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500" x="117.8" y="0" width="13.2" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">216</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">4.52M</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">meta
				</div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>dict</span></div></div>

		<div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th></tr></thead>
			<tbody class="h-16 overflow-scroll"><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="0"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">\section{Introduction}
\noindent The vertical dynamics of a free falling ball on a moving racket is considered. The racket is supposed to
move periodically in the vertical direction according to a regular periodic function $f(t)$ and
the ball is reflected according to the law of elastic bouncing when hitting the
racket. The only force acting on the ball is the gravity $g$. Moreover, the mass of the racket is assumed to be large with respect to the mass of the
ball so that the impacts do not affect the motion of the racket.

\noindent This model has inspired many authors as it represents a simple model exhibiting complex dynamics, depending on the properties of the function $f$. The first results were given by Pustyl'nikov in \cite{pust} who studied the possibility of having motions with velocity tending to infinity, for $\df$ large enough. On the other hand, KAM theory implies that if the $C^k$ norm, for $k$ large, of $\df$ is small then all motions are bounded. On these lines some recent results are given in \cite{ma_xu,maro4,maro6}. Bounded motions can be regular (periodic and quasiperiodic, see \cite{maro3}) and chaotic (see \cite{maro5,maro2,ruiztorres}). Moreover, the non periodic case is studied in \cite{kunzeortega2,ortegakunze}, the case of different potentials is considered in \cite{dolgo} and recent results on ergodic properties are present in \cite{studolgo}.      

In this paper we are concerned with $(p,q)$-periodic motions understood as $p$-periodic with $q$ bounces in each period. Here $p,q$ are supposed to be positive coprime integers. In \cite{maro3} it is proved that if $p/q$ is sufficiently large, then there exists at least one $(p,q)$-periodic motion. This result comes from an application of Aubry-Mather theory as presented in \cite{bangert}. Actually, the bouncing motions correspond to the orbits of an exact symplectic twist map of the cylinder. The orbits of such maps can be found as critical points of an action functional and the $(p,q)$-periodic orbits found in \cite{maro3} correspond to minima. Here we first note that a refined version of Aubry-Mather theory (see \cite{katok_hass}) gives, for each couple of coprime $p,q$ such that $p/q$ is large, the existence of another $(p,q)$-periodic orbit that is not a minimum, since it is found via a minimax argument. This gives the existence of two different $(p,q)$-periodic motions for fixed values of $p,q$, with $p/q$ large.

We are first interested in the stability in the sense of Lyapunov of such periodic motions. This is related to the structure of the $(p,q)$-periodic orbits of the corresponding exact symplectic twist map, for fixed $p,q$. It comes from Aubry-Mather theory that the $(p,q)$-periodic orbits that are minima can be ordered and if there are two with no other in the middle then they are connected by heteroclinic orbits. In this case they are unstable. On the other hand, $(p,q)$-periodic orbits can form an invariant curve. In this case they are all minima but their stability cannot be determined as before since we are in a degenerate scenario. However, if we suppose to be in the real analytic case, a topological argument (see \cite{ortega_fp,ortega_book}) can be used to deduce instability. More precisely we will use the fact that for a real analytic area and orientation preserving embedding of the plane that is not the identity, every stable fixed point is isolated. Therefore, the hypothesis of $f$ being real analytic comes here into play.

Concerning the structure of the set of $(p,q)$-periodic motions we prove that in the real analytic case they can only be either isolated or in a degenerate case, in the sense that the corresponding orbits form an invariant curve that is the graph of a real analytic function. As before, in the isolated case at least one is unstable and in the degenerate case they all are minima and unstable. Note that this result differs from Aubry-Mather theory since we are not requiring the orbits to be minima of a functional. To prove this result we need the $q$-th iterate of the map to be twist. For $q=1$ this is true for every real analytic $f$, while for the general case $q>1$ we need to restrict to $\norm{\ddf}$ being small.   


The paper is organized as follows. In Section \ref{sec:theory} we recall some known facts about exact symplectic twist maps together with the results for the analytic case. In Section \ref{sec:tennis} we introduce the bouncing ball map and describe its main properties. Finally, the results on the existence of two $(p,q)$-periodic motions, the instability and the structure of the set are given in Section \ref{sec:per}.


\section{Some results on periodic orbits of exact symplectic twist maps}\label{sec:theory}
Let us denote by $\Sigma=\RR\times(a,b)$ with $-\infty\leq a&lt;b\leq +\infty$ a possibly unbounded strip of $\RR^2$. We will deal with $C^k$ ($k\geq 1$) or real analytic embeddings $\tilde{S}:\Sigma \rightarrow \RR^2$ such that
\begin{equation}\label{def_cyl}
\tilde{S}\circ\sigma=\sigma\circ \tilde{S}
\end{equation}
where $\sigma:\RR^2\rightarrow\RR^2$ and $\sigma(x,y)=(x+1,y)$. By this latter property, $\tilde{S}$ can be seen as the lift of an embedding $S:\Sigma\rightarrow\AA$ where $\AA = \TT\times \RR$ with $\TT = \RR/\ZZ$ and $\Sigma$ is now understood as the corresponding strip of the cylinder. We denote $\tilde{S}(x,y)=(\bar{x},\bar{y})$ and the corresponding orbit by $(x_n,y_n)_{n\in\ZZ}$. 

 We say that $\tilde{S}$ is exact symplectic if there exists a $C^1$ function $V:\Sigma\rightarrow \RR$ such that $V\circ\sigma=V$ and
\[
\bar{y} d \bar{x} -y dx = dV(x,y) \quad\mbox{in }\Sigma.
\]
Moreover, by the (positive) twist condition we understand
\[
\frac{\partial \bar{x}}{\partial y} >0 \quad\mbox{in }\Sigma. 
\]
A negative twist condition would give analogous results. The exact symplectic condition implies that $\tilde{S}$ preserves the two-form $dy\wedge dx$ so that it is area and orientation preserving.
An equivalent characterization is the existence of a generating function, i.e. a $C^2$ function $h:\Omega\subset \RR^2\rightarrow \RR$ such that $h(x+1,\bar{x}+1) = h(x,\bar{x})$ and $h_{12}(x,\bar{x}) &lt;0$ in $\Omega$ and for $(x,y)\in\Sigma$ we have $\tilde{S}(x,y) = (\bar{x},\bar{y})$ if and only if 
    \[
    \left\{
    \begin{split}
      h_1(x,\bar{x})&amp;=-y \\
      h_2(x,\bar{x})&amp;=\bar{y}.
    \end{split}
    \right.
    \]
Moreover, $\tilde{S}$ preserves the ends of the cylinder if, uniformly in $x$,
\[
\bar{y}(x,y) \rightarrow \pm\infty \quad\mbox{as }y\rightarrow \pm\infty
\]
and twists each end infinitely if, uniformly in $x$,
\[
\bar{x}(x,y)-x \rightarrow \pm\infty \quad\mbox{as }y\rightarrow \pm\infty.
\]
Finally we will say that an embedding of the cylinder $S:\Sigma\rightarrow\AA$ satisfies any of these properties if so does its corresponding lift.



These maps enjoy several properties and many interesting orbits are proved to exist. Here we recall some results concerning periodic orbits. We start with the following
\begin{definition}
  Fix two coprime integers $p,q$ with $q\neq 0$. An orbit $(x_n,y_n)_{n\in\ZZ}$ of $\tilde{S}$ is said $(p,q)$-periodic if $(x_{n+q},y_{n+q})=(x_n+p,y_n)$ for every $n\in\ZZ$. Moreover, we say that it is stable (in the sense of Lyapunov) if for every $\varepsilon>0$ there exists $\delta>0$ such that for every $(\hat{x}_0,\hat{y}_0)$ satisfying $|(x_0,y_0)-(\hat{x}_0,\hat{y}_0)|&lt;\delta$ we have $|\tilde{S}^n(\hat{x}_0,\hat{y}_0)-({x}_n,{y}_n)|&lt;\varepsilon$ for every $n\in\ZZ$. 
\end{definition}




\begin{remark}\label{rem_periodic}
  Note that $(q,p)$-periodic orbits correspond to fixed points of the map $\sigma^{-p}\circ \tilde{S}^q$. This follows from the fact that $\tilde{S}$ is a diffeomorphism defined on the cylinder. Each point of the orbit is a fixed point of $\sigma^{-p}\circ\tilde{S}^q$ and a fixed point of $\sigma^{-p}\circ\tilde{S}^q$ is the initial condition of a $(p,q)$-periodic orbit. Note that different fixed points may correspond to the same orbit but not viceversa. Moreover, if an orbit is $(q,p)$-periodic then it cannot be also $(q',p')$-periodic unless $p/q=p'/q'$. Actually, let $\xi=(x,y)$ and suppose that $\xi=\sigma^{-p}\circ\Phi^q(\xi)=\sigma^{-p'}\circ \Phi^{q'}(\xi)$. Then $\sigma^{p}(\xi)=\Phi^q(\xi)$ and $\sigma^{p'}(\xi)=\Phi^{q'}(\xi)$ from which $\Phi^{qq'}(\xi)=\sigma^{pq'}(\xi)=\sigma^{p'q}(\xi)$ and $pq'=p'q$.   
  Finally, the stability of a $(q,p)$-periodic orbit corresponds to the stability in the sense of Lyapunov of the corresponding fixed point of the map $\sigma^{-p}\circ\tilde{S}^q$.
\end{remark}


A particular class of periodic orbits are the so called Birkhoff periodic orbits.
\begin{definition}
  Fix two coprime integers $p,q$ with $q\neq 0$. An orbit $(x_n,y_n)_{n\in\ZZ}$ of $\tilde{S}$ is said a Birkhoff $(p,q)$-periodic orbit if there exists a sequence $(s_n,u_n)_{n\in\ZZ}$ such that
  \begin{itemize}
  \item $(s_0,u_0)=(x_0,y_0)$ 
  \item $s_{n+1}>s_n$ 
  \item $(s_{n+q},u_{n+q})=(s_{n}+1,u_{n})$
  \item $(s_{n+p},u_{n+p})=\tilde{S}(s_{n},u_{n})$
    \end{itemize}
 \end{definition}
  \begin{remark}
    Note that a Birkhoff $(p,q)$-periodic orbit is a $(p,q)$-periodic orbit since
    \[
(x_{n+q},y_{n+q})=(s_{np+qp},u_{np+qp})=(s_{np}+p,u_{np})=\tilde{S}^n(s_0,u_0)+(p,0)=(x_{n}+p,y_{n}).
    \]
    \end{remark}


The existence of Birkhoff $(p,q)$-periodic orbits comes from Aubry-Mather theory. Here we give a related result \cite[Th. 9.3.7]{katok_hass}

\begin{theorem}\label{birk_orbits}
  Let $S:\AA\rightarrow\AA$ be an exact symplectic twist diffeomorphism that preserves and twists the ends infinitely and let $p,q$ be two coprime integers. Then there exist at least two Birkhoff $(p,q)$-periodic orbits for $S$. 
\end{theorem}
\begin{remark}
The Theorem is proved via variational techniques. The periodic orbits correspond to critical points of an action defined in terms of the generating function. One of this point is a minimum and the other is a minimax if the critical points are isolated. 
  \end{remark}

In the analytic case, something more can be said on the topology of these orbits.

\begin{proposition}\label{unstable}
Let $\tilde{S}:\Sigma\rightarrow\RR^2$ be an exact symplectic twist embedding satisfying condition \eqref{def_cyl} and admitting a $(p,q)$-periodic orbit. Then there exists at least one $(p,q)$-periodic orbit that is unstable. 
\end{proposition}
\begin{proof}
  The proof is essentially given in \cite{maroTMNA,ortega_fp,ortega_book}. We give here a sketch. It is enough to prove that there exists at least one unstable fixed point of the area and orientation preserving 1-1 real analytic map $\sigma^{-p}\circ \tilde{S}^q$. Let us first note that since $\tilde{S}$ is twist, the map $\sigma^{-p}\circ \tilde{S}^q$ is not the identity. Actually, it is known (see for example \cite{herman})) that if $\tilde{S}$ is twist, then the image of a vertical line under $\tilde{S}^q$ is a positive path, i.e. a curve such that the angle between the tangent vector and the vertical is always positive. This implies that $\tilde{S}^q$ cannot be a horizontal translation.\\
By hypothesis the set of fixed points of $\sigma^{-p}\circ \tilde{S}^q$ is not empty so that applying \cite[Chapter 4.9, Theorem 15]{ortega_book} we deduce that every stable fixed point is an isolated fixed point.\\
Hence, if there exists some non isolated fixed point, it must be unstable. Finally, suppose that we only have isolated fixed points that are all stable. From \cite[Chapter 4.5, Theorem 12]{ortega_book} they must all have index $1$. On the other hand, the Euler characteristic of the cylinder is null, and by the Poincar\'e-Hopf index formula we have a contradiction. Hence, there must exists at least one fixed point that is unstable.
   \end{proof}

\begin{corollary}
  In the conditions of Theorem \ref{birk_orbits}, if $S$ is real analytic then there exists at least one unstable $(p,q)$-periodic orbit.
\end{corollary}

In the analytic case, the twist condition gives information on the structure of the set of $(p,q)$-periodic orbits. Actually the following result has been proved in \cite{maroTMNA,ortega_pb}

\begin{theorem}\label{maro_teo}
  Consider a $C^1$-embedding $\tilde{S}:\Sigma\rightarrow\RR$ satisfying property \eqref{def_cyl} and suppose it is exact symplectic and twist. Fix a positive integer $p$ and assume that for every $x\in\RR$ there exists $y\in (a,b)$ such that
  \begin{equation}\label{maro_cond}
\bar{x}(x,a)&lt;x+p&lt;\bar{x}(x,y).
  \end{equation}
Then the map $\sigma^{-p}\circ\tilde{S}$ has at least two fixed points in $[0,1)\times (a,b)$. Moreover, if $\tilde{S}$ is real analytic then the set of fixed points is finite or the graph of a real analytic $1$-periodic function. In the first case the index of such fixed points is either $-1$, $0$, $1$ and at least one is unstable. In the second case, all the fixed points are unstable.
  \end{theorem}

\begin{remark}
	Aubry-Mather theory gives a description, for fixed $p,q$ of those $(p,q)$-periodic orbits that are global minimizers. They can be ordered and if two of them are neighbouring, in the sense that there is no other minimal $(p,q)$-periodic orbit in the middle, then there are heteroclinic connections between them (\cite{bangert,katok_hass}). In this case, the $(p,q)$-periodic orbits are unstable.  On the other hand, they can form an invariant curve. We stress that in the analytic case Theorem \ref{maro_teo} gives the description of the set of all $(p,q)$-periodic orbits, not only those that are action minimizing.           
\end{remark}







\section{The bouncing ball map and its properties}\label{sec:tennis}

Consider the motion of a bouncing ball on a vertically
moving racket. We assume that the impacts do not affect the racket  whose vertical position is described by a
$1$-periodic $C^k$, $k\geq 2$, or real analytic function $f:\RR\rightarrow\RR$. Let us start getting the equations of motion, following \cite{maro5}. In an inertial frame, denote by $(\to,w)$ the time of impact and the corresponding velocity just after the bounce, and by
$(\Pto,\bar w)$ the corresponding values at the subsequent bounce.
From
the free falling condition we have
\begin{equation}\label{timeeq}
f(t) + w(\Pto-\to) - \frac{g}{2}(\Pto -\to)^2 = f(\Pto) \,,
\end{equation}
where $g$ stands for the standard acceleration due to gravity.
Noting that the velocity just before the impact at time $\Pto$ is $w-g(\Pto-\to)$, using
the elastic impact condition and recalling that the racket is not affected by the ball, we obtain
\begin{equation}
  \label{veleq}
\bar{w}+w-g(\Pto-\to) = 2\dot{f}(\Pto)\,,
\end{equation}
where $\dot{}$ stands for the derivative with respect to time. From conditions (\ref{timeeq}-\ref{veleq}) we can define a bouncing motion given an initial condition $(t,w)$ in the following way. If $w\leq\df(t)$ then we set $\bar{t}=t$ and $\bar{w}=w$. If $w>\df(t)$, we claim that we can choose $\bar{t}$ to be the smallest solution $\bar{t}> t$ of \eqref{timeeq}. Bolzano theorem gives the existence of a solution of \eqref{timeeq} considering
\[
F_t(\bar{t})=f(t)-f(\Pto) + w(\Pto-\to) - \frac{g}{2}(\Pto -\to)^2 
\]
and noting that $F_t(\bar{t})&lt;0$ for $\Pto-\to$ large and $F_t(\bar{t})>0$ for $\Pto-\to\rightarrow 0^+$. Moreover, the infimum $\bar{t}$ of all these solutions is strictly larger than $t$ since if there exists a sequence $\bar{t}_n\rightarrow t$ satisfying \eqref{timeeq} then,
\[
 w - \frac{g}{2}(\Pto_n -\to) = (f(\Pto_n)- f(t)) /(\Pto_n-\to)
\]
that contradicts $w>\df(t)$ using the mean value theorem.
For this value of $\bar{t}$, condition \eqref{veleq} gives the updated velocity $\bar{w}$.  


For $\Pto-\to>0$, we introduce the notation
\[
f[\to,\Pto]=\frac{f(\Pto)-f(\to)}{\Pto-\to},
\]
and write
\begin{equation}
  \label{w1}
\Pto = \to + \frac 2g w -\frac 2g f[\to,\Pto]\,,
\end{equation}
that also gives
\begin{equation}
  \label{w2}
\bar{w}= w -2f
[\to,\Pto]
+ 2\dot{f}(\Pto).
\end{equation}
Now we change to the moving frame attached to the racket, where the velocity after the impact is expressed as $v=w-\dot{f}(t)$,
and we get
the equations
\begin{equation}\label{eq:unb}
  \left\{
  \begin{split}
\Pto = {} &amp; \to + \frac 2g \vo-\frac 2g f[\to,\Pto]+\frac 2g \df(\to)\textcolor{blue}{\,}
\\
\Pvo = {} &amp; \vo - 2f[\to,\Pto] + \df (\Pto)+\df(\to)\textcolor{blue}{\,.}
\end{split}
\right.
\end{equation}
 By the periodicity of the
function $f$, the coordinate $t$ can be seen as an angle. Hence, equations \eqref{eq:unb} define formally a map
\[
\begin{array}{rcl}
\tilde\Psi: 
\RR &amp; \longrightarrow &amp; \RR \\
(\to,\vo) &amp; \longmapsto &amp; (\Pto, \Pvo),
\end{array}
\]
satisfying $\tilde\Psi\circ\sigma=\sigma\circ\tilde\Psi$ and the associated map of the cylinder $\Psi:\AA\rightarrow\AA$.

This is the formulation considered by Kunze and Ortega
\cite{kunzeortega2}. Another approach was considered by Pustylnikov in
\cite{pust} and leads to a map that is equivalent to
\eqref{eq:unb}, see \cite{maro3}.
Noting that $w>\df(t)$ if and only if $v>0$, we can define a bouncing motion as before and denote it as a sequence $(t_n,v_n)_{n\in\ZZ^+}$ with $\ZZ^+=\{n\in\ZZ \::\: n\geq 0\}$ such that $(t_n,v_n)\in \TT\times [0,+\infty)$ for every $n\in\ZZ^+$.

The maps $\Psi$ and its lift $\tilde{\Psi}$ are only defined formally. In the following lemma we state that they are well defined and have some regularity.  
Let us introduce the notation $\RR_{v_*}=\{v\in\RR \: :\: v>v_* \}$,  $\AA_{v_*} = \TT\times \RR_{v_*}$ and $\RR^2_{v_*}=\RR\times\RR_{v_*}$. We will denote the $\sup$ norm by $\norm{\cdot}$ and recall that $f\in C^k(\TT), k\geq 2$ or real analytic.

\begin{lemma}
  \label{well_def}
There exists $v_*>4\norm{\df}$ such that the map $\Psi:\AA_{v_*}\rightarrow \AA$ is a $C^{k-1}$ embedding. If $f$ is real analytic, then $\Psi$ is a real analytic embedding. 
\end{lemma}
\begin{proof}
The proof is essentially given in \cite{maro5}. We give here a sketch.
To prove that the map is well defined and $C^{k-1}$ we denote $v_{**}=4\norm{\df}$ and apply the implicit function theorem to the $C^{k-1}$ function $F :\{(\to,\vo,\Pto,\Pvo)\in \AA_{v_{**}} \times \RR^2 \: :\:\to\neq\Pto   \} \rightarrow \RR^2$
given by

\begin{equation*}
 F(\to,\vo,\Pto,\Pvo):=
\left(
\begin{split}
&amp; \Pto - \to - \frac 2g \vo + \frac 2g f[\to,\Pto]-\frac 2g \df (\to) \\
&amp; \Pvo - \vo + 2f[\to,\Pto] - \df(\Pto)-\df(\to)
\end{split}
\right),
\end{equation*}
This gives the existence of a $C^{k-1}$ map $\Psi$ defined in $\AA_{v_{**}}$ such that $F(\to,\vo,\Psi(\to,\vo) )=0$. If $f$ is real analytic, we get that $\Psi$ is real analytic applying the analytic version of the implicit function theorem. \\
One can easily check that $\Psi$ is a local diffeomorphism since
\[
\det \Dif_{\to,\vo} \Psi (t,v) =-\frac{\det (\Dif_{\to,\vo} F(\to,\vo,\Psi(\to,\vo) ))}{ \det (\Dif_{\Pto,\Pvo} F(\to,\vo,\Psi(\to,\vo) ))} \neq 0 \quad\mbox{on }\AA_{v_{**}}.
\]
To prove that $\Psi$ is a global embedding we need to prove that it is injective in $\AA_{v_*}$ for $v_*$ eventually larger than $v_{**}$. This can be done as in \cite{maro5}. 
\end{proof}

\begin{remark}
  Note that we cannot guarantee that if $(\to_0,\vo_0) \in \AA_{v_*}$ then $\Psi(\to_0,\vo_0) \in \AA_{v_*}$. This is reasonable, since the ball can slow down decreasing its velocity at every bounce.
 



 
  However, a bouncing motion is defined for $v\geq 0$
\end{remark}

\begin{remark}
  From the physical point of view, the condition $\Psi^n(\to_0,\vo_0)\in\AA_{v_*}$ for every $n$, implies that we can only hit the ball when it is falling. To prove it, suppose that $\to_0 =0$ and let us see what happens at the first iterate. The time at which the ball reaches its maximum height is $t^{max}=\frac{\vo_0}{g}$. On the other hand, the first impact time $\Pto$ satisfies,
  \[
\Pto \geq \frac{2}{g}\vo_0 - \frac{4}{g}\norm{\df}= t^{max}\left(         2-\frac{4}{\vo_0}\norm{\df} \right) > t^{max},
\]
where the last inequality comes from $\vo_0\in\RR_{v_*}$ and $v_*>4\norm{\df}$.
\end{remark}


The map $\tilde\Psi$ is exact symplectic if we pass to the variables time-energy $(\to,\Eo)$ defined by
\[
 (\to,\Eo) = \left(\to,\frac{1}{2}\vo^2\right),
\]
obtaining the conjugated map
\[
\Phi :\AA_{\Eo_*}
\longrightarrow  \AA, \qquad \Eo_*=\frac{1}{2}v_*^2
\]
defined by
\begin{equation}\label{eq:unbe}
  \left\{
  \begin{split}
\Pto =  &amp; \to + \frac 2g \sqrt{2\Eo}-\frac 2g f[\to,\Pto]+\frac 2g \df(\to)
\\
\PEo =  &amp; \frac{1}{2}\left( \sqrt{2\Eo} - 2f[\to,\Pto] + \df (\Pto)+\df(\to) \right)^2,
\end{split}
\right.
\end{equation}
that by Lemma \ref{well_def} is a $C^{k-1}$-embedding or real analytic if $f$ is real analytic. More precisely, we have the following
\begin{lemma}
  \label{lemma:exact}
  The map $\Phi$ is exact symplectic and twist in $\AA_{e_*}$.














  Moreover, $\Phi$ preserves and twists infinitely the upper end.
  
\end{lemma}

The map $\Phi$ is not defined in the whole cylinder. However, it is possible to extend to the whole cylinder preserving its properties. More precisely:
\begin{lemma}
  \label{extension}
There exists a $C^{k-2}$ exact symplectic and twist diffeomorphism $\bar{\Phi}:\AA\rightarrow\AA$ such that $\bar{\Phi} \equiv \Phi$ on $\AA_{e_*}$ and $\bar{\Phi}\equiv\Phi_0$ on $\AA\setminus\AA_{\frac{e_*}{2}}$ where $\Phi_0$ is the integrable twist map $\Phi_0(t,e)=(t+e,e)$. Moreover, $\bar{\Phi}$ preserves the ends of the cylinder and twists them infinitely. If $f$ is real analytic, then the extension $\bar{\Phi}$ is $C^\infty$.
\end{lemma}

Due to Lemma \ref{well_def} and the fact that the maps $\Phi$ and $\Psi$ are conjugated we can consider the lift $\tilde{\Phi}:\RR^2_{e_*}\rightarrow\RR^2$ and give the following
\begin{definition}
  A complete bouncing motion $(t_n,e_n)_{n\in\ZZ}$ is a complete orbit of the map $\tilde{\Phi}$.
  \end{definition}

In the following section we will study the existence and properties of periodic complete bouncing motions as orbits of the map $\tilde{\Phi}$ defined in \eqref{eq:unbe}. 


\section{Periodic bouncing motions}\label{sec:per}
The existence of periodic complete bouncing motions follows from an application of Aubry-Mather theory. In this section we prove it and in the analytic case we give some results on the structure of such motions and their stability.

We start saying that a complete bouncing motion is $(q,p)$-periodic if in time $p$ the ball makes $q$ bouncing before repeating the motion, more precisely:
\begin{definition}
  Given two coprime integers $q,p\in\ZZ^+$, a complete bouncing motion $(t_n,e_n)_{n\in\ZZ}$ is $(q,p)$-periodic if the corresponding orbit of $\tilde{\Phi}$ is $(p,q)$-periodic. Moreover, we say that it is stable if the corresponding orbit is stable.
\end{definition}

The existence of two $(q,p)$-periodic complete bouncing motions comes from an application of Theorem \ref{birk_orbits}.

\begin{theorem}\label{pre_bouncing}
For every $f\in C^3$ there exists $\alpha>0$ such that for every positive coprime $p,q$ satisfying $p/q>\alpha$ there exist two different $(q,p)$-periodic complete bouncing motions. Moreover, if $f$ is real analytic, then at least one of the $(q,p)$-periodic complete bouncing motion is unstable.  
  \end{theorem}
\begin{proof}
  By Lemma \ref{lemma:exact}, the map $\Phi$ defined in \eqref{eq:unbe} is a $C^2$ exact symplectic twist embedding in $\AA_{e_*}$ for some large $e_*$ depending on $\norm{\df}$. Moreover $\Phi$ preserves and twists infinitely the upper end. Its extension $\bar{\Phi}$ coming from Lemma \ref{extension} satisfies the hypothesis of Theorem \ref{birk_orbits} and admits for every coprime $p,q$ two Birkhoff $(q,p)$-periodic orbit. Consider the Birkhoff $(q,p)$-periodic orbits for $p,q$ positive and $p/q$ large enough such that
  \begin{equation}\label{choice_pq}
  \frac{p}{q}-1-\frac{4}{g}\norm\df>\frac{2}{g}\sqrt{2e_*}.
  \end{equation}
  Since Birkhoff periodic orbits are cyclically ordered, from \cite[lemma 9.1]{gole} we have that they satisfy the estimate $t_{n+1}-t_n>p/q - 1$. On the other hand, from \eqref{eq:unbe},
  \[
  t_{n+1}-t_n\leq\frac{2}{g}\sqrt{2e_n}+\frac{4}{g}\norm\df 
  \]
  so that it must be
  \[
\frac{2}{g}\sqrt{2e_n}+\frac{4}{g}\norm\df>\frac{p}{q}-1.
  \]
By the choice of $p/q$ in \eqref{choice_pq} we have that $e_n>e_*$ for every $n\in\ZZ$ so that these Birkhoff periodic orbits are all contained in $\AA_{e_*}$ and so they are orbits of the original map $\Phi$. If $f$ is real analytic the result on the instability follows from Proposition \ref{unstable}.  
\end{proof}




Theorem \ref{pre_bouncing} gives the existence of $(p,q)$-periodic bouncing motions but does not give information on the topological structure of the set of $(p,q)$-periodic bouncing motions for fixed values of $(p,q)$. This is a complicated issue and some results comes from Aubry-Mather theory. However, here we will see which results can be obtained using Theorem \ref{maro_teo}. To state this result we give the following
\begin{definition}
 
  We say that the set of $(p,q)$-periodic complete bouncing motions is (analytically) degenerate if there exists a real analytic curve $(t(s),e(s))$ such that $(t(s+1),e(s+1))=(t(s)+1,e(s))$ for every $s\in\RR$, the function $t(s)$ is bijective for $s\in[0,1)$ and $(t_n,e_n)_{n\in\ZZ}$ is a $(p,q)$-periodic complete bouncing motion if and only if there exist $n_0,s_0$ such that $(t_{n_0},e_{n_0})=(t(s_0),e(s_0))$.          
  \end{definition}


The following result is a quite direct consequence of Lemma \ref{lemma:exact}.
\begin{proposition}
If $f$ is real analytic, then there exists $\alpha>0$ such that for every $p>\alpha$ the set of $(p,1)$-periodic complete bouncing motions is either finite or degenerate. In the first case at least one $(p,1)$-periodic complete bouncing motion is unstable. In the degenerate case, all $(p,1)$-periodic complete bouncing motion are unstable.        
  \end{proposition}
\begin{proof}
  By Lemma \ref{lemma:exact} the map $\tilde{\Phi}$ is exact symplectic and twist on $\RR^2_{e_*}$. Moreover, let us choose $a$ such that $e_*&lt;\sqrt{2a}$ and $p$ such that
  \[
\frac{gp}{2}-2\norm{\dot{f}}>\sqrt{2a}.
\]
Let us start with the following estimates for the lift $\tilde{\Phi}$ that can be easily proved by induction on $n$ from \eqref{eq:unbe}:
  \begin{equation}\label{stim_t_e}
  	|\sqrt{2e_n}-\sqrt{2e}|\leq 4n\norm{\dot{f}}, \qquad \left|t_n-t-\frac{2}{g}n\sqrt{2e}\right|\leq 4n^2\frac{\norm{\dot{f}}}{g}.  
  \end{equation}
  These give
  \[
\bar{t}(t,a)-t\leq \frac{2}{g}\sqrt{2a}+4\frac{\norm{\dot{f}}}{g}&lt;p.
\]
On the other hand, Lemma \ref{lemma:exact} also gives that $\tilde{\Phi}$ twists the upper end infinitely, i.e. $\lim_{e\rightarrow +\infty}\bar{t}(t,e)-t=+\infty$ uniformly in $t$. Hence, condition \eqref{maro_cond} is satisfied in the strip $\Sigma=[a,+\infty)$ for every $p$. The conclusion comes from the application of Theorem \ref{maro_teo} and the fact that $(p,1)$-periodic complete bouncing motions corresponds to the fixed points of the map $\sigma^{-p}\circ\tilde{\Phi}$.
  \end{proof}

This result is not trivially extended to $(p,q)$-periodic motions for $q\geq 1$ since $\Phi^q$ need to be exact symplectic and twist. The twist condition is in general not preserved by composition, while the exactness is, as shown in the following result, inspired by \cite{bosc_ort}
\begin{lemma}\label{lemma_isot_exact}
For every $q>0$ there exists $e_\#\geq e_*$ such that for every $p>0$ the map $\sigma^{-p}\circ\tilde{\Phi}^q:\RR^2_{e_\#}\rightarrow\RR^2$ is exact symplectic
  \end{lemma}
\begin{proof}
  Since the map $\tilde{\Phi}$ is defined in $\RR^2_{e_*}$, the image $\tilde{\Phi}(\RR^2_{e_*})$ could not be contained in $\RR^2_{e_*}$ so that the iterate could not be defined. From \eqref{eq:unb} we have that $|\bar{v}-v|\leq 4\norm{\dot{f}}$ from which, the map $\tilde{\Psi}^q$ is well defined in $\RR^2_{v_\#}$ with $v_\#=v_* + 4 q \norm{\dot{f}}$. Hence passing to the variables $(t,e)$, the map $\tilde{\Phi}^q$ is defined in $\RR^2_{e_\#}$ with $e_\#=\frac{1}{2}v_\#^2$.
 
  Since $\Phi$ is exact symplectic, there exists $V:\RR^2_{e_\#}\rightarrow\RR$ such that, defining $\lambda=e dt$ we have $\tilde{\Phi}^*\lambda-\lambda=dV$. Hence, denoting $V_1=V+V\circ\tilde{\Phi}+\dots+V\circ\tilde{\Phi}^{q-1}$ it holds that $V_1\circ\sigma=V_1$ on $\RR^2_{e_\#}$  and
  \begin{align*}
    dV_1 &amp;= dV+\tilde{\Phi}^*dV+\dots+(\tilde{\Phi}^{q-1})^*dV \\
    &amp; = \tilde{\Phi}^*\lambda-\lambda + (\tilde{\Phi}^2)^*\lambda-\tilde{\Phi}^*\lambda             +\dots+(\tilde{\Phi}^q)^*\lambda-(\tilde{\Phi}^{q-1})^*\lambda \\
    &amp;= (\tilde{\Phi}^q)^*\lambda-\lambda
    \end{align*}
  from which $\tilde{\Phi}$ is exact symplectic. Finally, we conclude noting that by the definition of $\sigma^{-p}$,  $(\sigma^{-p}\circ\tilde{\Phi}^q)^*\lambda = (\tilde{\Phi}^q)^*\lambda$.  
\end{proof}

Concerning the twist condition the following technical result holds.
\begin{lemma}\label{twist_q}
  Let $f$ be $C^2$. For every $q\geq 1$ there exist $\epsilon_q>0$, $e^q>e_\#$, such that if $\norm{\ddf}&lt;\epsilon_q$ then
  \[
\frac{\partial t_q}{\partial e}=\frac{2q}{g\sqrt{2e}}(1+\tilde{f}_q(t,e))
  \]
where $|\tilde{f}_q(t,e)|&lt; 1/2$ on $\RR^2_{e^q}$.
  \end{lemma}

\begin{proof}
  To simplify the computation, let us perform the change of variables $y=\sqrt{2e}+\df(t)$ so that \eqref{eq:unbe} becomes
\begin{equation}\label{eq:unby}
  \left\{
  \begin{split}
\Pto =  &amp; \to + \frac 2g y-\frac 2g f[\to,\Pto]
\\
\bar{y} =  &amp; y  - 2f[\to,\Pto] + 2\df (\Pto).
\end{split}
\right.
\end{equation}
Since $\partial t_q/\partial e=(\partial t_q/\partial y) (\partial y/\partial e)$ it is enough to prove that for every $q\geq 1$ there exist $\epsilon_q>0$ and $y^q$ large, such that if $\norm{\ddf}&lt;\epsilon_q$ then 
  \begin{equation}\label{new_th}
\frac{\partial t_q}{\partial y}=\frac{2q}{g}(1+\tilde{f}_q(t,y))
\end{equation}
where $|\tilde{f}_q(t,y)|&lt; 1/2$ on $\RR^2_{y^q}$.

Let us start with some estimates that hold for every $q\geq 1$. It comes from \eqref{eq:unby} that 
\begin{equation}\label{y_q}
y_q=y+2\sum_{i=1}^{q}\df(t_i)+2\sum_{i=1}^{q}f[t_{i-1},t_{i}]
\end{equation}
so that
\[
|y_q-y|\leq 4q\norm\df.
\]
Using it,
\begin{equation}\label{t_q}
|t_q-t_{q-1}|\geq \frac{2}{g}y-\frac{2}{g}(4q+1)\norm\df,
\end{equation}
from which there exists $y^q$ large enough and $C_q$ such that 
\begin{equation}\label{fqq-11}
\left|\partial_{t_q}f[t_{q-1},t_q]\right|=\left|\frac{\dot{f}(t_q)-f[t_{q-1},t_q]}{t_q-t_{q-1}}\right|\leq
\frac{g\norm{\dot{f}}}{y-(4q+2)\norm{\dot{f}}}&lt;\frac{C_q}{y} \qquad \mbox{on } \RR^2_{y^q}
\end{equation}
and analogously
\begin{equation}\label{fqq-12}
\left|\partial_{t_{q-1}}f[t_{q-1},t_q]\right|&lt;\frac{C_{q-1}}{y} \qquad \mbox{on } \RR^2_{y^{q-1}}
\end{equation}
  Now we can start the proof by induction on $q\geq 1$. For $q=1$ we have, differentiating the first equation in \eqref{eq:unby}
  \begin{equation}\label{t_1_y}
\frac{\partial t_1}{\partial y}\left(1+\frac{2}{g}\partial_{t_{1}}f[t,t_1]\right)=\frac{2}{g}y
\end{equation}
  from which, using \eqref{fqq-11} we get the initial step taking a suitably larger value of $y^1$.\\
For the inductive step, let us suppose \eqref{new_th} to be true for $i=1,\dots,q-1$. By implicit differentiation

\begin{equation}\label{t_q_e}
\frac{\partial t_q}{\partial y}\left(1+\frac{2}{g}\partial_{t_{q}}f[t_{q-1},t_q]\right)=\frac{2}{g}\frac{\partial y_{q-1}}{\partial y}+\frac{\partial t_{q-1}}{\partial y}\left(1-\frac{2}{g}\partial_{t_{q-1}}f[t_{q-1},t_q]\right)
\end{equation}
From \eqref{y_q} and the inductive hypothesis we have
\begin{align*}
  \frac{\partial y_{q-1}}{\partial y}&amp;=1+2\sum_{i=1}^{q-1}\left(\ddf(t_i) \frac{\partial t_i}{\partial y}-\partial_{t_{i}}f[t_{i-1},t_{i}]\frac{\partial t_i}{\partial y} -\partial_{t_{i-1}}f[t_{i-1},t_{i}]\frac{\partial t_{i-1}}{\partial y}\right)\\
   &amp;=1+2\sum_{i=1}^{q-1}\left(\ddf(t_i) (1+\tilde{f}_i)-\partial_{t_{i}}f[t_{i-1},t_{i}](1+\tilde{f}_i) -\partial_{t_{i-1}}f[t_{i-1},t_{i}](1+\tilde{f}_{i-1})\right).
  \end{align*}
Since by (\ref{fqq-11}-\ref{fqq-12}) for every $i$ $|\partial_{t_{i}}f[t_{i-1},t_{i}]|$ tends to zero uniformly as $y \rightarrow +\infty$ and $|\tilde{f}_i|&lt;1/2$ for $y$ large, we can find new constants $C_{q-1}$ and $y^{q-1}$ such that on $\RR^2_{y^{q-1}}$,
\begin{equation}\label{stim_y}
\frac{\partial y_{q-1}}{\partial y} = 1 + \bar{f}_{q-1}(t,y)  \qquad \mbox{with } |\bar{f}_{q-1}|\leq C_{q-1}\norm\ddf.
\end{equation}
Using it and the inductive hypothesis in \eqref{t_q_e} we get
\begin{align}\label{final}
  \frac{\partial t_q}{\partial y}\left(1+\frac{2}{g}\partial_{t_{q}}f[t_{q-1},t_q]\right)&amp;=\frac{2}{g}(1 + \bar{f}_{q-1}(t,y))+\frac{2(q-1)}{g}(1+\tilde{f}_{q-1}(t,y))\left(1-\frac{2}{g}\partial_{t_{q-1}}f[t_{q-1},t_q]\right)\\
  &amp;=\frac{2q}{g}\left(1+ \tilde{f}_q(t,y)\right)
\end{align}
where,
\[
\tilde{f}_q(t,y)=\frac{1}{q}\bar{f}_{q-1}(t,y)+\frac{q-1}{q}\tilde{f}_{q-1}(t,y)+\frac{2(q-1)}{gq}\partial_{t_{q-1}}f[t_{q-1},t_q](1+\tilde{f}_{q-1}(t,y)).
\]
Now (\ref{fqq-11}-\ref{fqq-12}) and \eqref{stim_y} imply 
\[
|\tilde{f}_q|&lt;\frac{C_{q-1}}{q}\norm\ddf+\frac{q-1}{2q}+\frac{C'_{q-1}}{y}
\]
so that we can find $\epsilon_q$ and $y_q$ such that if $\norm\ddf&lt;\epsilon_q$ then $|\tilde{f}_q|&lt;\frac{1}{2}-\frac{1}{2q}$ on $\RR^2_{y^{q}}$. Plugging it into \eqref{final} and using again (\ref{fqq-11}-\ref{fqq-12}) we get the thesis, eventually increasing $y^q$.  


\end{proof}

This is used to prove the following result
\begin{proposition}
Suppose that $f$ is real analytic. For every $q>0$ there exist $\alpha>0$ and $\epsilon_q>0$ such that if $p>\alpha$ and $\norm{\ddf}&lt;\epsilon_q$ then the set of $(p,q)$-periodic complete bouncing motion is either finite or degenerate. In the first case at least one $(p,q)$-periodic complete bouncing motion is unstable. In the degenerate case, all $(p,q)$-periodic complete bouncing motion are unstable.  
\end{proposition}


\begin{proof}
  We would like to apply Theorem \ref{maro_teo} to the map $\tilde{\Phi}^q$, noting that $(p,q)$-periodic bouncing motions correspond to fixed points of the map $\sigma^{-p}\circ\tilde{\Phi}^q$. Let us fix $q>0$. In Lemma \ref{lemma_isot_exact} we proved that $\tilde{\Phi}^q$ is exact symplectic in $\RR^2_{e_\#}$ for some $e_\#$ depending on $q$. Moreover, by Lemma \ref{twist_q}, there exist $\epsilon_q$ and $e^q>e_\#$ such that if $\norm{\ddf}&lt;\epsilon_q$ then $\tilde{\Phi}^q$ is also twist on $\RR^2_{e^q}$. Now choose $p>0$ such that
  \[
  \frac{gp}{2q}-2q\norm{\dot{f}}>e^q.
  \]  
   Hence, there exist $b>a$ such that
  \[
  e^q&lt;\sqrt{2a}&lt;\frac{gp}{2q}-2q\norm{\dot{f}}&lt;\frac{gp}{2q}+2q\norm{\dot{f}}&lt;\sqrt{2b}.
  \] 
  This choice for $a,b$ gives condition \eqref{maro_cond} on the strip $\Sigma=\RR\times (a,b)$. Actually, from \eqref{stim_t_e},
  \begin{align*}
  t_q(t,b)-t &amp; \geq\frac{2}{g}q\sqrt{2b}-4q^2\frac{\norm{\dot{f}}}{g}>p \\
  t_q(t,a)-t &amp; \leq\frac{2}{g}q\sqrt{2a}+4q^2\frac{\norm{\dot{f}}}{g}&lt;p.
  \end{align*}
  This concludes the proof.
  \end{proof} 



</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="1"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">\subsection{Deligne's category  $\mathop{\underline{\smash{\mathrm{Rep}}}}(GL_t)$}
From the perspective of the
Killing-Cartan-Weyl classification of simple Lie algebras
and their representation theory in terms of highest weights, root systems, Weyl groups and associated combinatorics
it is not so easy to 
understand the extreme uniformity in the representation theory 
that exists among different Lie groups. With possible application 
to a universal Chern-Simons type knot invariant in mind, P. Vogel \cite{Vog1999}
tried to define a universal Lie algebra, $\mathfrak{g}(\alpha:\beta:\gamma)$ 
depending on three  {\em Vogel parameters} that determine a point 
$(\alpha:\beta:\gamma)$ in the {\em Vogel plane}, in which all simple 
Lie algebras find their place. The dimension of the Lie algebra 
$\mathfrak{g}(\alpha:\beta:\gamma)$ is given by a universal rational expression
\begin{equation*}
\dim \mathfrak{g}(\alpha:\beta:\gamma)\, = \, \frac{(\alpha-2t)(\beta-2t)(\gamma-2t)}{\alpha\beta\gamma},\qquad
t=\alpha+\beta+\gamma ,
\end{equation*} and similar universal rational formulas can be
given for the dimensions of irreducible constituents of $S^2\mathfrak{g}, S^3\mathfrak{g}$ and 
$S^4\mathfrak{g}$. Although the current status of Vogel's suggestions is unclear to us, 
these ideas have led to many interesting developments, such as the discovery of 
$E_{7\frac{1}{2}}$ by Landsberg and Manivel, 
\cite{LM2002}, \cite{LM2004}, \cite{LM2006}, \cite{LM2006a},    \cite{LM2006a}.

In order to interpolate within the classical $A,B,C,D$ series of Lie algebras, 
Deligne has defined $\otimes$-categories
\[ \mathop{\underline{\smash{\mathrm{Rep}}}}(GL_t),\;\; \mathop{\underline{\smash{\mathrm{Rep}}}}(O_t), \]
where $t$ is a parameter that can take on any complex value. 
(The category $\mathop{\underline{\smash{\mathrm{Rep}}}}(Sp_{2t})$ 
 is usually not discussed as it can be 
expressed easily in terms of the category $\mathop{\underline{\smash{\mathrm{Rep}}}}(O_T)$ with $T=-2t$.)
If $n$ is an
integer, there are natural surjective functors
\[\mathop{\underline{\smash{\mathrm{Rep}}}}(GL_n) \to \mathop{\mathrm{Rep}}(GL_n)\]
In the tannakian setup one would attempt to reconstruct a group $G$ from its
$\otimes$-category of representations $\mathop{\mathrm{Rep}}(G)$ using a fibre functor to
the $\otimes$-category $Vect$ of vector spaces, but Deligne's category has no fibre functor and is not tannakian, or, in general, even abelian. (However, when $t$ is not an integer, the category \emph{is}
abelian semisimple.)  

According to the axioms, in an arbitrary rigid $\otimes$-category $\mathcal{R}$ there exist a unit object~${\bf 1}$ and 
canonical evaluation and coevaluation morphisms
\[ \epsilon: V \otimes V^* \to {\bf 1},\qquad \delta: {\bf 1} \to V \otimes V^*\] 
so that we can assign to any object a dimension by setting
\[ \dim V =\epsilon \circ \delta  \in \mathop{\mathrm{End}}({\bf 1}) \in \mathbb{C}. \]

A simple diagrammatic description of $\mathop{\underline{\smash{\mathrm{Rep}}}}(GL_t)$ can be found in
\cite{CW2012}. One first constructs a skeletal category ${\mathop{\underline{\smash{\mathrm{Rep}}}}\,}_0(GL_t)$, 
whose objects are words in the alphabet $\{\bullet, \circ\}$. The letter
$\bullet$ corresponds to the fundamental representation $V$ of $GL_t$, 
$\circ$ to its dual $V^*$. A~$\otimes$-structure is induced by concatenation 
of words. The space of morphisms between two such words is the $\mathbb{C}$-span of 
a set of admissible graphs, with vertices the circles and dots of the two 
words.  Such an admissible graph consists of edges between the letters of 
the two words. Each letter is contained in one edge. Such an edge connects 
different letters of the same word or the same letter if the words are 
different.
$$\vcenter{ \xymatrix{
\bullet \ar@/_2ex/@{-}[rr] &amp; \bullet \ar@{-}[ld] &amp; \circ &amp; \circ \ar@{-}[d] \\
\bullet \ar@{-}[rrd] &amp; \circ  \ar@/^/@{-}[r] \ar@/_/@{-}[r]&amp; \bullet &amp; \circ \ar@{-}[lld] \\
		&amp; \circ &amp; \bullet &amp; \\  
} } 
= t \cdot
\left( \vcenter{ \xymatrix{\bullet \ar@/_2ex/@{-}[rr] &amp; \bullet \ar@{-}[ddr] &amp; \circ &amp; \circ \ar@{-}[ddll] \\
 &amp;  &amp;  \\
		&amp; \circ &amp; \bullet &amp; \\  
}} \right) $$
The composition is juxtaposition of the two graphs, followed by
the elimination of loops, which results in a factor $t$.\\

Deligne's
category is now obtained by first forming its additive hull by introducing
formally direct sums  and then passing to the 
Karoubian hull, i.e. forming a category of pairs $(W,e)$, consisting of 
an object together with an idempotent:
\[\mathop{\underline{\smash{\mathrm{Rep}}}} (GL_t) =({\mathop{\underline{\smash{\mathrm{Rep}}}}\,}_0(GL_t)^{\text{add}})^\text{Karoubi}. \]

\bf Example. \rm  Consider the word $\bullet \bullet$ and 
the morphisms $\mathrm{Id}$ and $\mathrm{Swap}$ with the obvious meaning. 
One then can put
\[ S^2V=(\bullet \bullet, s), \;\;\wedge^2 V=(\bullet\bullet, a),\]
where
\[ s=\frac{1}{2}(\mathrm{Id}+\mathrm{Swap}),\;\;a=\frac{1}{2}(\mathrm{Id}-\mathrm{Swap})\]
so that in $\mathop{\underline{\smash{\mathrm{Rep}}}}(Gl_t)$ one has:
\[ V \otimes V=(\bullet \bullet ,Id)=S^2V \oplus \wedge^2V,\]
which upon taking dimensions is the identity
\[  t^2 = \frac{t(t+1)}{2}+\frac{t(t-1)}{2} .\]

\subsection{`Spaces of sections' as objects in Deligne's category and the beta integral.}
As above, we assume that $n$ is a natural number. Write $t=N+1$ and let $V_t=V$ be the fundamental object of $\mathop{\underline{\smash{\mathrm{Rep}}}}(GL_t)$ so that
$\dim V_t=t$. We do not define the projective space $\P =\P^N$, 
but we can pretend that, in the sense of Deligne, the space of global sections is
\[ H(\mathcal{O}_{\P}(n)) :=\mathop{\mathrm{Sym}^n}(V_t^*) \in \mathop{\underline{\smash{\mathrm{Rep}}}}(GL_t) .\]
Its dimension is then, as expected
\begin{equation}
\chi(\mathcal{O}_{\P}(n)) :=\dim H (\mathcal{O}_{\P}(n))={N+n \choose n} \label{chi-interpret},
\end{equation}
(interpreted in the obvious way as a polynomial
in $N$ if $N\not\in\mathbb{Z}$),
so that e.g.
\[\chi(\mathcal{O}_{\P^{1/2}}(2))=\frac{3}{8}.\]
The Poincar\'e series 
\[P(y):=\sum_{n=0}^{\infty} \chi(\mathcal{O}_{\P}(n)) y^n =\frac{1}{(1-y)^{N+1}},\]
which is consistent with the idea that $\dim V_t = N+1$.

\medskip
Returning to the question posed at the beginning, 
`is there a way to extend the interpolation of $\chi$
individually to the Chern and the Todd ingredients?', we reason as
follows. If $X$ is a smooth projective $n$-dimensional variety, and $E$ a vector 
bundle on $X$, then the Euler characteristic
\[\chi(X,E):=\sum_{i=0}^n (-1)^i\dim H^i(X,E)\]
can be expressed in terms of characteristic numbers
\[\chi(X,E)=\int_X \mathop{\mathrm{ch}}(E) \cdot \mathop{\mathrm{td}}(X) . \] 
Here the integral in the right hand side is usually
 interpreted 
as resulting from evaluating the cap product with the fundamental class $[X]$
on the cohomology algebra $H^*(X)$, and the Chern character and Todd class
are defined in terms of the Chern roots $x_i$ of $E$ and $y_i$ of $TX$:
\[\mathop{\mathrm{ch}}(E)=\sum_{i=1}^r e^{x_i}\,, \qquad \mathop{\mathrm{td}}(X)=\prod_{i=1}^n \frac{y_i}{1-e^{-y_i}} .\]
The cohomology ring of an $n$-dimensional projective space is
a truncated polynomial ring:
\[H^*(\P^N)=\mathbb{Z}[\xi]/(\xi^{N+1})\,, \qquad\xi=c_1(\mathcal{O}(1)),\]
and it is not directly clear how to make sense of this if $N$ is not an 
integer. Our tactic will be  to drop the relation 
\[\xi^{N+1}=0\] 
altogether, thinking instead of $\mathbb{Z}[\xi]$  as a Verma module over the  $sl_2$
of the Lefschetz theory, and replacing taking the  cap product 
with integration. 
As we will be integrating meromorphic functions in $\xi$,
the polynomial ring is too small, and we put  
\[ \hat{H}(\P) :=\mathbb{Z}[[s]] \supset \mathbb{Z}[s] .\] 
One has
\[ \chi(\mathcal{O}(n))=e^{n\xi}\,, \qquad \mathop{\mathrm{td}}(\P)=\left(\frac{\xi}{1-e^{-\xi}}\right)^{N+1}, \]
so Hirzebruch-Riemann-Roch reads
\[\chi(\mathcal{O}(n))=\left[e^{n\xi} \left(\frac{\xi}{1-e^{-\xi}}\right)^{N+1}\right]_N\]
where $[...]_N$ is the coefficient at $\xi^N$ in a series. 
This can be expressed analytically as a residue integral
along a small circle around the origin:
\begin{equation*}
\chi(\mathcal{O}(n))=\frac{1}{2\pi i}\oint e^{n \xi}\left(\frac{\xi}{1-e^{-\xi}}\right)^{N+1}\frac{d\xi}{\xi^{N+1}} .
\end{equation*}
As it stands, it cannot be extended to non-integer
$N$ since the factor $(1- e^{-\xi})^{-N-1}$ is not univalued on the circle.  The usual way to adapt it is to  consider, for $n \ge 0$, the integral along the   path 
going from $- \infty - i \varepsilon$ to $ - i \varepsilon$, making a half--turn round the origin and going back, and choosing the standard branch of the logarithm.   Because of the change in the argument this integral is equal to  
\begin{equation*}
J(N,n) = 
\frac{e^{2 \pi i (N+1)}-1}{2 \pi i} 
\int_{-\infty}^0 \frac{e^{n \xi}}{(1-e^{-\xi})^{N+1}} 
d \xi , 
\end{equation*}
or, after the substitution $s=e^{\xi}$,
\begin{equation*}
J(N,n) = 
\frac{e^{2 \pi i (N+1)}-1}{2 \pi i} 
\int_0^1 s^{n-1} (1-1/s)^{-N-1} ds
=
\frac{\sin \pi (N+1)}{ \pi } 
\int_0^1 s^{n+N} (1-s)^{-N-1} ds .
\end{equation*}
Using Euler's formulas
\begin{equation}
\Gamma(x)\Gamma(1-x) =\frac{\pi}{\sin \pi x} \,,
\label{gamma-one-minus-argument}
\end{equation}
\begin{equation}
\int_0^1 s^{\alpha-1}(1-s)^{\beta-1} ds = \frac{\Gamma(\alpha)\Gamma(\beta)}{\Gamma(\alpha+\beta)} \,, 
\label{beta-integral}
\end{equation}
and
\begin{equation*}
\frac{\Gamma(N+n+1)}{\Gamma(n+1) \Gamma(N+1)}
=
{N+n \choose n} \,,
\end{equation*}
we arrive at a version of RRH `with integrals':

\medskip

\noindent \bf Proposition 1. \rm Let $n \in \mathbb{N}$. Assume $\mathop{\mathrm{Re}} N  &lt; 0, \, N \notin \mathbb{Z}$. Interpret the Euler characteristic of~$\P ^N$ via formula \eqref{chi-interpret}. Then  
\begin{equation*} \label{little-propo}
\chi_\P(\O (n)) = \frac{e^{2 \pi i (N+1)}-1}{2 \pi i} 
\int_{-\infty}^0 \frac{e^{n \xi}}{(1-e^{-\xi})^{N+1}} 
d \xi .
\end{equation*}
\qed

\bigskip




\medskip

\subsection{The grassmannian and the Selberg integral.} For $\P^N$, we ended up with the beta function, a one-dimensional integral, as the cohomology ring 
is generated by a single class~$\xi$. In the cases  where the cohomology ring is generated
by $k$ elements, for example the grassmannian $G(k,N+k)$,
we would like to see a $k$-dimensional integral appear in a natural way.
For $N \in \mathbb{N}$ the cohomology ring of the grassmannian $\mathbb{G}:=G(k,N+k)$ 
is given by
\[H^*(G(k,N+k))=\mathbb{C}[s_1,s_2,\ldots,s_k]/(q_{N+1},q_{N+2}, \dots,     q_{N+k}),\]
where the $s_i$ are the Chern classes of the universal rank $k$ sub-bundle
and $q_i=c_i(Q)$ are formally the Chern classes of the universal quotient bundle $Q$ (so that the generating series of $q$'s is inverse to that of $s$'s). 
In the same vein as before, we set:
\begin{equation}
\hat{H}^*(\mathbb{G}):=\mathbb{C}[[s_1,s_2,\ldots,s_k]]=\mathbb{C}[[x_1,x_2,\ldots,x_k]]^{S_k} \label{drop-rel}
\end{equation}
by dropping the relations. A $\mathbb{C}$-basis of this ring
given by the Schur polynomials
\[\sigma_{\lambda} :=\frac{\det(x_i^{\lambda_j+k-j})}{\det(x_i^{k-j})}\]		
where $\lambda=(\lambda_1,\lambda_2,\ldots,\lambda_k)$ 
is an arbitrary Young diagram with at most $k$ rows.
There is a Satake--type map for the extended cohomology: 
\[ \mathrm{Sat}: \hat{H}(\mathbb{G}) \to \wedge^k \hat{H}(\P) \]
obtained from the Young diagram by `wedging its rows':
\[\sigma_{\lambda} \mapsto  s^{\lambda_1+k-1} \wedge s^{\lambda_2+k-2}\wedge \ldots \wedge s^{\lambda_k-1}. \] 
We are therefore seeking an expression for the values of the Hilbert polynomial of $G(k,N)$ in terms of a $k$--dimensional integral of the beta type involving $k$--wedging. 


Euler's beta integral
\eqref{beta-integral}
has several generalizations.  Selberg introduced \cite{Selberg1944}
an integral \cite{FW2008} over the $k$-dimensional cube
\begin{equation*}
S(\alpha, \beta,\gamma, k):=\int_0^1\ldots\int_0^1 (s_1 s_2\ldots s_k)^{\alpha-1}((1-s_1)(1-s_2)\ldots(1-s_k))^{\beta-1}\Delta(s)^{2\gamma} ds_1ds_2\ldots ds_k 
\end{equation*} 
where
\[ \Delta(s)=\Delta(s_1,s_2,\ldots,s_k)=\prod_{i &lt;j} (s_i-s_j) ,\]
and showed that it admits meromorphic continuation, which
we will also denote by $S$. 

\medskip
\noindent {\bf Proposition 2.}  For $k \in \mathbb{N},\,  n \in \mathbb{Z}_+$, let $\chi(\mathcal{O}_{\mathbb{G}}(n))$
denote the result of interpolating  the polynomial function $\chi(\mathcal{O}_{G (k,k+N)}(n))$  of the argument 
$N \in \mathbb{N}$ to $\mathbb{C}$.  
  One has
\begin{equation*}
\chi(\mathcal{O}_{\mathbb{G}}(n))= \frac{(-1)^{k(k-1)/2}}{k!}\left( \frac{\sin \pi(N+1)}{\pi}\right)^k S(n+N+1,-N-k+1;1,k) .
\end{equation*} \rm
{\sc Proof.} The shortest (but not the most transparent) way to see this is to use the expressions for the LHS and the RHS in terms of the product of gamma factors found by Littlewood and Selberg respectively. By Selberg, 
\begin{equation}
 S(\alpha,\beta,\gamma,k)=\prod_{i=0}^{k-1} \frac{\Gamma(\alpha+i\gamma)\Gamma(\beta+i\gamma)\Gamma(1+(i+1)\gamma)}
{\Gamma(\alpha+\beta+(k+i-1)\gamma) \Gamma(1+\gamma)} \label{Selberg-formula}.
\end{equation}
By Littlewood \cite{Lit1942}, for $N \in \mathbb{Z}_{>0}$ one has
\begin{equation*}
 \chi(\mathcal{O}_{G(k,k+N)}(n)) =\frac{{N+n \choose n} {N+n+1 \choose n+1} \ldots {N+n+(k-1) \choose n+(k-1)}}{
{N \choose 0} {N+1 \choose 1} \ldots {N+(k-1) \choose (k-1)}}, 
\end{equation*}
where there are $k$ factors at the top and the bottom. 
Rearranging the terms in the RHS of \eqref{Selberg-formula} and using 
\eqref{gamma-one-minus-argument},
we bring the $\Gamma$-factors that involve $\beta$ to the denominator in order to form the binomial coefficients at the expense of the sine factor.
 \qed

\bigskip
As an example, for $k=2$ and 
$N=-1/2$, we get
the Hilbert series 
\[ \sum_{k=0}^\infty \chi(\mathcal{O}_{G(2,3/2)}(n)) \, y^n = 1+6\, \frac{t}{16} +60\left(\frac{t}{16}\right)^2 + 700 \left(\frac{t}{16}
\right)^3+8820 \left(\frac{t}{16}
\right)^4  +\ldots
\]
which is no longer algebraic, but can be expressed in terms of elliptic functions.

More generally, one can consider a Selberg--type integral 
with an arbitrary symmetric function rather than the discriminant in the numerator and use separation of variables together with the Jacobi--Trudi formula in order to obtain similar expressions in terms of the gamma function in order to interpolate between the Euler characteristics of more general vector bundle on grassmannians (or the dimensions of highest weight
representations of $GL_{N+k}$). 




\subsection{Towards a gamma conjecture in 
non--integral dimensions.} \label{gamma-phenomena} The by now standard 
predictions of mirror symmetry relate the RRH formalism 
on a Fano variety $F$ to the monodromy of its regularized 
quantum differential equation. It is expected that this
differential equation arises from the Gauss--Manin
connection  
in the middle cohomology of level hypersurfaces of a 
regular function $f$ defined on some quasiprojective 
variety (typically a Laurent 
polynomial on $\mathbb{G}_\mathrm{m}^{\, d}$), 
called in this case a Landau--Ginzburg model of 
$F$. By stationary phase, 
the monodromy of the Gauss--Manin connection in a pencil 
translates
into the asymptotic behavior of oscillatory 
integrals of the generic form
$I (z) = \int \exp (izf)\, d\mu (\mathbb{G}_\mathrm{m}^{\, d})$,
which satisfy the quantum differential equation of $F$, 
this time without the word `regularized'. 
The asymptotics 
are given by Laplace integrals computed at the critical points,
and the critical values of $f$ are the exponents occurring
in the oscillatory integrals $I_i(z)$ that have `pure' 
asymptotic behavior in sectors. 
One wants to express these pure asymptotics in terms of the Frobenius 
basis of solutions $\{ \Psi_i (z) \}$ around $z = 0$.
The gamma conjecture \cite{GGI2016} 
predicts that such an expression 
for the highest--growth asymptotic (arising from the critical
value next to infinity) will give the `gamma--half' of the Todd 
genus and therefore effectively encode the Hilbert
polynomial of $F$ with respect to the anticanonical bundle. 
At first sight, none of this seems capable of surviving in non--integer dimensions.
Yet, to return to the example of $G(2,N+2)$, define the numbers $c_j$ and $d_j$ by the expansions 
\begin{equation*}
\Gamma_\P^{(0)} (\varepsilon) = \Gamma (1+\varepsilon)^{N+2} = \sum_{j=0}^\infty d_j \varepsilon^j ,
\end{equation*}
\begin{equation*}
\Gamma_\P^{(1)} (\varepsilon) = \Gamma (1+\varepsilon)^{N+2} e^{2 \pi i \varepsilon} = \sum_{j=0}^\infty c_j \varepsilon^j.
\end{equation*}
Put
\begin{equation*}
F(\varepsilon,z) = \sum_{k=0}^{\infty} \frac{z^{l+\varepsilon}}{\Gamma(1+l+\varepsilon)^{N+2}}
\end{equation*}
and
\begin{equation*}
\Psi (\varepsilon,z) = \Gamma_\P (\varepsilon) F (\varepsilon, z) = \sum_{k=0}^\infty \Psi_k (z) \varepsilon^k.
\end{equation*}

\medskip
\noindent \bf Claim \rm (rudimentary gamma conjecture). For fixed $N > 2$ and $i, \, j$  in a box of at least some moderate size,  
one should have
\begin{equation*}
\label{claim-grass}
\lim_{z \to - \infty} \frac{\Psi_i (z) \Psi'_j (z) - \Psi_j (z) \Psi'_i (z)}{\Psi_1 (z) \Psi'_0 (z) - \Psi_0 (z) \Psi'_1 (z)}
= \frac{c_i d_j - c_j d_i}{c_1 d_0 - c_0 d_1} .
\end{equation*}


\bigskip
\bigskip


\noindent The LHS and RHS mimic, in the setup of formula \eqref{drop-rel}, the $\sigma_{[j-1,i]}$-coefficients in the expansion of the `principal asymptotic class' and the gamma class of the usual grassmannian: in the case when $N \in \mathbb{N}$ and $0 \le  i,j  \le N$ one would use the identification of $2$--Wronskians of a fundamental matrix of solutions to a higher Bessel equation with homology classes of $G(2,N+2)$.  Preliminary considerations together with numerical evidence suggest that the claim has a good chance to be true, as well as its versions for $G(k,N+k)$ with $k > 2$.

\bigskip




\bigskip
\bigskip

The first--named author is grateful to Yuri Manin and Vasily Pestun for stimulating discussions. We thank Hartmut Monien for pointing us to \cite{FW2008}. 


\bigskip

\nocite{MV2017}
\nocite{GM2014}
\nocite{Bra2013}
\nocite{BS2013}
\nocite{Etingof1999}
\nocite{Etingof2014}
\nocite{Etingof2016}
\nocite{EGNO2015}
\nocite{FW2008}
\nocite{Man2006}
\nocite{Opd1999}
\nocite{Man1985}
\nocite{Lit1942}
\nocite{Lit1943}
\nocite{BD2016}
\nocite{LM2002}
\nocite{LM2004}
\nocite{LM2006}
\nocite{LM2006a}



\nocite{GW2011}
\nocite{Del2002}
\nocite{}
\nocite{}
\nocite{}
\nocite{}
\nocite{}
\nocite{}















</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="2"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">\section{Introduction}
\label{sec:intro}
Mobile ad-hoc networking has presented many challenges to the research community,
especially in designing suitable, efficient, and well performing protocols.
The practical analysis and validation of such protocols often depends on
synthetic data, generated by some mobility model. The model has the goal of
simulating real life scenarios~\cite{camp02wcmc} that can be used to tune
networking protocols and to evaluate their performance. A lot of work has been
done in designing realistic mobility models. Till a few years ago, the model of
choice in academic research was the random way point mobility model
(RWP)~\cite{rwp}, simple and very efficient to use in simulations.

Recently, with the aim of understanding human mobility~\cite{toronto, hui05,
hui06, milan07, UCAM-CL-TR-617}, many researchers have performed
real-life experiments by distributing wireless devices to people. From the data
gathered during the experiments, they have observed the typical distribution of
metrics such as inter-contact time (time interval between two successive
contacts of the same people) and contact duration. Inter-contact time, which
corresponds to how often people see each other, characterizes the opportunities
of packet forwarding between nodes. Contact duration, which limits the duration
of each meeting between people in mobile networks, limits the amount of data
that can be transferred.
In~\cite{hui05, hui06}, the authors show that the distribution of
inter-contact time is a power-law. Later, in~\cite{milan07}, it has been
observed that the distribution of inter-contact time is best described as a
power law in a first interval on the time scale (12 hours, in the experiments
under analysis), then truncated by an exponential cut-off. Conversely,
\cite{cai07mobicom} proves that RWP yields exponential inter-contact time
distribution. Therefore, it has been established clearly that models like RWP
are not good to simulate human mobility, raising the need of new, more realistic
mobility models for mobile ad-hoc networking.

In this paper we present small world in motion (SWIM), a simple mobility model that generates small worlds. The model is very simple to implement and very efficient in simulations. The mobility pattern of the nodes is based on a simple intuition on human mobility: People go more often to places not very far from their home and where they can meet a lot of other people. By implementing this simple rule, SWIM is able to raise social behavior among nodes, which we believe to be the base of human mobility in real life.
We validate our model using real traces and compare the distribution of inter-contact time, contact duration and number of contact distributions between nodes, showing that synthetic data that we generate match very well real data traces.
Furthermore, we show that SWIM can predict well the performance of forwarding protocols. We compare the performance of two forwarding protocols---epidemic forwarding~\cite{vahdat00epidemic} and (a simplified version of) delegation forwarding~\cite{dfw08}---on both real traces and synthetic traces generated with SWIM. The performance of the two protocols on the synthetic traces accurately approximates their performance on real traces, supporting the claim that SWIM is an excellent model for human mobility.

The rest of the paper is organized as follows: Section~\ref{sec:relatedwork} briefly reports on current work in the field; in Section~\ref{sec:solution} we present the details of SWIM and we prove theoretically that the distribution of inter-contact time in SWIM has an exponential tail, as recently observed in real life experiments; Section~\ref{sec:experiments} compares synthetic data traces to real traces and shows that the distribution of inter-contact time has a head that decays as a power law, again like in real experiments;
in Section~\ref{sec:forwarding} we show our experimental results on the behavior of two forwarding protocols on both synthetic and real traces; lastly, Section~\ref{sec:conclusions} present some concluding remarks.

\section{Related work}
\label{sec:relatedwork}

The mobility model recently presented in~\cite{levy} generates movement traces
using a model which is similar to a random walk, except that the flight lengths
and the pause times in destinations are generated based on Levy Walks, so with
power law distribution. In the past, Levy Walks have been shown to approximate
well the movements of animals. The model produces inter-contact time
distributions similar to real world traces. However, since every node moves
independently, the model does not capture any social behavior between nodes.
In~\cite{musolesi07}, the authors present a mobility model based on social
network theory which takes in input a social network and discuss the community
patterns and groups distribution in geographical terms. They validate their
synthetic data with real traces and show a good matching between them.

The work in \cite{LCA-CONF-2008-049} presents a new mobility model for clustered networks. Moreover, a closed-form expression for the stationary distribution of node position is given. The model captures the phenomenon of emerging clusters, observed in real partitioned networks, and correlation between the spatial speed distribution and the cluster formation.

In~\cite{workingDay}, the authors present a mobility model that simulates the every day life of people that go to their work-places in the morning, spend their day at work and go back to their homes at evenings. Each one of this scenarios is a simulation per se. The synthetic data they generate match well the distribution of inter-contact time and contact durations of real traces.

In a very recent work, Barabasi et al.~\cite{barabasi08} study the trajectory of
a very large (100,000) number of anonymized mobile phone users whose position is
tracked for a six-months period. They observe that human trajectories show a
high degree of temporal and spatial regularity, each individual being
characterized by a time independent characteristic travel distance and a
significant probability to return to a few highly frequented locations. They
also show that the probability density function of individual travel distances
are heavy tailed and also are different for different groups of users and
similar inside each group. Furthermore, they plot also the frequency of visiting
different locations and show that it is well approximated by a power law. All
these observations are in contrast with the random trajectories predicted by
Levy flight and random walk models, and support the intuition behind SWIM.

\section{Small World in Motion}
\label{sec:solution}

We believe that a good mobility model should
\begin{enumerate}
	\item be simple; and
	\item predict well the performance of networking protocols on real mobile
	networks.
\end{enumerate}
We can't overestimate the importance of having a \emph{simple} model. A simple
model is easier to understand, can be useful to distill the fundamental
ingredients of ``human'' mobility, can be easier to implement, easier to tune
(just one or few parameters), and can be useful to support theoretical work. We
are also looking for a model that generates traces with the same statistical
properties that real traces have. Statistical distribution of inter-contact time
and number of contacts, among others, are useful to characterize the behavior of
a mobile network. A model that generates traces with statistical properties that
are far from those of real traces is probably useless. Lastly, and most
importantly, a model should be accurate in predicting the performance of network
protocols on real networks. If a protocol performs well (or bad) in the model,
it should also perform well (or bad) in a real network. As accurately as
possible.

None of the mobility models in the literature meets all of these properties. The random way-point mobility model is simple, but its traces do not look real at all (and has a few other problems). Some of the other protocols we reviewed in the related work section can indeed produce traces that look real, at least with respect to some of the possible metrics, but are far from being simple. And, as far as we know, no model has been shown to predict real world performance of protocols accurately.

Here, we propose \emph{small world in motion} (SWIM), a very simple mobility
model that meets all of the above requirements. Our model is based on a couple
of simple rules that are enough to make the typical  properties of real traces
emerge, just naturally. We will also show that this model can predict the
performance of networking protocols on real mobile networks extremely well.

\subsection{The intuition}

When deciding where to move, humans usually trade-off. The best supermarket or the most popular restaurant that are also not far from where they live, for example. It is unlikely (though not impossible) that we go to a place that is far from home, or that is not so popular, or interesting. Not only that, usually there are just a few places where a person spends a long period of time (for example home and work office or school), whereas there are lots of places where she stays less, like for example post office, bank, cafeteria, etc. These are the basic intuitions SWIM is built upon. Of course, trade-offs humans face in their everyday life are usually much more complicated, and there are plenty of unknown factors that influence mobility. However, we will see that simple rules---trading-off proximity and popularity, and distribution of waiting time---are enough to get a mobility model with a number of desirable properties and an excellent capability of predicting the performance of forwarding protocols.

\subsection{The model in details}

More in detail, to each node is assigned a so called \emph{home}, which is a
randomly and uniformly chosen point over the network area. Then, the node itself
assigns to each possible destination a \emph{weight} that grows with the
popularity of the place and decreases with the distance from home. The weight
represents the probability for the node to chose that place as its next
destination.

At the beginning, no node has been anywhere. Therefore, nodes do not know how
popular destinations are. The number of other nodes seen in each destination is
zero and this information is updated each time a node reaches a destination.
Since the domain is continuous, we divided the network area into many small
contiguous cells that represent possible destinations. Each cell has a squared
area, and its size depends on the transmitting range of the nodes. Once a node
reaches a cell, it should be able to communicate with every other node that is
in the same cell at the same time. Hence, the size of the cell is such that its
diagonal is equal to the transmitting radius of the nodes. Based on this, each
node can easily build a \emph{map} of the network area, and can also calculate
the weight for each cell in the map. These information will be used to
determine the next destination: The node chooses its cell
destination randomly and proportionally with its weight, whereas the exact
destination point (remind that the network area is continuous) is taken
uniformly at random over the cell's area. Note that,
according to our experiments, it is not really necessary that the node has a
\emph{full} map of the domain. It can remember just the most popular cells it
has visited and assume that everywhere else there is nobody (until, by chance,
it chooses one of these places as destination and learn that they are indeed
popular). The general properties of SWIM holds as well.

Once a node has chosen its next destination, it starts moving towards it
following a straight line and with a speed that is proportional to the distance
between the starting point and the destination. To keep things simple, in the
simulator the node chooses as its speed value exactly the distance between these
two points. The speed remains constant till the node reaches the destination. In
particular, that means that nodes finish each leg of their movements in constant
time. This can seem quite an oversimplification, however, it is useful and also
not far from reality. Useful to simplify the model; not far from reality since
we are used to move slowly (maybe walking) when the destination is nearby,
faster when it is farther, and extremely fast (maybe by car) when the
destination is far-off.

More specifically, let $A$ be one of the nodes and $h_A$ its home. Let also $C$
be one of the possible destination cells. We will denote with $\textit{seen}(C)$
the number of nodes that node~$A$ encountered in $C$ the last time it reached
$C$. As we already mentioned, this number is $0$ at the beginning of the
simulation and it is updated each time node~$A$ reaches a destination in
cell~$C$. Since $h_A$ is a point, whereas $C$ is a cell, when calculating the
distance of $C$ from its home $h_A$, node~$A$ refers to the center of the cell's
area. In our case, being the cell a square, its center is the mid diagonal
point. The weight that node~$A$ assigns to cell $C$ is as follows:
\begin{equation}
\label{eq:weight}
w(C) = \alpha\cdot\textit{distance}(h_A, C) + (1-\alpha)\cdot\textit{seen}(C).
\end{equation}
where $\textit{distance}(h_A, C)$ is a function that decays as a power law as
the distance between node~$A$ and cell~$C$ increases.

In the above equation $\alpha$ is a constant in $[0;1]$. Since the weight that a
node assigns to a place represents the probability that the node chooses it as
its next destination, the value of $\alpha$ has a strong effect on the node's
decisions---the larger is $\alpha$, the more the node will tend to go to places
near its home. The smaller is $\alpha$, the more the node will tend to go to
``popular'' places. Even if it goes beyond our scope in this paper, we strongly
believe that would be interesting to exploit consequences of using different
values for $\alpha$. We do think that both small and big values for $\alpha$
rise clustering effect of the nodes. In the first case, the clustering effect
is based on the neighborhood locality of the nodes, and is more related to a
social type: Nodes that ``live'' near each other should tend to frequent the
same places, and therefore tend to be ``friends''. In the second case, instead,
the clustering effect should raise as a consequence of the popularity of the
places.

When reaching destination the node decides how long to remain there. One of the
key observations is that in real life a person usually stays for a long time
only in a few places, whereas there are many places where he spends a short
period of time. Therefore, the distribution of the waiting time should follow a
power law. However, this is in contrast with the experimental evidence that
inter-contact time has an exponential cut-off, and with the intuition that, in
many practical scenarios, we won't spend more than a few hours standing at the
same place (our goal is to model day time mobility). So, SWIM uses an upper
bounded power law distribution for waiting time, that is, a truncated power law.
Experimentally, this seems to be the correct choice.

\subsection{Power law and exponential decay dichotomy}

In a recent work~\cite{milan07}, it is observed that the distribution of
inter-contact time in real life experiments shows a so  called dichotomy: First
a power law until a certain point in time, then an exponential cut-off.
In~\cite{cai07mobicom}, the authors suggest that the exponential cut-off is due
to the bounded domain where nodes move. In SWIM, inter-contact time distribution
shows exactly the same dichotomy. More than that, our experiments show that, if
the model is properly tuned, the distribution is strikingly similar to that of
real life experiments.

We show here, with a mathematically rigorous proof, that the distribution of
inter-contact time of nodes in SWIM has an exponential
tail. Later, we will see experimentally that the same distribution has indeed
a head distributed as a power law. Note that the proof has to cope with a
difficulty due to the social nature of SWIM---every decision taken in SWIM by a
node \emph{not} only depends on its own previous decisions, but also depends on
other nodes' decisions: Where a node goes now, strongly affects where it
will choose to go in the future, and, it will affect also where other
nodes will chose to go in the future. So, in SWIM there are no renewal
intervals, decisions influence future decisions of other nodes, and nodes never
``forget'' their past.

In the following, we will consider two nodes $A$ and $B$. Let $A(t)$, $t\ge0$,
be the position of node~$A$ at time~$t$. Similarly, $B(t)$ is the position of
node~$B$ at time~$t$. We assume that at time~$0$ the two nodes are leaving
visibility after meeting. That is, $||A(0)-B(0)||=r$, $||A(t)-B(t)||&lt;r$ for
$t\in 0^-$, and $||A(t)-B(t)||>r$ for $t\in 0^+$. Here, $||\cdot||$ is the
euclidean distance in the square. The inter-contact time of nodes $A$ and $B$
is defined as:
\begin{equation*}
T_I=\inf_{t>0} \{t:||A(t)-B(t)||\le r\}
\end{equation*}
\begin{assumption}
\label{ass:lower}
For all nodes~$A$ and for all cells~$C$, the distance function $distance(A,C)$
returns at least $\mu>0$.
\end{assumption}

\begin{theorem}
If $\alpha>0$ and under Assumption~\ref{ass:lower}, \emph{the tail} of the
inter-contact time distribution between nodes~$A$ and~$B$ in SWIM has an
exponential decay.
\end{theorem}
\begin{IEEEproof}
To prove the presence of the exponential cut-off, we will show that there exists
constant $c>0$ such that
\begin{equation*}
\mathbb{P}\{T_I>t\}\le e^{-ct}
\end{equation*}
for all sufficiently large $t$. Let $t_i=i\lambda$, $i=1,2,\dotsc$, be
a sequence of times. Constant $\lambda$ is large enough that each node has
to make a way point decision in the interval between $t_i$ and $t_{i+1}$
and that each node has enough time to finish a leg. Recall that this is of
course possible since waiting time at way points is bounded above and since
nodes complete each leg of movement in constant time. The idea is to take
snapshots of nodes $A$ and $B$ and see whether they see each other at each
snapshot. However, in the following, we also need that at least one of the two
nodes is not moving at each snapshot. So, let
\begin{equation*}
\begin{split}
\delta_i=\text{min}\{ &amp; \delta\ge 0 : \text{either $A$ or $B$ is}\\
&amp; \text{at a way point at time $t_i+\delta$}\}.
\end{split}
\end{equation*}
Clearly, $t_i+\delta_i&lt;t_{i+1}$, for all $i=1,2,\dotsc$.

We take the sequence of snapshots $\{t_i+\delta_i\}_{i>0}$. Let $\epsilon_i=\{||A(t_i+\delta_i)-B(t_i+\delta_i)||>r\}$ be the event that nodes $A$ and $B$ are not in visibility range at time $t_i+\delta_i$. We have that
\begin{equation*}
\mathbb{P}\{T_I>t\}\le \mathbb{P}\left\{\bigcap_{i=1}^{\lfloor t/\lambda\rfloor
-1}
\epsilon_i\right\}=\prod_{i=1}^{\lfloor t/\lambda\rfloor -1}
\mathbb{P}\{ \epsilon_i| \epsilon_{i-1}\cdots\epsilon_1\}.
\end{equation*}
Consider $\mathbb{P}\{ \epsilon_i| \epsilon_{i-1}\cdots\epsilon_1\}$. At
time~$t_i+\delta_i$, at least one of the two nodes is at a way point, by
definition of $\delta_i$. Say node~$A$, without loss of generality. Assume that
node~$B$ is in cell $C$ (either moving or at a way point). During its last way
point decision, node~$A$ has chosen cell $C$ as its next way point with
probability at least $\alpha\mu>0$, thanks to Assumption~\ref{ass:lower}. If
this is the case, the two nodes~$A$ and~$B$ are now in visibility. Note that the
decision has been made after the previous snapshot, and that it is not
independent of previous decisions taken by node~$A$, and it is not even
independent of previous decisions taken by node~$B$ (since the social nature of
decisions in SWIM). Nonetheless, with probability at least $\alpha\mu$ the two
nodes are now in visibility. Therefore,
\begin{equation*}
\mathbb{P}\{ \epsilon_i| \epsilon_{i-1}\cdots\epsilon_1\}\le 1-\alpha\mu.
\end{equation*}
So,
\begin{equation*}
\begin{split}
\mathbb{P}\{T_I>t\} &amp; \le \mathbb{P}\left\{\bigcap_{i=1}^{\lfloor
t/\lambda\rfloor -1}
\epsilon_i\right\}=\prod_{i=1}^{\lfloor t/\lambda\rfloor -1}
\mathbb{P}\{ \epsilon_i| \epsilon_{i-1}\cdots\epsilon_1\}\\
 &amp; \le (1-\alpha\mu)^{\lfloor t/\lambda\rfloor -1}\sim e^{-ct},
\end{split}
\end{equation*}
for sufficiently large $t$.
\end{IEEEproof}

\section{Real traces}
\begin{table*}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
Experimental data set \T \B &amp; Cambridge~05 &amp; Cambridge~06 &amp; Infocom~05\\ \hline
Device \T &amp; iMote &amp; iMote &amp; iMote\\
Network type &amp; Bluetooth &amp; Bluetooth &amp; Bluetooth\\
Duration (days)&amp; 5 &amp; 11 &amp; 3\\
Granularity (sec)&amp; 120 &amp; 600 &amp; 120\\
Devices number &amp; 12 &amp; 54 (36 mobile) &amp; 41\\
Internal contacts number&amp; 4,229 &amp; 10,873 &amp; 22,459\\
Average Contacts/pair/day &amp; 6.4 &amp; 0.345 &amp; 4.6\\[1mm] \hline
\end{tabular}
\caption{The three experimental data sets}
\label{tab:realtraces}
\end{center}
\end{table*}

In order to show the accuracy of SWIM in simulating real life scenarios, we will
compare SWIM with three traces gathered during experiments done with real
devices carried by people. We will refer to these traces as \emph{Infocom~05},
\emph{Cambridge~05} and \emph{Cambridge~06}. Characteristics of these data sets
such as inter-contact and contact distribution have been observed in several
previous works~\cite{hui05, leguay06,hui06}.
\begin{itemize}
\item In \emph{Cambridge 05}~\cite{cambridge05} the authors used Intel iMotes to
collect the data. The iMotes were distributed to students of the University of
Cambridge and were programmed to log contacts of all visible mobile devices. The
number of devices that were used for this experiment is 12. This data set covers
5 days.
\item In \emph{Cambridge 06}~\cite{upmcCambridgeData} the authors repeated the
experiment using more devices. Also, a number of stationary nodes were deployed
in various locations around the city of Cambridge UK. The data of the stationary
iMotes will not be used in this paper. The number of mobile devices used is 36
(plus 18 stationary devices). This data set covers 11 days.
\item In \emph{Infocom~05} ~\cite{cambridgeInfocomData} the same devices as in
\emph{Cambridge} were distributed to students attending the Infocom 2005 student
workshop. The number of devices is 41. This experiment covers approximately 3
days.
\end{itemize}
Further details on the real traces we use in this paper are shown in
Table~\ref{tab:realtraces}.

\section{SWIM vs Real traces}
\label{sec:experiments}

\subsection{The simulation environment}
In order to evaluate SWIM, we built a discrete even simulator of the model.
The simulator takes as input
\begin{itemize}
 \item $n$: the number of nodes in the network;
  \item $r$: the transmitting radius of the nodes;
  \item the simulation time in seconds;
  \item coefficient $\alpha$ that appears in Equation~\ref{eq:weight};
  \item the distribution of the waiting time at destination.
\end{itemize}
The output of the simulator is a text file containing records on each main event
occurrence. The main events of the system and the related outputs are:
\begin{itemize}
\item \emph{Meet} event: When two nodes are in range with each other. The
output line contains the ids of the two nodes involved and the time of
occurrence.
\item \emph{Depart} event: When two nodes that were in range of each other are
not anymore. The output line contains the ids of the two nodes involved and the
time of occurrence.
\item \emph{Start} event: When a node leaves its current location and starts
moving towards destination. The output line contains the id of the location, the
id of the node and the time of occurrence.
\item \emph{Finish} event: When a node reaches its destination. The output line
contains the id of the destination, the id of the node and the time of
occurrence.
\end{itemize}
In the output, we don't really need information on the geographical position of
the nodes when the event occurs. However, it is just straightforward to extend
the format of the output file to include this information. In this form, the
output file contains enough information to compute correctly inter-contact
intervals, number of contacts, duration of contacts, and to implement state of
the art forwarding protocols.

During the simulation, the simulator keeps a vector $\textit{seen}(C)$ updated
for each sensor. Note that the nodes do not necessarily agree on what is the
popularity of each cell. As mentioned earlier, it is not necessary to keep in
memory the whole vector, without changing the qualitative behavior of the mobile
system. However, the three scenarios Infocom~05, Cambridge~05, and Cambridge~06
are not large enough to cause any real memory problem. Vector~$\textit{seen}(C)$
is updated at each \emph{Finish} and \emph{Start} event, and is not changed
during movements.

\subsection{The experimental results}

In this section we will present some experimental results in order to show that
SWIM is a simple and good way to generate synthetic traces with the same
statistical properties of real life mobile scenarios.
\begin{figure}[!ht]
\centering
\subfigure[Distribution of the inter-contact time in Infocom~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Infocom/InterContacts}
\label{fig:ICT infocom}}
\qquad
\subfigure[Distribution of the contact duration for each pair of nodes in
Infocom~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Infocom/Contacts}
\label{fig:CONT infocom}}
\qquad
\subfigure[Distribution of the number of contacts for each pair of nodes in
Infocom~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Infocom/ContactsNumber}
\label{fig:CONT-NR infocom}}
\caption{SWIM and Infocom~05}
\label{fig:infocom}
\end{figure}
\begin{figure}[t]
\centering
\subfigure[Distribution of the inter-contact time in Cambridge~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge05/InterContacts}
\label{fig:ICT cambridge05}}
\qquad
\subfigure[Distribution of the contact duration for each pair of nodes in
Cambridge~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge05/Contacts}
\label{fig:CONT cambridge05}}
\qquad
\subfigure[Distribution of the number of contacts for each pair of nodes in
Cambridge~05 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge05/ContactsNumber}
\label{fig:CONT-NR cambridge05}}
\caption{SWIM and Cambridge~05}
\label{fig:cambridge05}
\end{figure}
\begin{figure}[t]
\centering
\subfigure[Distribution of the inter-contact time in Cambridge~06 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge06/InterContacts}
\label{fig:ICT cambridge}}
\qquad
\subfigure[Distribution of the contact duration for each pair of nodes in
Cambridge~06 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge06/Contacts}
\label{fig:CONT cambridge}}
\qquad
\subfigure[Distribution of the number of contacts for each pair of nodes in
Cambridge~06 and in SWIM]{
\centering
\includegraphics[width=.4\textwidth]{graphics/Cambridge06/ContactsNumber}
\label{fig:CONT-NR cambridge}}
\caption{SWIM and Cambridge~06}
\label{fig:cambridge06}
\end{figure}
The idea is to tune the few parameters used by SWIM in order to simulate
Infocom~05, Cambridge~05, and Cambridge~06. For each of the experiments we
consider the following metrics: inter-contact time CCD function, contact
distribution per pair of nodes, and number of contacts per pair of nodes. The
inter-contact time distribution is important in mobile networking since it
characterizes the frequency with which information can be transferred between
people in real life. It has been widely studied for real traces in a large
number of previous papers~\cite{hui05, hui06, leguay06, cai07mobicom,
milan07, musolesi07, cai08mobihoc}. The contact distribution per pair
of nodes and the number of contacts per pair of nodes are also important. Indeed
they represent a way to measure relationship between people. As it was also
discussed in~\cite{hui07community, hui07socio, hui08mobihoc} it's natural to
think that if a couple of people spend more time together and meet each other
frequently they are familiar to each other. Familiarity is important in
detecting communities, which may help improve significantly the design and
performance of forwarding protocols in mobile environments such as
DNTs~\cite{hui08mobihoc}. Let's now present the experimental results obtained
with SWIM when simulating each of the real scenarios of data sets.
Since the scenarios we consider use iMotes, we model our network node according
to iMotes properties (outdoor range $30\textrm{m}$). We initially distribute the
nodes over a network area of size $300\times300~\textrm{m}^2$. In the following,
we assume for the sake of simplicity that the network area is a square of side
1, and that the node transmission range is 0.1. In all the three experiments we
use a power law with slope $a=1.45$ in order to generate waiting time values of
nodes when arriving to destination, with an upper bound of 4 hours. We use as
$\textit{seen}(C)$ function the fraction of the nodes seen in cell~$C$, and as
$\textit{distance}(x,C)$ the following
\begin{equation*}
\textit{distance}(x,C)=\frac{1}{\left(1+k||x-y||\right)^2},
\end{equation*}
where $x$ is the position of the home of the current node, and $y$ is the
position of the center of cell~$C$. Positions are coordinates in the square of
size 1. Constant $k$ is a scaling factor, set to $0.05$, which accounts for the
small size of the experiment area. Note that function $\textit{distance}(x,C)$
decays as a power law. We come up with this choice after a large set of
experiments, and the choice is heavily influenced by scaling factors.

We start with Infocom~05. The number of nodes $n$ and the simulation time are
the same as in the real data set, hence 41 and 3 days respectively. Since the
area of the real experiment was quite small (a large hotel), we deem that
$300\times300~m^2$ can be a good approximation of the real scenario. In
Infocom~05, there were many parallel sessions. Typically, in such a case one
chooses to follow what is more interesting to him. Hence, people with the same
interests are more likely to meet each other. In this experiment, the parameter
$\alpha$ such that the output fit best the real traces is $\alpha=0.75$. The
results of this experiment are shown in Figure~\ref{fig:infocom}.

We continue with the Cambridge scenario. The number of nodes and the simulation
time are the same as in the real data set, hence 11 and 5 days respectively. In
the Cambridge data set, the iMotes were distributed to two groups of students,
mainly undergrad year~1 and~ 2, and also to some PhD and Master students.
Obviously, students of the same year are more likely to see each other more
often. In this case, the parameter $\alpha$ which best fits the real traces is
$\alpha=0.95$. This choice proves to be fine for both Cambridge~05 and
Cambridge~06. The results of this experiment are shown in
Figure~\ref{fig:cambridge05} and~\ref{fig:cambridge06}.

In all of the three experiments, SWIM proves to be an excellent way to generate
synthetic traces that approximate real traces. It is particularly interesting
that the same choice of parameters gets goods results for all the metrics under
consideration at the same time.

\section{Comparative performance of forwarding protocols}
\label{sec:forwarding}
\begin{figure*}
\label{fig:forwarding}
\centering
\subfigure{
\centering
\includegraphics[width=.31\textwidth]{graphics/Infocom/PerformanceInfocom}
\label{fig:perf infocom}}
\subfigure{
\centering
\includegraphics[width=.31\textwidth]{graphics/Cambridge05/PerformanceCambridge05}
\label{fig:perf cambridge05}}
\subfigure{
\centering
\includegraphics[width=.31\textwidth]{graphics/Cambridge06/PerformanceCambridge06}
\label{fig:perf cambridge 06}}
\caption{Performance of both forwarding protocols on real traces and SWIM
traces. EFw denotes Epidemic Forwarding while DFwd Delegation Forwarding.}
\label{fig:performance}
\end{figure*}

In this section we show other experimental results of SWIM, related to
evaluation of two simple forwarding protocols for DNTs such as Epidemic
Forwarding~\cite{vahdat00epidemic} and simplified version of Delegation
Forwarding\cite{dfw08} in which each node has a random constant as its quality.
Of course, this simplified version of delegation forwarding is not very
interesting and surely non particularly efficient. However, we use it just as a
worst case benchmark against epidemic forwarding, with the understanding that
our goal is just to validate the quality of SWIM, and not the quality of the
forwarding protocol.

In the following experiments, we use for each experiment the same tuning used
in the previous section. That is, the parameters input to SWIM are not
``optimized'' for each of the forwarding protocols, they are just the same that
has been used to fit real traces with synthetic traces.

For the evaluation of the two forwarding protocols we use the same assumptions
and the same way of generating traffic to be routed as in~\cite{dfw08}.
For each trace and forwarding protocol a set of messages is generated with
sources and destinations chosen uniformly at random, and generation times form a
Poisson process averaging one message per 4 seconds.
The nodes are assumed to have infinite buffers and carry all message replicas
they receive until the end of the simulation. The metrics we are concerned with
are: \emph{cost}, which is the number of replicas per generated message;
\emph{success rate} which is the fraction of generated messages for which at
least one replica is delivered; \emph{average delay} which is the average
duration per delivered message from its generation time to the first arrival of
one of its replicas.
As in \cite{dfw08} we isolated 3-hour periods for each data trace (real and
synthetic) for our study. Each simulation runs therefore 3 hours. to avoid
end-effects no messages were generated in the last hour of each trace.

In the two forwarding protocols, upon contact with node $A$, node $B$ decides
which message from its message queue to forward in the following way:
\begin{trivlist}
\item
\textbf{Epidemic Forwarding:} Node $A$ forwards message~$m$ to node $B$ unless
$B$ already has a replica of $m$. This protocol achieves the best possible
performance, so it yields upper bounds on success rate and average delay.
However, it does also have a high cost.
\item
\textbf{(Simplified) Delegation Forwarding:} To each node is initially given a
quality, distributed uniformly in $(0;1]$. To each message is given a rate,
which, in every instant corresponds to the quality of the node with the best
quality that message have seen so far. When generated the message inherits the
rate from the node that generates it (that would be the sender for that
message). Node $A$ forwards message $m$ to node $B$ if the quality of node $B$
is greater than the rate of the copy of $m$ that $A$ holds. If $m$ is forwarded
to $B$, both nodes $A$ and $B$ update the rate of their copy of $m$ to the
quality of $B$.
\end{trivlist}

Figure~\ref{fig:forwarding} shows how the two forwarding protocols perform in
both real and synthetic traces, generated with SWIM.
As you can see, the results are excellent---SWIM predicts very accurately the
performance of both protocols. Most importantly, this is not due to a customized
tuning that has been optimized for these forwarding protocols, it is just the
same output that SWIM has generated with the tuning of the previous section.
This can be important methodologically: To tune SWIM on a particular scenario,
you can concentrate on a few well known and important statistical properties
like inter-contact time, number of contacts, and duration of contacts. Then, you
can have a good confidence that the model is properly tuned and usable to get
meaningful estimation of the performance of a forwarding protocol.

\section{Conclusions}
\label{sec:conclusions}
In this paper we present SWIM, a new mobility model for ad hoc networking. SWIM
is simple, proves to generate traces that look real, and provides an accurate
estimation of forwarding protocols in real mobile networks. SWIM can be used to
improve our understanding of human mobility, and it can support theoretical work
and it can be very useful to evaluate the performance of networking protocols in
scenarios that scales up to very large mobile systems, for which we don't have
real traces.
\IEEEtriggeratref{7}
\bibliographystyle{ieeetr}
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="3"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">\section{Introduction}
\label{SecIntro}
Let $\mathcal{G}=(V,E)$ be a connected undirected graph, with $V$ at most countable and each vertex $x\in V$ of finite degree. We do not allow self-loops, however the edges might be multiple. Given $e\in E$ an edge, we will denote
$e_{+}$ and $e_{-}$ its end-vertices, even though $e$ is non-oriented and one can interchange $e_{+}$ and $e_{-}$. 
Each edge $e\in E$ is endowed with a conductance $W_{e}>0$. There may be a killing measure $\kappa=(\kappa_{x})_{x\in V}$ on vertices. 

We consider $(X_{t})_{t\ge0}$ the \textit{Markov jump processes} on $V$ which being in $x\in V$, jumps along an adjacent edge $e$ with rate $W_{e}$. Moreover if 
$\kappa_{x}\neq 0$, the process is killed at $x$ with rate $\kappa_{x}$ (the process is not defined after that time). $\zeta$ will denote the time up to which $X_{t}$ is defined. If $\zeta&lt;+\infty$, then either the process has been killed by the killing measure $\kappa$ (and $\kappa \not\equiv 0$) or it has gone off to infinity in finite time 
(and $V$ infinite). We will assume that the process $X$ is transient, which means, if $V$ is finite, that 
$\kappa\not\equiv 0$. $\mathbb{P}_{x}$ will denote the law of $X$ started from $x$.
Let $(G(x,y))_{x,y\in V}$ be the Green function of $X_{t}$:
\begin{displaymath}
G(x,y)=G(y,x)=\mathbb{E}_{x}\left[\int_{0}^{\zeta} 1_{\{X_{t}=y\}} dt\right].
\end{displaymath}
Let $\mathcal{E}$ be the Dirichlet form defined on functions $f$ on $V$ with finite support:
\begin{eqnarray}\label{Dirichlet-form}
\mathcal{E}(f,)=\sum_{x\in V}\kappa_{x} f(x)^{2}+
\sum_{e\in E}W_e(f(e_{+})-f(e_{-}))^{2}.
\end{eqnarray}
$P_{\varphi}$ will be the law of $(\varphi_{x})_{x\in V}$ the centred 
\textit{Gaussian free field} (GFF) on $V$ with covariance
$E_{\varphi}[\varphi_{x}\varphi_{y}]=G(x,y)$. In case $V$ is finite, the density of $P_{\varphi}$ is
\begin{displaymath}
\dfrac{1}{(2\pi)^{\frac{\vert V\vert}{2}}\sqrt{\det G}}
\exp\left(-\dfrac{1}{2}\mathcal{E}(f,f)\right)\prod_{x\in V} df_{x}.
\end{displaymath}
Given $U$ a finite subset of $V$, and $f$ a function on $U$, $P^{U,f}_{\varphi}$ will denote the law of
the GFF $\varphi$ conditioned to equal $f$ on $U$.
$(\ell_{x}(t))_{x\in V, t\in [0,\zeta]}$ will denote the family of local times of $X$:
\begin{displaymath}
\ell_{x}(t)=\int_{0}^{t}1_{\{X_{s}=x\}} ds.
\end{displaymath}
For all $x\in V$, $u>0$, let
\begin{displaymath}
\tau_{u}^{x}=\inf\lbrace t\geq 0; \ell_{x}(t)>u\rbrace.
\end{displaymath}
Recall the generalized second Ray-Knight theorem on discrete graphs by Eisenbaum, Kaspi, Marcus, Rosen and Shi \cite{ekmrs} (see also 
\cite{MarcusRosen2006MarkovGaussianLocTime,Sznitman2012LectureIso}):
\begin{2ndRK}
For any $u>0$ and $x_{0}\in V$, 
\begin{center}
$\left(\ell_{x}(\tau_{u}^{x_{0}})+\dfrac{1}{2}\varphi_{x}^{2}\right)_{x\in V}$
under $\mathbb{P}_{x_{0}}(\cdot \vert \tau_{u}^{x_{0}}&lt;\zeta)\otimes P^{\lbrace x_{0}\rbrace,0}_{\varphi}$
\end{center}
has the same law as 
\begin{center}
$\left(\dfrac{1}{2}\varphi_{x}^{2}\right)_{x\in V}$
under $P^{\lbrace x_{0}\rbrace,\sqrt{2u}}_{\varphi}$.
\end{center}
\end{2ndRK}

Sabot and TarrÃ¨s showed in \cite{SabotTarres2015RK} that the so-called ``magnetized'' reverse Vertex-Reinforced Jump Process provides an inversion of the generalized second Ray-Knight theorem, in the sense that it enables to retrieve the law of $(\ell_x(\tau_u^{x_0}), \varphi^2_x)_{x\in V}$ conditioned on $\left(\ell_x(\tau_u^{x_0})+\frac{1}{2}\varphi^2_x\right)_{x\in V}$. The jump rates of that latter process can be interpreted as the two-point functions of the Ising model associated to the time-evolving weights.

However in \cite{SabotTarres2015RK} the link with the Ising model is only implicit, and a natural question is whether Ray-Knight inversion can be described in a simpler form if we enlarge the state space of the dynamics, and in particular include the ``hidden'' spin variables. 

The answer is positive, and goes through an extension  of the Ray-Knight isomorphism introduced by Lupu \cite{Lupu2014LoopsGFF}, which couples the sign of the GFF to the path of the Markov chain. The Ray-Knight inversion will turn out to take a rather simple form  in Theorem \ref{thm-Poisson} of the present paper, where it will be defined not only through the spin variables but also random currents associated to the field though an extra Poisson Point Process. 

The paper is organised as follows. 

In Section \ref{sec:srk} we recall some background on loop soup isomorphisms and on related couplings and state and prove a signed version of generalized second Ray-Knight theorem. We begin in Section \ref{sec:lejan} by a statement of Le Jan's isomorphism which couples the square of the Gaussian Free Field to the loop soups, and recall how the generalized second Ray-Knight theorem can be seen as its Corollary: for more details see \cite{lejan4}. In Subsection \ref{sec:lupu} we state Lupu's isomorphism which extends Le Jan's isomorphism and couples the  sign of the GFF to the loop soups, using  a  cable graph extension of the GFF and Markov Chain. Lupu's isomorphism yields an interesting realisation of the well-known  FK-Ising coupling,  and provides as well a ``Current+Bernoulli=FK'' coupling lemma \cite{lupu-werner}, which occur in the relationship between the discrete and cable graph versions. We briefly recall those couplings in Sections \ref{fkising} and \ref{randomcurrent}, as they are implicit in this paper. In Section \ref{sec:glupu} we state and prove the generalized second Ray-Knight ``version'' of Lupu's isomorphism, which we aim to invert. 

Section \ref{sec:inversion} is devoted to the statements of inversions of those isomorphisms. We state in Section \ref{sec_Poisson} a signed version of the inversion of the generalized second Ray-Knight theorem through an extra Poisson Point Process, namely Theorem \ref{thm-Poisson}. In Section \ref{sec_dicr_time} we provide a discrete-time description of the process, whereas in Section \ref{sec_jump} we yield  an alternative version of that process through jump rates, which can be seen as an annealed version of the first one. We deduce a signed inversion of Le Jan's isomorphism for loop soups in Section \ref{sec:lejaninv}, and an inversion of the coupling of random current with FK-Ising in Section \ref{sec:coupinv}

Finally Section \ref{sec:proof} is devoted to the proof of Theorem \ref{thm-Poisson}: Section \ref{sec:pfinite} deals with the case of a finite graph without killing measure, and Section \ref{sec:pgen} deduces the proof in the general case.  

\section{Le Jan's and Lupu's isomorphisms}
\label{sec:srk}
\subsection{Loop soups and Le Jan's isomorphism}
\label{sec:lejan}
The \textit{loop measure} associated to the Markov jump process
$(X_{t})_{0\leq t&lt;\zeta}$ is defined as follows. Let $\mathbb{P}^{t}_{x,y}$ be the bridge probability measure from 
$x$ to $y$ in time $t$ (conditionned on $t&lt;\zeta$). Let $p_{t}(x,y)$ be the transition probabilities of 
$(X_{t})_{0\leq t&lt;\zeta}$. 

Let $\mu_{\rm loop}$ be the measure on time-parametrised nearest-neighbour based loops (i.e. loops with a starting site)
\begin{displaymath}
\mu_{\rm loop}=\sum_{x\in V}\int_{t>0}\mathbb{P}^{t}_{x,x} p_{t}(x,x) \dfrac{dt}{t}.
\end{displaymath}
The loops will be considered here up to a rotation of parametrisation (with the corresponding pushforward measure induced by $\mu_{\rm loop}$), that is to say a loop $(\gamma(t))_{0\leq t\leq t_{\gamma}}$ will be the same as 
$(\gamma(T+t))_{0\leq t\leq t_{\gamma}-T}\circ (\gamma(T+t-t_{\gamma}))_{t_{\gamma}-T\leq t\leq t_{\gamma}}$, where $\circ$ denotes the concatenation of paths.
A \textit{loop soup} of intensity $\alpha>0$, denoted 
$\mathcal{L}_{\alpha}$, is a Poisson random measure of intensity
$\alpha \mu_{\rm loop}$. We see it as a random collection of loops in $\mathcal{G}$. Observe that a.s. above each vertex 
$x\in V$, $\mathcal{L}_{\alpha}$ contains infinitely many trivial "loops" reduced to the vertex $x$. There are also with positive probability non-trivial loop that visit several vertices. 

Let  $L_{.}(\mathcal{L}_{\alpha})$ be the \textit{occupation field} of $\mathcal{L}_{\alpha}$ on $V$ i.e., for all $x\in V$, 
\begin{displaymath}
L_x(\mathcal{L}_{\alpha})=
\sum_{(\gamma(t))_{0\leq t\leq t_{\gamma}}\in\mathcal{L}_{\alpha}}
\int_{0}^{t_{\gamma}}1_{\{\gamma(t)=x\}} dt.
\end{displaymath}
In \cite{LeJan2011Loops} Le Jan shows that for transient Markov jump processes, $L_x(\mathcal{L}_{\alpha})&lt;+\infty$ for all $x\in V$ a.s. For $\alpha=\frac{1}{2}$ he identifies the law of
$L_.(\mathcal{L}_{\alpha})$:
\begin{IsoLeJan}
$L_.(\mathcal{L}_{1/2})=\left(L_x(\mathcal{L}_{1/2})\right)_{x\in V}$ has the same law as
$\dfrac{1}{2}\varphi^2=\left(\dfrac{1}{2}\varphi_{x}^{2}\right)_{x\in V}$
under $P_{\varphi}$.
\end{IsoLeJan}

Let us briefly recall how Le Jan's isomorphism enables one to retrieve the generalized second Ray-Knight theorem stated in Section \ref{SecIntro}: for more details, see for instance \cite{lejan4}. We assume that $\kappa$ is supported by $x_0$: the general case can be dealt with by an argument similar to the proof of Proposition \ref{PropKillingCase}. 
Let $D=V\setminus\{x_0\}$, and note that the isomorphism in particular implies that $L_.(\mathcal{L}_{1/2})$ conditionally on $L_{x_0}(\mathcal{L}_{1/2})=u$ has the same law as $\varphi^2/2$ conditionally on $\varphi_{x_0}^2/2=u$. 

On the one hand, given the classical energy decomposition, we have $\varphi=\varphi^D+\varphi_{x_0}$, with $\varphi^D$ the GFF associated to the restriction of $\mathcal{E}$ to $D$, where $\varphi^D$ and $\varphi_{x_0}$ are independent. Now $\varphi^2/2$ conditionally on $\varphi_{x_0}^2/2=u$ has the law of $(\varphi^D+\eta\sqrt{2u})^2/2$, where $\eta$ is the sign of $\varphi_{x_0}$, which is independent of $\varphi^D$. But $\varphi^D$ is symmetric, so that the latter also has the law of $(\varphi^D+\sqrt{2u})^2/2$.

On the other hand, the loop soup $\mathcal{L}_{1/2}$ can be decomposed into the two independent loop soups $\mathcal{L}_{1/2}^D$ contained in $D$ and $\mathcal{L}_{1/2}^{(x_0)}$ hitting $x_0$. Now $L_.(\mathcal{L}_{1/2}^D)$ has the law of $(\varphi^D)^2/2$ and  $L_.(\mathcal{L}_{1/2}^{(x_0)})$ conditionally on $L_{x_0}(\mathcal{L}_{1/2}^{(x_0)})=u$ has the law of the occupation field of the Markov chain $\ell(\tau_{u}^{x_{0}})$
under $\mathbb{P}_{x_{0}}(\cdot \vert \tau_{u}^{x_{0}}&lt;\zeta)$, which enables us to conclude.

\subsection{Lupu's isomorphism}
\label{sec:lupu}
As in \cite{Lupu2014LoopsGFF}, we consider the \textit{metric graph} $\tilde{\mathcal{G}}$ associated to $\mathcal{G}$. Each edge $e$ is replaced by a continuous line of length 
$\frac{1}{2}W_{e}^{-1}$. 

The GFF $\varphi$ on $\mathcal{G}$ with law $P_\varphi$ can be extended to a GFF $\tilde{\varphi}$ on $\tilde{\mathcal{G}}$ as follows. Given $e\in E$, one considers inside $e$ a conditionally independent Brownian bridge, actually a bridge of a $\sqrt{2} \times$ 
\textit{standard Brownian motion}, of length $\frac{1}{2}W_{e}^{-1}$, with end-values
$\varphi_{e_{-}}$ and $\varphi_{e_{+}}$. This provides a continuous field on the metric graph which satisfies the spatial Markov property. 

Similarly one can define a standard Brownian motion $(B^{\tilde{\mathcal{G}}})_{0\le t\le \tilde{\zeta}}$ on $\tilde{\mathcal{G}}$, whose trace on $\mathcal{G}$ indexed by the local times at $V$ has the same law as the Markov process $(X_t)_{t\ge0}$ on $V$ with jump rate $W_e$ to an adjacent edge $e$ up to time $\zeta$, as explained in Section 2 of \cite{Lupu2014LoopsGFF}. One can associate a measure on time-parametrized continuous loops $\tilde{\mu}$, and let $\tilde{\mathcal{L}}_{\frac{1}{2}}$ be the Poisson Point Process of loops of intensity $\tilde{\mu}/2$: the discrete-time loops $\mathcal{L}_{\frac{1}{2}}$ can be obtained from $\tilde{\mathcal{L}}_{\frac{1}{2}}$ by taking the print of the latter on $V$.

Lupu introduced in \cite{Lupu2014LoopsGFF} an isomorphism linking  the GFF $\tilde{\varphi}$ and the loop soup $\tilde{\mathcal{L}}_{\frac{1}{2}}$ on $\tilde{\mathcal{G}}$. 

\begin{theorem}[Lupu's Isomorphism,\cite{Lupu2014LoopsGFF}]
\label{thm:Lupu} 
There is a coupling between the Poisson ensemble of loops $\tilde{\mathcal{L}}_{\frac{1}{2}}$ and $(\tilde{\varphi}_y)_{y\in\tilde{\mathcal{G}}}$ defined above, such that the two following constraints hold: 
\begin{itemize}
\item For all $y\in\tilde{\mathcal{G}}$, $L_y(\tilde{{\mathcal{L}}}_{\frac{1}{2}})=\frac{1}{2}\tilde{\varphi}_y^2$
\item The clusters of loops of $\tilde{\mathcal{L}}_{\frac{1}{2}}$ are exactly the sign clusters of $(\tilde{\varphi}_y)_{y\in\tilde{\mathcal{G}}}$.
\end{itemize}
Conditionally on $(|\tilde{\varphi}_y|)_{y\in\tilde{\mathcal{G}}}$, the sign of $\tilde{\varphi}$ on each of its connected components is distributed independently and uniformly in $\{-1,+1\}$. 
\end{theorem}
Lupu's isomorphism and the idea of using metric graphs were applied in \cite{Lupu2015ConvCLE} to show that on the discrete half-plane $\mathbb{Z}\times\mathbb{N}$, the scaling limits of outermost boundaries of clusters of loops in loop soups are the Conformal Loop Ensembles $\hbox{CLE}$.

Let $\mathcal{O}(\tilde{\varphi})$ (resp. $\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$) be the set of edges $e\in E$ such that $\tilde{\varphi}$ (resp. $\tilde{\mathcal{L}}_{\frac{1}{2}}$) does not touch $0$ on $e$, in other words such that all the edge $e$ remains in the same sign cluster of $\tilde{\varphi}$ (resp. $\tilde{\mathcal{L}}_{\frac{1}{2}}$). Let $\mathcal{O}(\mathcal{L}_{\frac{1}{2}})$ be the set of edges $e\in E$ that are crossed (i.e. visited consecutively) by the trace of the loops $\mathcal{L}_{\frac{1}{2}}$ on $V$.

In order to translate Lupu's isomorphism back onto the initial graph $\mathcal{G}$, one needs to describe on one hand the distribution of $\mathcal{O}(\tilde{\varphi})$ conditionally on the values of $\varphi$, and on the other hand the distribution of $\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$  conditionally on $\mathcal{L}_{\frac{1}{2}}$ and the cluster of loops $\mathcal{O}(\mathcal{L}_{\frac{1}{2}})$ on the discrete graph $G$. These two distributions are described respectively in Subsections \ref{fkising} and \ref{randomcurrent}, and provide realisations of the  FK-Ising coupling and the ``Current+Bernoulli=FK'' coupling lemma \cite{lupu-werner}.

\subsection{The FK-Ising distribution of $\mathcal{O}(\tilde{\varphi})$ conditionally on $|\varphi|$}
\label{fkising}
\begin{lemma}
\label{lem:fki}
Conditionally on $(\varphi_{x})_{x\in V}$, $(1_{e\in \mathcal{O}(\tilde{\varphi})})_{e\in E}$
is a family of independent random variables and
\begin{displaymath}
\mathbb{P}\left(e\not\in \mathcal{O}(\tilde{\varphi})\vert \varphi\right)=
\left\lbrace
\begin{array}{ll}
1 &amp; \text{if}~ \varphi_{e_{-}}\varphi_{e_{+}}&lt;0,\\ 
\exp\left(-2W_{e}\varphi_{e_{-}}\varphi_{e_{+}}\right)
&amp; \text{if}~ \varphi_{e_{-}}\varphi_{e_{+}}>0.
\end{array} 
\right.
\end{displaymath}
\end{lemma}
\begin{proof}
Conditionally on $(\varphi_{x})_{x\in V}$, are constructed as independent Brownian bridges on each edge, so that $(1_{e\in \mathcal{O}(\tilde{\varphi})})_{e\in E}$ are independent random variables, and it follows from the reflection principle that, if $\varphi_{e_{-}}\varphi_{e_{+}}>0$, then 
$$\mathbb{P}\left(e\not\in \mathcal{O}(\tilde{\varphi})\vert \varphi\right)=\dfrac{\exp\left(-\frac{1}{2}W_{e}(\varphi_{e_{-}}+\varphi_{e_{+}})^{2}\right)}
{\exp\left(-\frac{1}{2}W_{e}(\varphi_{e_{-}}-\varphi_{e_{+}})^{2}\right)}=\exp\left(-2W_{e}\varphi_{e_{-}}\varphi_{e_{+}}\right).$$
\end{proof}

Let us now recall how the conditional probability in Lemma \ref{lem:fki} yields a realisation of the FK-Ising coupling. 

 Assume $V$ is finite. Let $(J_{e})_{e\in E}$ be a family of positive weights. An \textit{Ising model} on $V$ with interaction constants $(J_{e})_{e\in E}$ is a
probability on configuration of spins $({\sigma}_{x})_{x\in V}\in \{+1,-1\}^V$ such that
\begin{displaymath}
\mathbb{P}^{\rm Isg}_{J}((\sigma_x)_{x\in V})=
\dfrac{1}{\mathcal{Z}^{\rm Isg}_{J}}\exp\left(\sum_{e\in E}
J_{e}\sigma_{e_{+}}\sigma_{e_{-}}\right).
\end{displaymath}
An \textit{FK-Ising random cluster model} with weights
$(1-e^{-2J_{e}})_{e\in E}$ is a random configuration of open (value $1$) and closed
edges (value $0$) such that
\begin{displaymath}
\mathbb{P}^{\rm FK-Isg}_{J}((\omega_{e})_{e\in E})=
\dfrac{1}{\mathcal{Z}^{\rm FK-Isg}_{J}}
2^{\sharp~\text{clusters}}
\prod_{e\in E}(1-e^{-2J_{e}})^{\omega_{e}}(e^{-2J_{e}})^{1-\omega_{e}},
\end{displaymath}
where "$\sharp~\text{clusters}$" denotes the number of clusters created by open edges.

The well-known FK-Ising and Ising coupling reads as follows.
\begin{proposition}[FK-Ising and Ising coupling]
\label{FK-Ising}
Given an FK-Ising model, sample on each cluster an independent uniformly distributed spin. The spins are then distributed according to the Ising model. Conversely, given a spins configuration
$\hat{\sigma}$ following the Ising distribution, consider each edge $e$, such that
$\hat{\sigma}_{e_{-}}\hat{\sigma}_{e_{+}}&lt;0$, closed, and each edge $e$, such that
$\hat{\sigma}_{e_{-}}\hat{\sigma}_{e_{+}}>0$ open with probability
$1-e^{-2J_{e}}$. Then the open edges are distributed according to the FK-Ising model.
The two couplings between FK-Ising and Ising are the same.
\end{proposition}


Consider the GFF $\varphi$ on $\mathcal{G}$ distributed according to $P_{\varphi}$. Let
$J_{e}(\vert\varphi\vert)$ be the random interaction constants
\begin{displaymath}
J_{e}(\vert\varphi\vert)=W_{e}\vert\varphi_{e_{-}}\varphi_{e_{+}}\vert.
\end{displaymath}

Conditionally on $\vert\varphi\vert$,
$(\operatorname{sign}(\varphi_{x}))_{x\in V}$ follows an Ising distribution with interaction constants $(J_{e}(\vert\varphi\vert))_{e\in E}$:
indeed, the Dirichlet form (\ref{Dirichlet-form}) can be written as
\begin{displaymath}
\mathcal{E}(\varphi,\varphi)=\sum_{x\in V}\kappa_{x} \varphi(x)^{2}+
\sum_{x\in V}(\varphi(x))^2(\sum_{y\sim x} W_{x,y})-
2\sum_{e\in E}J_e(\vert\varphi\vert) \operatorname{sign}(\varphi(e_{+}))\operatorname{sign}(\varphi(e_{-})).
\end{displaymath}
Similarly, when $\varphi\sim P_{\varphi}^{\{x_0\},\sqrt{2u}}$ has boundary condition $\sqrt{2u}\ge 0$ on $x_0$, then $(\operatorname{sign}(\varphi_{x}))_{x\in V}$ has an Ising distribution
with interaction $(J_{e}(\vert\varphi\vert))_{e\in E}$ and conditioned on $\sigma_{x_0}=+1$.

Now, conditionally on $\varphi$, $\mathcal{O}(\tilde{\varphi})$ has FK-Ising distribution  with weights
$(1-e^{-2J_{e}(\vert\varphi\vert)})_{e\in E}$. Indeed, the probability for $e\in\mathcal{O}(\tilde{\varphi})$ conditionally on $\varphi$ is $1-e^{-2J_{e}(\vert\varphi\vert)}$,  by Lemma \ref{lem:fki}, as in Proposition \ref{FK-Ising}. 

Note that, given that $\mathcal{O}(\tilde{\varphi})$ has FK-Ising distribution, the fact that the sign of on its connected components is distributed independently and uniformly in $\{-1,1\}$ can be seen either as a consequence of Proposition \ref{FK-Ising}, or from Theorem \ref{thm:Lupu}.

Given $\varphi=(\varphi_x)_{x\in V}$ on the discrete graph $\mathcal{G}$, we introduce in Definition \ref{def_FK-Ising} as the random set of edges which has the distribution of $\mathcal{O}(\tilde{\varphi})$ conditionally on $\varphi=(\varphi_x)_{x\in V}$. 
\begin{definition}\label{def_FK-Ising}
We let $\mathcal{O}(\varphi)$ be a random set of edges which has the distribution of $\mathcal{O}(\tilde{\varphi})$ conditionally on $\varphi=(\varphi_x)_{x\in V}$ given by Lemma \ref{lem:fki}.
\end{definition}
\subsection{Distribution of $\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$  conditionally on $\mathcal{L}_{\frac{1}{2}}$ }
\label{randomcurrent}
The distribution of $\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$  conditionally on $\mathcal{L}_{\frac{1}{2}}$ can be retrieved by  Corollary 3.6 in \cite{Lupu2014LoopsGFF}, which reads as follows. 
\begin{lemma}[Corollary 3.6 in \cite{Lupu2014LoopsGFF}]
\label{36} Conditionally on $\mathcal{L}_{\frac{1}{2}}$, the events $e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$, $e\in E\setminus\mathcal{O}(\mathcal{L}_{\frac{1}{2}})$, are independent and have probability
\begin{equation}
\label{cp}
\exp\left(-2 W_{e} \sqrt{L_{e_{+}}(\mathcal{L}_{\frac{1}{2}})L_{e_{-}}(\mathcal{L}_{\frac{1}{2}})}\right).
\end{equation}
\end{lemma}
This result gives rise, together with Theorem \ref{thm:Lupu}, to the following discrete version of Lupu's isomorphism, which is stated without any recourse to the cable graph induced by $\mathcal{G}$. 
\begin{definition}
\label{def:out}
Let $(\omega_{e})_{e\in E}\in\lbrace 0,1\rbrace^{E}$ be a percolation defined as follows: conditionally on $\mathcal{L}_{\frac{1}{2}}$, the random variables 
$(\omega_{e})_{e\in E}$ are independent, and $\omega_{e}$ equals $0$ with conditional probability given by \eqref{cp}.

Let $\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$ the set of edges:
\begin{displaymath}
\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})=\mathcal{O}(\mathcal{L}_{\frac{1}{2}})
\cup \lbrace e\in E\vert \omega_{e}=1\rbrace.
\end{displaymath}
\end{definition}
\begin{proposition}[Discrete version of Lupu's isomorphism, Theorem 1 bis in \cite{Lupu2014LoopsGFF}]
\label{PropIsoLupuLoops}
Given a loop soup $\mathcal{L}_{\frac{1}{2}}$, let $\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$ be as in Definition \ref{def:out}.
Let $(\sigma_{x})_{x\in V}\in\lbrace -1,+1\rbrace^{V}$ be random spins taking constant values on
clusters induced by $\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$ 
($\sigma_{e_{-}}=\sigma_{e_{+}}$ if $e\in \mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$) and such that the values on each cluster, conditional on $\mathcal{L}_{\frac{1}{2}}$ and $\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$, are independent and uniformly distributed. Then
\begin{displaymath}
\left(\sigma_{x}\sqrt{2 L_{x}(\mathcal{L}_{\frac{1}{2}})}\right)_{x\in V}
\end{displaymath}
is a Gaussian free field distributed according to $P_{\varphi}$.
\end{proposition}

Proposition \ref{PropIsoLupuLoops}  induces the following coupling between FK-Ising and random currents. 

If $V$ is finite, a \textit{random current model} on $\mathcal{G}$ with weights
$(J_{e})_{e\in E}$ is a random assignment to each edge $e$ of a non-negative integer
$\hat{n}_{e}$ such that for all $x\in V$,
\begin{displaymath}
\sum_{e~\text{adjacent to}~x}\hat{n}_{e}
\end{displaymath}
is even, which is called the \textit{parity condition}. The probability of a configuration
$(n_{e})_{e\in E}$ satisfying the parity condition is
\begin{displaymath}
\mathbb{P}^{\rm RC}_{J}(\forall e\in E, \hat{n}_{e}=n_{e})=
\dfrac{1}{\mathcal{Z}^{\rm RC}_{J}}\prod_{e\in E}\dfrac{(J_{e})^{n_{e}}}{n_{e}!},
\end{displaymath}
where actually $\mathcal{Z}^{\rm RC}_{J}=\mathcal{Z}^{\rm Isg}_{J}$. Let
\begin{displaymath}
\mathcal{O}(\hat{n})=\lbrace e\in E\vert \hat{n}_{e}>0\rbrace.
\end{displaymath}
The open edges in $\mathcal{O}(\hat{n})$ induce clusters on the graph $\mathcal{G}$.

Given a loop soup $\mathcal{L}_{\alpha}$, we denote by $N_{e}(\mathcal{L}_{\alpha})$ the number of times the loops in $\mathcal{L}_{\alpha}$ cross the nonoriented edge $e\in E$. The transience of the Markov jump process $X$ implies that
$N_{e}(\mathcal{L}_{\alpha})$ is a.s. finite for all $e\in E$. If $\alpha=\frac{1}{2}$, we have the following identity (see for instance \cite{Werner2015}):

\begin{LoopsRC}
Assume $V$ is finite and consider the loop soup $\mathcal{L}_{\frac{1}{2}}$. Conditionally on the occupation field $(L_{x}(\mathcal{L}_{\frac{1}{2}}))_{x\in V}$, 
$(N_{e}(\mathcal{L}_{\frac{1}{2}}))_{e\in E}$ is distributed as a random current model with weights 
$\left(2W_{e}\sqrt{L_{e_{-}}(\mathcal{L}_{\frac{1}{2}})L_{e_{+}}
(\mathcal{L}_{\frac{1}{2}})}\right)_{e\in E}$. If $\varphi$ is the GFF on $\mathcal{G}$ given by Le Jan's or Lupu's isomorphism, then these weights are
$(J_{e}(\vert\varphi\vert))$.
\end{LoopsRC}

Conditionally on the occupation field 
$(L_{x}(\mathcal{L}_{\frac{1}{2}}))_{x\in V}$, 
$\mathcal{O}(\mathcal{L}_{\frac{1}{2}})$ are the edges occupied by a random current and 
$\mathcal{O}_{+}(\mathcal{L}_{\frac{1}{2}})$ the edges occupied by FK-Ising. 
Lemma \ref{lem:fki} and Proposition \ref{PropIsoLupuLoops} imply the following coupling, as noted by Lupu and Werner in 
\cite{lupu-werner}.

\begin{proposition}[Random current and FK-Ising coupling, 
\cite{lupu-werner}]
\label{RCFKIsing}
Assume $V$ is finite. Let $\hat{n}$ be a random current on $\mathcal{G}$ with weights
$(J_{e})_{e\in E}$. Let $(\omega_{e})_{e\in E}\in\lbrace 0,1\rbrace^{E}$ be an independent percolation, each edge being opened (value $1$) independently with probability 
$1-e^{-J_{e}}$. Then
\begin{displaymath}
\mathcal{O}(\hat{n})\cup\lbrace e\in E\vert \omega_{e}=1\rbrace
\end{displaymath}
is distributed like the open edges in an FK-Ising with weights 
$(1-e^{-2 J_{e}})_{e\in E}$.
\end{proposition}
 
\subsection{Generalized second Ray-Knight ``version'' of Lupu's isomorphism}\label{sec:glupu}
We are now in a position to state the coupled version of the second Ray-Knight theorem.
\begin{theorem}
\label{Lupu}
Let $x_{0}\in V$. Let $(\varphi_{x}^{(0)})_{x\in V}$ with distribution $P_{\varphi}^{\lbrace x_{0}\rbrace,0}$, and define $\mathcal{O}(\varphi^{(0)})$ as in Definition \ref{def_FK-Ising}. 
Let $X$ be an independent Markov jump process started from $x_{0}$. 

Fix $u>0$. If $\tau_{u}^{x_{0}}&lt;\zeta$, we 
let $\mathcal{O}_{u}$ be the random subset of $E$ which contains $\mathcal{O}(\varphi_{x}^{(0)})$, the edges used by the path $(X_{t})_{0\leq t\leq \tau_{u}^{x_{0}}}$, and additional edges $e$ opened conditionally independently with probability
\begin{displaymath}
1-e^{W_{e}\vert\varphi_{e_{-}}^{(0)}\varphi_{e_{+}}^{(0)}\vert - 
W_{e}\sqrt{(\varphi_{e_{-}}^{(0)2}+2\ell_{e_{-}}(\tau_{u}^{x_{0}}))
(\varphi_{e_{+}}^{(0)2}+2\ell_{e_{+}}(\tau_{u}^{x_{0}}))}}.
\end{displaymath}
We let $\sigma\in\lbrace -1,+1\rbrace^{V}$ be random spins sampled uniformly independently on each cluster induced by
$\mathcal{O}_{u}$, pinned at $x_0$, i.e. $\sigma_{x_0}=1$, and define
\begin{displaymath}
\varphi_{x}^{(u)}:=\sigma_{x}\sqrt{\varphi_{x}^{(0)2}+2\ell_{x}(\tau_{u}^{x_{0}})}.
\end{displaymath}

Then, conditionally on $\tau_{u}^{x_{0}}&lt;\zeta$, $\varphi^{(u)}$ has  distribution $P_{\varphi}^{\lbrace x_{0}\rbrace,\sqrt{2u}}$, and
$\mathcal{O}_{u}$ has distribution $\mathcal{O}(\varphi^{(u)})$ conditionally on $\varphi^{(u)}$.
\end{theorem}
\begin{remark}
One consequence of that coupling is that the path $(X_{s})_{s\le \tau_{u}^{x_{0}}}$ stays in the 
positive connected component of ${x_0}$ for $\varphi^{(u)}$. This yields a coupling between the range
of the Markov chain and the sign component of $x_{0}$ inside a GFF $P_{\varphi}^{\lbrace x_{0}\rbrace,\sqrt{2u}}$.
\end{remark}

\noindent{\it Proof of Theorem \ref{Lupu}:~}
The proof is based on
\cite{Lupu2014LoopsGFF}.  Let $D=V\setminus\{x_0\}$, and let $\tilde{\mathcal{L}}_{\frac{1}{2}}$ be the loop soup of intensity $1/2$ on the cable graph $\tilde{\mathcal{G}}$, which we decompose into $\tilde{\mathcal{L}}_{\frac{1}{2}}^{(x_0)}$ (resp. $\tilde{\mathcal{L}}_{\frac{1}{2}}^{D}$) the loop soup hitting (resp. not hitting) $x_0$, which are independent. We let $\mathcal{L}_{\frac{1}{2}}$ and $\mathcal{L}_{\frac{1}{2}}^{(x_0)}$ (resp.  $\mathcal{L}_{\frac{1}{2}}^{D}$) be the prints of these loop soups on $V$ (resp. on $D=V\setminus\{x_0\}$). We condition on $L_{x_0}(\mathcal{L}_{\frac{1}{2}})=u$. 

Theorem \ref{thm:Lupu} implies (recall also Definition \ref{def_FK-Ising}) that we can couple $\tilde{\mathcal{L}}_{\frac{1}{2}}^{D}$ with $\varphi^{(0)}$ so that 
$L_x(\mathcal{L}_{\frac{1}{2}}^{D})=\varphi_x^{(0)2}/2$ for all $x\in V$, and 
$\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})=\mathcal{O}(\varphi^{(0)})$. 

Define 
$\varphi^{(u)}=(\varphi^{(u)}_x)_{x\in V}$ from 
$\tilde{\mathcal{L}}_{\frac{1}{2}}$ by, for all $x\in V$, 
\begin{equation*}
\label{abs}
|\varphi_x^{(u)}|=\sqrt{2L_x(\mathcal{L}_{\frac{1}{2}})}
\end{equation*}
and $\varphi_x^{(u)}=\sigma_x|\varphi_x^{(u)}|$, where $\sigma\in\{-1,+1\}^V$ are random spins sampled uniformly independently on each cluster induced by $\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})$, pinned at $x_0$,  i.e. $\sigma_{x_0}=1$. Then, by Theorem \ref{thm:Lupu}, $\varphi^{(u)}$ has distribution $P_{\varphi}^{\lbrace x_{0}\rbrace,\sqrt{2u}}$.

For all $x\in V$, we have
$$L_x(\tilde{\mathcal{L}}_{\frac{1}{2}})=\frac{\varphi_x^{(0)2}}{2}+L_x(\mathcal{L}_{\frac{1}{2}}^{(x_0)}).$$

On the other hand, conditionally on $L_.(\mathcal{L}_{\frac{1}{2}})$,
\begin{align*}
&amp;\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})\,|\,
e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}^D)\cup\mathcal{O}(\mathcal{L}_{\frac{1}{2}}))
=\frac{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}))}{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}^D)\cup\mathcal{O}(\mathcal{L}_{\frac{1}{2}}))}=
\frac{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})\,|\,
e\not\in\mathcal{O}(\mathcal{L}_{\frac{1}{2}}))}{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}^D)\,|\,
e\not\in\mathcal{O}(\mathcal{L}_{\frac{1}{2}}))}\\
&amp;=\frac{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}})\,|\,
e\not\in\mathcal{O}(\mathcal{L}_{\frac{1}{2}}))}{\mathbb{P}(e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}^D)\,|\,
e\not\in\mathcal{O}(\mathcal{L}_{\frac{1}{2}}^D))}
=\exp\left(-W_e\sqrt{L_{e_-}(\mathcal{L}_{\frac{1}{2}})L_{e_+}(\mathcal{L}_{\frac{1}{2}})}
+W_e\sqrt{L_{e_-}(\mathcal{L}_{\frac{1}{2}}^D)L_{e_+}(\mathcal{L}_{\frac{1}{2}}^D)}\right),
\end{align*}
where we use in the third equality that the event $e\not\in\mathcal{O}(\tilde{\mathcal{L}}_{\frac{1}{2}}^D)$ is measurable with respect to the $\sigma$-field generated by $\tilde{\mathcal{L}}_{\frac{1}{2}}^D$, which is independent of $\tilde{\mathcal{L}}_{\frac{1}{2}}^{(x_0)}$, and where we use Lemma \ref{36} in the fourth equality, for $\tilde{\mathcal{L}}_{\frac{1}{2}}$ and for $\tilde{\mathcal{L}}_{\frac{1}{2}}^D$. 

We conclude the proof by observing that  $\mathcal{L}_{\frac{1}{2}}^{(x_0)}$ conditionally on $L_{x_0}(\mathcal{L}_{\frac{1}{2}}^{(x_0)})=u$ has the law of the occupation field of the Markov chain $\ell(\tau_{u}^{x_{0}})$
under $\mathbb{P}_{x_{0}}(\cdot \vert \tau_{u}^{x_{0}}&lt;\zeta)$.
{\hfill $\Box$}
\section{Inversion of the signed isomorphism}
\label{sec:inversion}
In \cite{SabotTarres2015RK}, Sabot and TarrÃ¨s give a new proof of the generalized second Ray-Knight theorem together with a construction that inverts the coupling between the square of a GFF conditioned by its value at a vertex $x_{0}$ and the excursions of the jump process $X$ from and to $x_{0}$. 
In this paper we are interested in inverting the coupling of Theorem \ref{Lupu} with the signed GFF : more precisely, we want to describe the law of
$(X_t)_{0\le t\le \tau_u^{x_0}}$ conditionally on $\varphi^{(u)}$. 

We present in section \ref{sec_Poisson}
an inversion involving an extra Poisson process. We provide in Section \ref{sec_dicr_time} a discrete-time description of the process and in Section \ref{sec_jump} an alternative description via jump rates.  Sections \ref{sec:lejaninv} and \ref{sec:coupinv} are respectively dedicated to a signed inversion of Le Jan's isomorphism for loop soups, and to an inversion of the coupling of random current with FK-Ising.

\subsection{A description via an extra Poisson point process}\label{sec_Poisson}

Let $(\check \varphi_x)_{x\in V}$ be a real function on $V$ such that
$\check\varphi_{x_0}=+\sqrt{2u}$ for some $u>0$. Set 
$$
\check \Phi_x=\vert\check\varphi_x\vert, \;\;\sigma_x=\operatorname{sign}(\check\varphi_x).
$$
We define a self-interacting process $(\check X_t, (\check n_e(t))_{e\in E})$ living on $V\times {\mathbb{N}}^E$ as follows.
The process $\check X$ starts at $\check X(0)=x_0$.
For $t\ge 0$, we set
$$
\check\Phi_x(t)=\sqrt{(\check\Phi_x)^2-2\check\ell_x(t)},\;\;\forall x\in V,\;\;\;\hbox{ and }\;
J_e(\check\Phi(t))=W_e \check\Phi_{e-}(t)\check\Phi_{e+}(t), \;\; \forall e\in E.
$$
where $\check\ell_x(t)=\int_0^t{{\mathbbm 1}}_{\{\check X_s=x\}}ds$ is the local time of the process $\check X$ up to time $t$.
Let $(N_e(u))_{u\ge 0}$ be an independent Poisson Point Processes on ${\mathbb R}_+$ with intensity 1, for each edge $e\in E$.
We set
$$
\check n_e(t)=
\begin{cases} 
N_e(2J_e(t)), &amp;\hbox{ if } \sigma_{e-}\sigma_{e+}=+1,
\\
0, &amp;\hbox{ if } \sigma_{e-}\sigma_{e+}=-1.
\end{cases}
$$
We also denote by $\check {\mathcal C}(t)\subset E$ the configuration of edges such that $\check n_e(t)>0$.
As time increases, the interaction parameters $J_{e}(\check\Phi(t))$ decreases for the edges neighboring $\check X_t$, and at some random times $\check n_e(t)$ may drop
by 1.
The process $(\check X_t)_{t\ge 0}$ is defined as the process that jumps only at the times when one of the $\check n_e(t)$ drops by 1, as follows:
\begin{itemize}
\item
if $\check n_e(t)$ decreases by 1 at time $t$, but does not create a new cluster in $\check {\mathcal C}_t$, then $\check X_t$ crosses the edge
$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,
\item
if $\check n_e(t)$ decreases by 1 at time $t$, and does create a new cluster in $\check {\mathcal C}_t$,
 then $\check X_t$ moves/or stays with probability 1 on the unique extremity
of $e$ which is in the cluster of the origin $x_0$ in the new configuration.
\end{itemize}
We set
$$
\check T:=\inf\{t\ge 0,\;\;  \exists x\in V, \hbox{ s. t. } \check\Phi_x(t)=0\},
$$
clearly, the process is well-defined up to time $\check T$.
\begin{proposition}
For all $0\le t\le \check T$, $\check X_t$ is in the connected component of $x_0$ of the configuration $\check {\mathcal C}(t)$. If $V$ is finite,
the process ends at $x_0$, i.e. $\check X_{\check T}=x_0$.
\end{proposition}

\begin{theorem}
\label{thm-Poisson}
Assume that $V$ is finite.
With the notation of Theorem \ref{Lupu}, conditioned on $\varphi^{(u)}=\check\varphi$, $(X_{t})_{t\le \tau_{u}^{x_{0}}}$ has the law
of $(\check X_{\check T-t})_{0\le t\le \check T}$.

Moreover, conditioned on  $\varphi^{(u)}=\check\varphi$, $(\varphi^{(0)},\mathcal{O}(\varphi^{(0)}))$ has the law of
$(\sigma'_x\check\Phi_x(\check T), \check{\mathcal C}(\check T))$ where $(\sigma'_x)_{x\in V}\in \lbrace -1,+1\rbrace^{V}$ are random spins sampled uniformly independently on 
each cluster induced by $\check{\mathcal C}(\check T)$,
with the condition that $\sigma'_{x_0}=+1$.

If $V$ is infinite, then $P_{\varphi}^{\lbrace x_{0}\rbrace, \sqrt{2u}}$-a.s.,
$\check X_t$ (with the initial condition $\check\varphi=\varphi^{(u)}$)
ends at $x_0$, i.e. $\check T&lt;+\infty$ and $\check X_{\check T}=x_0$. 
All previous conclusions for the finite case still hold.
\end{theorem}

\subsection{Discrete time description of the process}
\label{sec_dicr_time}

We give a discrete time description of the process
$(\check X_t, (\check n_e(t))_{e\in E})$
that appears in the previous section.
Let $t_{0}=0$ and $0&lt;t_{1}&lt;\dots&lt;t_{j}$ be the stopping times when one of the
stacks $n_e(t)$ decreases by $1$, where $t_{j}$ is the time when one of the stacks is completely depleted. It is elementary to check the following:

\begin{proposition}
\label{PropDiscrTime}
The discrete time process
$(\check X_{t_{i}}, (\check n_e(t_{i}))_{e\in E})_{0\leq i\leq j}$ is a stopped Markov process. The transition from time $i-1$ to $i$ is the following:
\begin{itemize}
\item first chose $e$ an edge adjacent to the vertex $\check X_{t_{i-1}}$
according to a probability proportional to $\check n_e(t_{i-1})$,
\item decrease the stack $\check n_e(t_{i-1})$ by 1,
\item
if decreasing $\check n_e(t_{i-1})$ by 1 does not create a new cluster in 
$\check {\mathcal C}_{t_{i-1}}$, then $\check X_{t_{i-1}}$ crosses the edge
$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,
\item
if decreasing $\check n_e(t_{i-1})$ by 1 does create a new cluster in 
$\check {\mathcal C}_{t_{i-1}}$,
 then $\check X_{t_{i-1}}$ moves/or stays with probability 1 on the unique extremity of $e$ which is in the cluster of the origin $x_0$ in the new configuration.
\end{itemize}
\end{proposition}

\subsection{An alternative description via jump rates}\label{sec_jump}
We provide an alternative description of the process $(\check X_t, \check {\mathcal C}(t))$ that appears in Section \ref{sec_Poisson}.

\begin{proposition}\label{prop-jump}
The process $(\check X_t, \check{\mathcal C}(t))$ defined in section \ref{sec_Poisson} can be alternatively described by its jump rates :
conditionally on its past at time $t$, if $\check X_t=x$, $y\sim x$ and $\lbrace x,y\rbrace\in \check{\mathcal{C}}(t)$, then
\begin{itemize}
\item[(1)]  $\check X$ jumps to $y$ without modification of $\check{\mathcal C}(t)$ at rate
\begin{displaymath}
W_{x,y}\dfrac{\check\Phi_{y}(t)}{\check\Phi_{x}(t)}
\end{displaymath}
\item[(2)]  the edge $\lbrace x,y\rbrace$ is closed in $\check{\mathcal C}(t)$ at rate
\begin{displaymath}
2W_{x,y}\dfrac{\check\Phi_{y}(t)}{\check\Phi_{x}(t)}
\left(e^{2W_{x,y}\check\Phi_{x}(t)\check\Phi_{y}(t)}-1\right)^{-1}
\end{displaymath}
and, conditionally on that last event:

- if $y$ is connected to
$x$ in the configuration $\check {\mathcal C}(t)\setminus\{x,y\}$, then $\check X$ simultaneously jumps to $y$ with probability $1/2$ and stays at $x$ with probability $1/2$

- otherwise $\check X_t$ moves/or stays with probability 1 on the unique extremity
of $\{x,y\}$ which is in the cluster of the origin $x_0$ in the new configuration.
\end{itemize}
\end{proposition}
\begin{remark}
It is clear from this description that the joint process $(\check X_t, \check {\mathcal C}(t), \check \Phi(t))$ is Markov process, and well defined up to the time
$$
\check T:=\inf\{t\ge 0:\;\;  \exists x\in V, \hbox{ s.t. } \check\Phi_x(t)=0\}.
$$
\end{remark}

\begin{remark}
One can also retrieve the process in Section \ref{sec_Poisson} from the representation in Proposition \ref{prop-jump} as follows.
Consider the representation of Proposition \ref{prop-jump} on the graph where each edge $e$ is replaced by a large number $N$ of 
parallel edges with conductance $W_e/N$. Consider now $\check n^{(N)}_{x,y}(t)$ the number of parallel edges that are open in the configuration
$\check {\mathcal C}(t)$ between $x$ and $y$. Then, when $N\to\infty$, $(\check n^{(N)}(t))_{t\ge0}$,  converges in law to 
$(\check n(t))_{t\ge0}$,  defined in section \ref{sec_Poisson}.
\end{remark}

\noindent {\it Proof of Proposition \ref{prop-jump}:~}
Assume $\check X_t=x$, fix $y\sim x$ and let $e=\{x,y\}$. Recall that $\{x,y\}\in\check{\mathcal C}(t)$ iff $\check n_e(t)\ge1$.

Let us first prove (1):
\begin{align*}
&amp;\mathbb{P}\left(\check X\text{ jumps to $y$ on time interval $[t,t+\Delta t]$ without modification of }\check{\mathcal C}(t)\,|\,\{x,y\}\in\check{\mathcal C}(t)\right)\\
&amp;=\frac{1}{2}\mathbb{P}\left(\check n_e(t)-\check n_e(t+\Delta t)=1,\,\check n_e(t+\Delta t)\ge1\,|\,\check n_e(t)\ge1\right)\\
&amp;=\frac{1}{2}(2J_e(t)-2J_e(t+\Delta t))+o(\Delta t)=W_{xy}\dfrac{\check\Phi_{y}(t)}{\check\Phi_{x}(t)}\Delta t+o(\Delta t).
\end{align*}
Similarly, (2) follows from the following computation:
\begin{align*}
&amp;\mathbb{P}\left(\{x,y\}\text{ closed in }\check{\mathcal C}(t+\Delta t)\,|\,\{x,y\}\in\check{\mathcal C}(t)\right)
=\mathbb{P}\left(n_e(t+\Delta t)=0\,|\,\check n_e(t)\ge1\right)\\
&amp;=\frac{\mathbb{P}\left(\check n_e(t)=1,\,\check n_e(t+\Delta t)=0\right)}{\mathbb{P}\left(\check n_e(t)\ge1\right)}
=\frac{e^{-2J_e(t)}2J_e(t)}{1-e^{-2J_e(t)}}(J_e(t)-J_e(t+\Delta t))+o(\Delta t)
\end{align*}
{\hfill $\Box$}

We easily deduce from the Proposition \ref{prop-jump} and Theorem \ref{thm-Poisson2} the following alternative inversion of the coupling in Theorem \ref{Lupu}.
\begin{theorem}\label{thm-jump-rates}
With the notation of Theorem \ref{Lupu}, conditionally on $(\varphi^{(u)},\mathcal{O}_{u})$, $(X_{t})_{t\le \tau_{u}^{x_{0}}}$ has the law
of self-interacting process $(\check X_{\check T-t})_{0\le t\le \check T}$ defined by jump rates of Proposition \ref{prop-jump}
starting with 
$$
\check \Phi_x=\sqrt{(\varphi_{x}^{(0)})^2+2\ell_{x}(\tau_{u}^{x_{0}})} \hbox{ and } \check{\mathcal C}(0)=\mathcal{O}_{u}.
$$
Moreover $(\varphi^{(0)},\mathcal{O}(\varphi^{(0)}))$ has the same law as
$(\sigma'\check\Phi(T), \check{\mathcal C}(\check T))$ where $(\sigma'_x)_{x\in V}$ is a configuration of signs obtained by picking a sign at random independently on
each connected component of $\check{\mathcal C}(T)$, with the condition that the component of $x_0$ has a + sign.

\end{theorem}

\subsection{A signed version of Le Jan's isomorphism for loop soup}
\label{sec:lejaninv}
Let us first recall how the loops in $\mathcal{L}_{\alpha}$ are connected to the excursions of the jump process $X$.
\begin{proposition}[From excursions to loops]
\label{PropPD}
Let $\alpha>0$ and $x_{0}\in V$. 
$L_{x_{0}}(\mathcal{L}_{\alpha})$ is distributed according to a Gamma
$\Gamma(\alpha, G(x_{0},x_{0}))$ law, where $G$ is the Green's function. Let $u>0$, and consider the path $(X_{t})_{0\leq t\leq \tau_{u}^{x_{0}}}$ conditioned on $\tau_{u}^{x_{0}}&lt;\zeta$. Let $(Y_{j})_{j\geq 1}$ be an independent Poisson-Dirichlet partition $PD(0,\alpha)$ of $[0,1]$. Let $S_{0}=0$ and
\begin{displaymath}
S_{j}=\sum_{i=1}^{j}Y_{i}.
\end{displaymath}
Let
\begin{displaymath}
\tau_{j}= \tau_{u S_{j}}^{x_{0}}.
\end{displaymath}
Consider the family of paths
\begin{displaymath}
\left((X_{\tau_{j-1}+t})_{0\leq t\leq \tau_{j}-\tau_{j-1}}\right)_{j\geq 1}.
\end{displaymath}
It is a countable family of loops rooted in $x_{0}$. It has the same law as the family of all the loops in $\mathcal{L}_{\alpha}$ that visit $x_{0}$, conditioned on $L_{x_0}(\mathcal{L}_{\alpha})=u$.
\end{proposition}


Next we describe how to invert the discrete version fo Lupu's isomorphism Proposition \ref{PropIsoLupuLoops} for the loop-soup in the same way as in Theorem \ref{thm-Poisson}.

Let $(\check \varphi_x)_{x\in V}$ be a real function on $V$ such that
$\check\varphi_{x_0}=+\sqrt{2u}$ for some $u>0$. Set 
$$
\check \Phi_x=\vert\check\varphi_x\vert, \;\;\sigma_x=\operatorname{sign}(\check\varphi_x).
$$

Let $(x_{i})_{1\leq i\leq\vert V\vert}$ be an enumeration of $V$ (which may be infinite).
We define by induction the self interacting processes
$((\check X_{i,t})_{1\leq i\leq\vert V\vert}, 
(\check n_e(t))_{e\in E})$. 
$\check{T}_{i}$ will denote the end-time for $\check X_{i,t}$, and
$\check{T}^{+}_{i}=\sum_{1\leq j\leq i}\check{T}_{j}$.
By definition, $\check{T}^{+}_{0}=0$.
$L(t)$ will denote
\begin{displaymath}
L_{x}(t):=\sum_{1\leq i\leq\vert V\vert}
\check{\ell}_{x}(i,0\vee(t-\check{T}^{+}_{i})),
\end{displaymath}
where $\check{\ell}_{x}(i,t)$ are the occupation times for
$\check X_{i,t}$.
For $t\ge 0$, we set
$$
\check\Phi_x(t)=\sqrt{(\check\Phi_x)^2-2L_x(t)},\;\;\forall x\in V,\;\;\;\hbox{ and }\;
J_e(\check\Phi(t))=W_e \check\Phi_{e-}(t)\check\Phi_{e+}(t), \;\; \forall e\in E.
$$
The end-times $\check{T}_{i}$ are defined by inductions as
\begin{displaymath}
\check{T}_{i}=\inf\lbrace t\geq 0\vert 
\check{\Phi}_{\check{X}_{i,t}}(t+\check{T}^{+}_{i-1})=0\rbrace.
\end{displaymath}
Let $(N_e(u))_{u\ge 0}$ be independent Poisson Point Processes on ${\mathbb R}_+$ with intensity 1, for each edge $e\in E$.
We set
$$
\check n_e(t)=
\begin{cases} 
N_e(2J_e(t)), &amp;\hbox{ if } \sigma_{e-}\sigma_{e+}=+1,
\\
0, &amp;\hbox{ if } \sigma_{e-}\sigma_{e+}=-1.
\end{cases}
$$
We also denote by $\check {\mathcal C}(t)\subset E$ the configuration of edges such that $\check n_e(t)>0$.
$\check X_{i,t}$ starts at $x_{i}$.
For $t\in[\check{T}^{+}_{i-1},\check{T}^{+}_{i}]$,
\begin{itemize}
\item
if $\check n_e(t)$ decreases by 1 at time $t$, but does not create a new cluster in $\check {\mathcal C}_t$, then $\check X_{i,t-\check{T}^{+}_{i-1}}$ crosses the edge
$e$ with probability ${1/2}$ or does not move with probability ${1/2}$,
\item
if $\check n_e(t)$ decreases by 1 at time $t$, and does create a new cluster in $\check {\mathcal C}_t$,
 then $\check X_{i,t-\check{T}^{+}_{i-1}}$ moves/or stays with probability 1 on the unique extremity
of $e$ which is in the cluster of the origin $x_i$ in the new configuration.
\end{itemize}

By induction, using Theorem \ref{thm-Poisson}, we deduce the following:

\begin{theorem}
\label{ThmPoissonLoopSoup}
Let $\varphi$ be a GFF on $\mathcal{G}$ with the law $P_{\varphi}$.
If one sets $\check{\varphi}=\varphi$ in the preceding construction, then
for all $i\in \lbrace 1,\dots,\vert V\vert\rbrace$,
$\check{T}_{i}&lt;+\infty$, 
$\check{X}_{i,\check{T}_{i}} = x_{i}$ and the
path $(\check{X}_{i,t})_{t\leq\check{T}_{i}}$ has the same law as a concatenation in $x_{i}$ of all the loops in a loop-soup
$\mathcal{L}_{1/2}$ that visit $x_{i}$, but none of the
$x_{1},\dots,x_{i-1}$. To retrieve the loops out of each path
$(\check{X}_{i,t})_{t\leq\check{T}_{i}}$, on has to partition it according to
a Poisson-Dirichlet partition as in Proposition \ref{PropPD}.
The coupling between the GFF $\varphi$ and the loop-soup obtained from
$((\check X_{i,t})_{1\leq i\leq\vert V\vert}, 
(\check n_e(t))_{e\in E})$ is the same as in Proposition
\ref{PropIsoLupuLoops}.
\end{theorem}

\subsection{Inverting the coupling of random current with FK-Ising}
\label{sec:coupinv}
By combining Theorem \ref{ThmPoissonLoopSoup} and the discrete time
description of Section \ref{sec_dicr_time}, and by conditionning on the occupation field of the loop-soup, one deduces an inversion of the coupling 
of Proposition \ref{RCFKIsing} between the random current and FK-Ising.

We consider that the graph $\mathcal{G}=(V,E)$ and that the edges are endowed with weights $(J_{e})_{e\in E}$. Let
$(x_{i})_{1\le i\le \vert V\vert}$ be an enumeration of $V$.
Let $\check{\mathcal{C}}(0)$ be a subset of open edges of $E$.
Let $(\check{n}_{e}(0))_{e\in E}$ be a family of 
random integers such that
$\check{n}_{e}(0)=0$ if $e\not\in\check{\mathcal{C}}(0)$, and
$(\check{n}_{e}(0)-1)_{e\in\check{\mathcal{C}}(0)}$ 
are independent Poisson random variables, where 
$\mathbb{E}[\check{n}_{e}(0)-1]=2J_{e}$.

We will consider a family of discrete time self-interacting processes
$((\check X_{i,j})_{1\leq i\leq \vert V\vert},
(\check{n}_{e}(j))_{e\in E})$. $\check X_{i,j}$ starts at $j=0$ at
$x_{i}$ and is defined up to a integer time $\check{T}_{i}$.
Let $\check{T}_{i}^{+}=\sum_{1\leq k\leq i}\check{T}_{k}$, with
$\check{T}_{0}^{+}=0$. The end-times $\check{T}_{i}$ are defined by induction as
\begin{displaymath}
\check{T}_{i}=
\inf\Big\lbrace j\geq 0\Big\vert 
\sum_{e~\text{edge adjacent to}~\check X_{i,j}}
\check{n}_{e}(j+\check{T}_{i-1}^{+})=0\Big\rbrace.
\end{displaymath}
For $j\geq 1$, $\check{\mathcal{C}}(j)$ will denote
\begin{displaymath}
\check{\mathcal{C}}(j)=\lbrace e\in E\vert \check{n}_{e}(j)\geq 1\rbrace,
\end{displaymath}
which is consistent with the notation $\check{\mathcal{C}}(0)$.

The evolution is the following. For 
$j\in \lbrace \check{T}_{i-1}^{+}+1,\dots, \check{T}_{i}^{+}\rbrace$, the transition from time $j-1$ to time $j$ is the following:
\begin{itemize}
\item first chose an edge $e$ adjacent to the vertex
$\check{X}_{i,j-1-\check{T}_{i-1}^{+}}$ with probability proportional to
$\check{n}_{e}(j-1)$,
\item decrease the stack $\check{n}_{e}(j-1)$ by 1,
\item if decreasing $\check{n}_{e}(j-1)$ by 1 does not create a new cluster in  $\check{\mathcal{C}}(j-1)$, then 
$\check{X}_{i,\cdot}$ crosses $e$ with probability $1/2$ and
does not move with probability $1/2$.
\item if decreasing $\check{n}_{e}(j-1)$ by 1 does create a new cluster in  $\check{\mathcal{C}}(j-1)$, then $\check{X}_{i,\cdot}$
moves/or stays with probability 1 on the unique extremity of $e$ which is in the cluster of the origin $x_{i}$ in the new configuration.
\end{itemize}

Denote $\hat{n}_{e}$ the number of times the edge $e$ has been crossed, in both directions, by all the walks
$((\check{X}_{i,j})_{0\le j\le \check{T}_{i}})_{1\le i\le\vert V\vert}$.

\begin{proposition}
A.s., for all $i\in\lbrace 1,\dots,\vert V\vert\rbrace$,
$\check{T}_{i}&lt;+\infty$ and $\check{X}_{i,\check{T}_{i}}=x_{i}$. If the initial configuration of open edges
$\check{\mathcal{C}}(0)$ is random and follows an FK-Ising distribution
with weights $(1-e^{-2 J_{e}})_{e\in E}$, then the family of integers
$(\hat{n}_{e})_{e\in E}$ is distributed like a random current with weights
$(J_{e})_{e\in E}$. Moreover, the coupling between the random current and the FK-Ising obtained this way is the same as the one given by
Proposition \ref{RCFKIsing}.
\end{proposition}


\section{Proof of theorem \ref{thm-Poisson} }
\label{sec:proof}
\subsection{Case of finite graph without killing measure}
\label{sec:pfinite}
Here we will assume that $V$ is finite and that the killing measure
$\kappa\equiv 0$.

In order to prove Theorem \ref{thm-Poisson}, we first enlarge the state space of the process $(X_t)_{t\ge 0}$. We define a process
$(X_t,(n_e(t)))_{t\ge 0}$ living on the space $V\times {\mathbb N}^E$ as follows. Let 
$\varphi^{(0)}\sim P_{\varphi}^{\{x_0\},0}$ be a GFF pinned at $x_0$.
Let $\sigma_x=\hbox{sign}(\varphi^{(0)}_x)$ be the signs of the GFF with the convention that $\sigma_{x_0}=+1$.
The process $(X_t)_{t\ge 0}$ is as usual the Markov Jump process starting at $x_0$ with jump rates $(W_e)$. We set
\begin{equation}
\label{Phi-J}
\Phi_x=\vert\varphi^{(0)}_x\vert, \;\; \Phi(t)=\sqrt{\Phi_x^2+2\ell_x(t)}, \;\;\;\forall x\in V, \;\;\; J_e(\Phi(t))=W_e \Phi_{e-}(t)\Phi_{e+}(t), \;\;\; \forall e\in E.
\end{equation}
The initial values $(n_e(0))$ are choosen independently on each edge with distribution
$$
n_e(0)\sim
\begin{cases}
0,&amp; \hbox{ if $\sigma_{e-}\sigma_{e+}=-1$}
\\
\mathcal{P}(2J_e(\Phi)),&amp; \hbox{ if $\sigma_{e-}\sigma_{e+}=+1$}
\end{cases}
$$
where ${\mathcal{P}}(2J_e(\Phi))$ is a Poisson random variable with parameter $2J_e(\Phi)$. Let $((N_e(u))_{u\ge 0})_{e\in E}$ be independent Poisson point processes 
on ${\mathbb R}_+$ with intensity 1. We define the process $(n_e(t))$ by
$$
n_e(t)=n_e(0)+N_e(J_e(\Phi(t)))-N_e(J_e(\Phi))+K_e(t),
$$
where $K_e(t)$ is the number of crossings of the edge $e$ by the Markov jump process $X$ before time $t$.
\begin{remark}
Note that compared to the process defined in Section \ref{sec_Poisson}, the speed of the Poisson process is related to $J_e(\Phi(t))$ and not $2J_e(\Phi(t))$.
\end{remark}
We will use the following notation
$$
{\mathcal C}(t)=\{e\in E, \;\; n_e(t)>0\}.
$$
Recall that $\tau_u^{x_0}=\inf\{t\ge 0, \; \ell_{x_0}(t)=u\}$ for $u>0$. To simplify notation, we will write $\tau_u$ for $\tau_u^{x_0}$ in the sequel.
We define $\varphi^{(u)}$ by
$$
\varphi^{(u)}_x=\sigma_x\Phi(\tau_u), \;\;\; \forall x\in V,
$$
where  $(\sigma_x)_{x\in V}\in \lbrace -1,+1\rbrace^{V}$ are random spins sampled uniformly independently on 
each cluster induced by $\check{\mathcal C}(\check T)$ with the condition that $\sigma_{x_0}=+1$.

\begin{lemma}
\label{end-distrib}
The random vector $(\varphi^{(0)}, {\mathcal C}(0), \varphi^{(u)}, {\mathcal C}(\tau_u^{x_0}))$ thus defined has the same distribution
 as $(\varphi^{(0)}, {\mathcal{O}}(\varphi^{(0)}), \varphi^{(u)}, {\mathcal{O}}_u)$ defined in Theorem \ref{Lupu}.
\end{lemma}
\begin{proof}
It is clear from construction, that ${\mathcal C}(0)$ has the same law as ${\mathcal{O}}(\varphi^{(0)})$ (cf Definition \ref{def_FK-Ising}), the FK-Ising configuration coupled with the signs of
$\varphi^{(0)}$ as in Proposition \ref{FK-Ising}. Indeed, for each edge $e\in E$ such that $\varphi^{(0)}_{e-}\varphi^{(0)}_{e+}>0$, the probability that
$n_e(0)>0$ is $1-e^{-2J_e(\Phi)}$.
Moreover, conditionally on ${\mathcal C}(0)={\mathcal{O}}(\varphi^{(0)})$, ${\mathcal C}(\tau_u^{x_0})$ has the same law as ${\mathcal{O}}_u$ defined in Theorem \ref{Lupu}. Indeed, ${\mathcal C}(\tau_u^{x_0})$
is the union of the set ${\mathcal C}(0)$, the set of edges crossed by the process $(X_u)_{u\le \tau_u^{x_0}}$, and the additional edges such that $N_e(J_e(\tau_u^{x_0}))-N_e(J_e(\Phi))>0$.
Clearly $N_e(J_e(\tau_u^{x_0}))-N(J_e(\Phi))>0$ independently with probability $1-e^{-(J_e(\Phi(\tau_u^{x_0}))-J_e(\Phi))}$ which coincides with the probability given in
Theorem \ref{Lupu}. 
\end{proof}

We will prove the following theorem that, together with Lemma \ref{end-distrib}, contains the statements of both Theorem \ref{Lupu} and \ref{thm-Poisson}.
\begin{theorem}\label{thm-Poisson2}
The random vector $\varphi^{(u)}_x$ is a GFF distributed according to $P_{\varphi}^{\{x_0\},\sqrt{2u}}$.
Moreover, conditionally on $\varphi^{(u)}_x=\check \varphi$, the process 
$$(X_{t},(n_{e}(t))_{e\in E})_{t\le \tau_u^{x_0}}$$ 
has the law of the process $(\check X_{\check T-t },(\check n_e(\check T -t))_{e\in E})_{t\le \check T}$
described in section \ref{sec_Poisson}.
\end{theorem} 
\begin{proof}
{\bf Step 1 :}
We start by a simple lemma.
\begin{lemma}\label{distrib-phi-n}
The distribution of $(\Phi:=\vert \varphi^{(0)}\vert, n_e(0))$ is given by the following formula for any bounded measurable test function $h$
\begin{multline*}
{\mathbb{E}}\left(h(\Phi, n(0))\right)= \\\sum_{(n_e)\in {\mathbb N}^E} \int_{{\mathbb R}_+^{V\setminus\{x_0\}}} d\Phi  h(\Phi, n) 
e^{-{1\over 2} \sum_{x\in V} W_x(\Phi_x)^2-\sum_{e\in E} J_e(\Phi)}
\left(\prod_{e\in E}{\frac{(2J_e(\Phi))^{n_e}}{n_e!}}\right)
2^{\#{\mathcal C}(n_e)-1}.
\end{multline*}
where the integral is on the set $\{(\Phi_x)_{x\in V}, \;\; \Phi_x>0\; \forall x\neq x_0,\; \Phi_{x_0}=0\}$ and 
$d\Phi={\frac{\prod_{x\in V\setminus\{x_0\}} d\Phi_x}{\sqrt{2\pi}^{\vert V\vert -1}}}$  
and $\#{\mathcal C}(n)$ is the number of clusters 
induced by the edges such that $n_e>0$.
\end{lemma}
\begin{proof}
Indeed, by construction, summing on possible signs of $\varphi^{(0)}$, we have
\begin{eqnarray}
\nonumber
&amp;&amp;{\mathbb{E}}\left(h(\Phi, n(0))\right)
\\
\label{int-eee}&amp;=&amp;\sum_{\sigma_x}
 \sum_{n\ll \sigma_x}
 \int_{{\mathbb R}_+^{V\setminus\{x_0\}}} d\Phi  h(\Phi, n) e^{-{1\over 2} {\mathcal E}(\sigma\Phi)}\left(\prod_{e\in E, \; \sigma_{e+}\sigma_{e-}=+1} {e^{-2J_e(\Phi)} (2J_e(\Phi))^{n_e}\over n_e!}\right).
 \end{eqnarray}
where the first sum is on the set $\{\sigma_x\in \{+1,-1\}^V, \; \sigma_{x_0}=+1\}$ and the second sum is on the set of
$\{(n_e)\in {\mathbb N}^E, \; n_e=0\hbox{ if $\sigma_{e-}\sigma_{e+}=-1$}\}$ (we write $n\ll \sigma$ to mean that $n_e$ vanishes on the edges
such that  $\sigma_{e-}\sigma_{e+}=-1$). Since
\begin{eqnarray*}
{1\over 2}{\mathcal E}(\sigma \Phi)&amp;=&amp; {1\over 2}\sum_{x\in V} W_x (\Phi_x)^2-\sum_{e\in E} J_e(\Phi)\sigma_{e-}\sigma_{e+}.
\\
&amp;=&amp;
 {1\over 2}\sum_{x\in V} W_x (\Phi_x)^2+\sum_{e\in E} J_e(\Phi) 
 -\sum_{\substack{e\in E\\\sigma_{e-}\sigma_{e+}=+1}} 2J_e(\Phi),
\end{eqnarray*}
we deduce that the integrand in (\ref{int-eee}) is equal to
\begin{eqnarray*}
 &amp;&amp; h(\Phi,n) e^{-{1\over 2} {\mathcal E}(\sigma\Phi)}\left(\prod_{e\in E, \; \sigma_{e+}\sigma_{e-}=+1} {e^{-2J_e(\Phi)} (2J_e(\Phi))^{n_e}\over n_e!}\right)
 \\
 &amp;=&amp;
h(\Phi,n)   e^{-{1\over 2} {\mathcal E}(\sigma\Phi)}e^{-\sum_{e\in E, \; \sigma_{e+}\sigma_{e-}=+1} 2J_e(\Phi)}\left(\prod_{e\in E} {(2J_e(\Phi))^{n_e}\over n_e!}\right)
 \\
  &amp;=&amp;
 h(\Phi,n)  e^{-{1\over 2}\sum_{x\in V} W_x (\Phi_x)^2-\sum_{e\in E} J_e(\Phi)}\left(\prod_{e\in E} {(2J_e(\Phi))^{n_e}\over n_e!}\right)
\end{eqnarray*}
where we used in the first equality that $n_e=0$ on the edges such that  
$\sigma_{e+}\sigma_{e-}=-1$.
Thus,
\begin{eqnarray*}
&amp;&amp;{\mathbb{E}}\left(h(\Phi, n(0))\right)
\\
&amp;=&amp;
\sum_{\sigma_x}\sum_{n_e\ll \sigma_x}
 \int_{{\mathbb R}_+^{V\setminus\{x_0\}}} d\Phi h(\Phi, n) e^{-{1\over 2}\sum_{x\in V} W_x (\Phi_x)^2-\sum_{e\in E} J_e(\Phi)}\left(\prod_{e\in E} {(2J_e(\Phi))^{n_e}\over n_e!}\right).
\end{eqnarray*}
Inverting the sum on $\sigma$ and $n$ and summing on the number of possible signs which are constant on  clusters induced by the configuration of edges
$\{e\in E, \; n_e>0\}$,
we deduce Lemma \ref{distrib-phi-n}.
\end{proof}
\noindent{\bf Step 2 :} We denote by $Z_t=(X_t, \Phi(t), n_e(t))$ the process defined previously and by
$E_{x_0, \Phi, n_0}$ its law with initial condition $(x_0, \Phi, n_0)$. 

We now introduce a process $\tilde Z_t$, which is a "time reversal" of the process $Z_t$. This process will be related to the 
process defined in section \ref{sec_Poisson} in Step 4, Lemma \ref{RN}.

For $(\tilde n_e)\in {\mathbb N}^E$ and $(\tilde \Phi_x)_{x\in V}$ such that
$$
\tilde \Phi_{x_0}=u, \;\; \tilde \Phi_x>0, \;\; \forall x\neq x_0,
$$
we define the process $\tilde Z_t=(\tilde X_t, \tilde\Phi(t), \tilde n_e(t))$  with values in $V\times {\mathbb R}_+^V\times {\mathbb Z}^E$  as follows.
The process $(\tilde X_t)$ is a Markov jump process with jump rates $(W_e)$ (so that $\tilde X\stackrel{\text{law}}{=} X$), and
$\tilde\Phi(t)$, $\tilde n_e(t)$ are defined by
\begin{eqnarray}\label{tildePhi}
\tilde \Phi_x(t)=\sqrt{\tilde \Phi_x^2-2\tilde \ell_x(t)},\;\;\;\forall x\in V,
\end{eqnarray}
where $(\tilde\ell_x(t))$ is the local time of the process $\check X$ up to time $t$,
\begin{eqnarray}\label{tilden}
\tilde n_e(t)= \tilde n_e-\left(N_e(J_e(\tilde\Phi))-N_e(J_e(\tilde\Phi(t)))\right)-\tilde K_e(t)
\end{eqnarray}
where $((N_e(u))_{u\ge 0})_{e\in E}$ are independent Poisson point process on ${\mathbb R}_+$ with intensity 1 for each edge $e$, and 
$\tilde K_e(t)$ is the number of crossings of the edge $e$ by the process $\tilde X$ before time $t$.
We set
\begin{eqnarray}\label{tildeZ}
\tilde Z_t=(\tilde X_t, (\tilde \Phi_x(t)), (\tilde n_e(t))),
\end{eqnarray}
This process is well-defined up to time
$$
\tilde T=\inf\left\{t\ge 0, \;\; \exists x\in V\; \tilde \Phi_x(t)=0\right\}.
$$
We denote by $\tilde E_{x_0, \tilde\Phi, \tilde n_0}$ its law. Clearly $\tilde Z_t=(\tilde X_t, \tilde\Phi(t), \tilde n_e(t))$ is a Markov process, we will later on make explicit its generator. 

We have the following change of variable lemma.
\begin{lemma}\label{change-var}
For all bounded measurable test functions $F,G,H$
\begin{multline*}
\sum_{(n_e)\in {\mathbb N}^E} \int d\Phi F(\Phi, n)E_{x_0,\Phi,n}
\left( G((Z_{\tau_u^{x_0}-t})_{0\le t\le\tau_u^{x_0}})
H(\Phi(\tau_u^{x_0}), n(\tau_u^{x_0}))\right)=
\\
\sum_{(\tilde n_e)\in {\mathbb N}^E} \int d\tilde\Phi H(\tilde\Phi, \tilde n)
\tilde E_{x_0,\tilde \Phi,\tilde n}
\Big({{\mathbbm 1}}_{\{\tilde X_{\tilde T}=x_0,\tilde n_e(\tilde T)\ge 0\; \forall e\in E\}} 
G((\tilde Z_{t})_{t\le\check T})
F(\tilde\Phi(\tilde T), \tilde n(\tilde T))\prod_{x\in V\setminus\{x_0\}} {\tilde \Phi_x\over \tilde\Phi_x(\tilde T) }\Big)
\end{multline*}
where the integral on the l.h.s. is on the set $\{(\Phi_x)\in {\mathbb R}_+^V, \;\; \Phi_{x_0}=0\}$ with $d\Phi= {\prod_{x\in V\setminus\{x_0\}} d\Phi_x\over \sqrt{2\pi}^{\vert V\vert -1}}$
and the integral on the r.h.s. is on the set $\{(\tilde\Phi_x)\in {\mathbb R}_+^V, \;\; \tilde\Phi_{x_0}=u\}$ with 
$d\tilde\Phi= {\prod_{x\in V\setminus\{x_0\}} d\tilde\Phi_x\over \sqrt{2\pi}^{\vert V\vert -1}}$
\end{lemma}
\begin{proof} 
We start from the left-hand side, i.e. the process, $(X_t, n_e(t))_{0\le\le \tau_u^{x_0}}$.
We define
$$
\tilde X_{t}=X_{\tau_u-t},\;\;\; \tilde n_e(t)=n_e(\tau_u-t),
$$
and
$$
\tilde \Phi_x=\Phi_x(\tau_u),\;\;\;, \tilde\Phi_x(t)=\Phi_x({\tau_u-t}), 
$$
(The law of the processes such defined will later be identified with the law of the processes ($\tilde X_t, \tilde \Phi(t),\tilde n(t))$ defined at the beginning of step 2, cf (\ref{tildePhi}) and (\ref{tilden})).
We also set
$$
\tilde K_e(t)= K_e(\tau_u)-K_e(t),
$$
which is also the number of crossings of the edge $e$ by the process $\tilde X$, between time 0 and $t$. With these notations we clearly have
$$
\tilde \Phi_x(t)=\sqrt{\tilde \Phi_x^2-2\tilde \ell_x(t)},
$$
where $\tilde \ell_x(t)=\int_{0}^t{{\mathbbm 1}}_{\{\tilde X_u=x\}} du$ is the local time of $\tilde X$ at time $t$, and
$$
\tilde n_e(t)= \tilde n_e(0)+(N_e(J_e(\tilde \Phi(t)))-N_e(J_e(\tilde\Phi(0))))-\tilde K_e(t).
$$
By time reversal, the law of $(\tilde X_t)_{0\le s\le \tilde \tau_u}$ is the same as the law of the Markov Jump process $(X_t)_{0\le t\le \tau_u}$, where
$\tilde \tau_u=\inf\{t\ge 0, \; \tilde\ell_{x_0}(t)=u\}$. Hence, we see that up to the time $\tilde T=\inf\{t\ge 0, \; \exists x\; \tilde\Phi_x(t)=0\}$, the process
$(\tilde X_t, (\tilde \Phi_x(t))_{x\in V}, (\tilde n_e(t))_{t\le \tilde T}$ has the same law as the process defined at the beginning of step 2.

Then, following \cite{SabotTarres2015RK},  we make the following change of variables conditionally on the processes $(X_t, (N_e(t)))$
\begin{eqnarray*}
({\mathbb R}_+^*)^V\times {\mathbb N}^E&amp;\mapsto&amp; ({\mathbb R}_+^*)^V\times {\mathbb N}^E\\
((\Phi_x), (n_e)_{e\in E})&amp;\mapsto&amp;
((\tilde \Phi_x), (\tilde n_e)_{e\in E})
\end{eqnarray*}
which is bijective onto the set 
\begin{multline*}
\{\tilde\Phi_x, \;\; \tilde\Phi_{x_0}=\sqrt{2u}, \; \check\Phi_x>\sqrt{2\ell_x(\tau_u^{x_0})}\;\;\forall x\neq x_0\} 
\\\times \{(\tilde n_e),\;\; \tilde n_e\ge K_e(\tau_u)+(N_e(J_e(\tilde \Phi(\tau_u)))-N_e(J_e(\Phi)))\}
\end{multline*}
(Note that we always have $\tilde \Phi_{x_0}=\sqrt{2u}$.) The last conditions on $\tilde \Phi$ and $\tilde n_e$ are equivalent to
the conditions $\tilde X_{\tilde T}=x_0$ and $\tilde n_e(\tilde T)\ge 0$.
The Jacobian of the change of variable is given by
$$
\prod_{x\in V\setminus\{x_0\}} d\Phi_x=\left({\prod_{x\in V\setminus\{x_0\}} {\check\Phi_x\over \Phi_x} }\right)\prod_{x\in V\setminus\{x_0\}} d\check\Phi_x.
$$


\end{proof}

\noindent
{\bf Step 3:}
With the notations of Theorem \ref{thm-Poisson2}, we consider the following expectation for $g$ and $h$ bounded measurable test functions
\begin{eqnarray}\label{test-functions}
{\mathbb{E}}\left( g\left(\left(X_{\tau_u-t}, n_e(\tau_u-t)\right)_{0\le t\le \tau_u}\right)h(\varphi^{(u)})\right)
\end{eqnarray}
By definition, we have
$$
\varphi^{(u)}=\sigma \Phi(\tau_u),
$$
where $(\sigma_x)_{x\in V}\in \{\pm 1\}^V$ are random signs sampled uniformly independently on clusters induced by
$\{e\in E, \; n_e(\tau_u)>0\}$ and conditioned on the fact that $\sigma_{x_0}=+1$.
Hence, we define for $(\Phi_x)\in {\mathbb R}_+^V$ and $(n_e)\in {\mathbb N}^E$
\begin{eqnarray}\label{h}
H(\Phi, n)=2^{-\#{\mathcal C}(n)+1} \sum_{\sigma\ll n} h(\sigma \Phi),
\end{eqnarray}
where $\sigma\ll n$ means that the signs $(\sigma_x)$ are constant on clusters of $\{ e\in E, \; n_e>0\}$ and such that $\sigma_{x_0}=+1$.
Hence, setting
$$
F(\Phi, n)=e^{-{1\over 2} \sum_{x\in V} W_x (\Phi_x)^2-\sum_{e\in E} J_e(\Phi) }\left(\prod_{e\in E} {(2J_e(\Phi))^{n_e}\over n_e!}\right)
2^{\#{\mathcal C}(n_e)-1},
$$
$$
G\left((Z_{\tau_u-t})_{t\le\tau_u}\right)= g\left(\left(X_{\tau_u-t}, n_e(\tau_u-t)\right)_{t\le \tau_u}\right),
$$
using lemma \ref{distrib-phi-n} in the first equality and lemma \ref{change-var} in the second equality, we deduce that
(\ref{test-functions}) is equal to 
\begin{multline}
\label{eq-3.3}
{\mathbb{E}}\left( G\left((Z_{\tau_u-t})_{0\le t\le \tau_u}\right)H(\Phi(\tau_u), n(\tau_u)))\right)=
\\
\sum_{(n_e)\in {\mathbb N}^E} \int
d\Phi
F(\Phi, n) E_{x_0, \Phi,n}\left(G\left((Z_{\tau_u-t})_{t\le\tau_u}\right)H\left(\Phi(\tau_u, n(\tau_u))\right)\right)
d\Phi =
\\
\sum_{(\tilde n_e)\in {\mathbb N}^E} \int d\tilde\Phi
H\left(\tilde \Phi,\tilde n\right)
\tilde E_{x_0, \tilde \Phi, \tilde n}\Big({{\mathbbm 1}}_{\{\tilde X_{\tilde T}=x_0,\tilde n_e(\tilde T)\ge 0\; \forall e\in E\}} 
F\left(\tilde \Phi(\tilde T) , \tilde n(\tilde T)\right) G\left((\tilde Z_{t})_{t\le\tilde T}\right) \prod_{x\in V\setminus\{x_0\}} {\tilde \Phi_x\over \tilde\Phi_x(\tilde T) }
\Big)
\end{multline}
with notations of Lemma \ref{change-var}.

Let $\tilde{\mathcal F}_t=\sigma\{\tilde X_s, \; s\le t\}$ be the filtration generated by $\tilde X$. We define the $\tilde {\mathcal F}$-adapted process
$\tilde M_t$, defined up to time $\tilde T$ by
\begin{multline}
\label{Mart}
\tilde M_t
= {F(\tilde \Phi(t), \tilde n(t))\over \prod_{V\setminus\{\tilde X_t\}} \tilde\Phi_x(t) }{{\mathbbm 1}}_{\{\tilde X_t\in {\mathcal C}(x_0,\tilde n)\}}{{\mathbbm 1}}_{\{\tilde n_e(t)\ge 0\; \forall e\in E\}}=
\\
e^{-{1\over 2} \sum_{x\in V} W_x(\tilde \Phi_x(t))^2-\sum_{e\in E} J_e(\tilde\Phi(t)) }
\Big(\prod_{e\in E} {(2J_e(\tilde \Phi(t)))^{\tilde n_e(t)}\over \tilde n_e(t) !}\Big)
{2^{\#{\mathcal C}(\tilde n_e(t))-1}
\over \prod_{x\in V\setminus\{\tilde X_t\}} \tilde\Phi_x(t) }{{\mathbbm 1}}_{\{\tilde X_t\in {\mathcal C}(x_0,\tilde n(t)),\tilde n_e(t)\ge 0\; \forall e\in E\}}
\end{multline}
where ${\mathcal C}(x_0,\tilde n(t))$ denotes the cluster of the origin $x_0$ induced by the configuration ${\mathcal C}(\tilde n(t))$.
Note that at time $t=\tilde T$, we also have
\begin{eqnarray}\label{M-T}
\tilde M_{\tilde T}= {F(\tilde \Phi(\tilde T), \tilde n(\tilde T))\over \prod_{V\setminus\{\tilde x_0\}} \tilde\Phi_x(\tilde T) }{{\mathbbm 1}}_{\{\tilde X_{\tilde T}=x_0}{{\mathbbm 1}}_{\tilde n_e(t)\ge 0\; \forall e\in E\}} 
\end{eqnarray}
since $\tilde M_{\tilde T}$ vanishes on the event where $\{\tilde X_{\tilde T}=x\}$, with $x\neq x_0$. Indeed, if $\tilde X_{\tilde T}=x\neq x_0$, then
$\tilde\Phi_x(\tilde T)=0$ and $J_e(\tilde\Phi(\tilde T))=0$ for $e\in E$ such that $x\in e$. It means that $\tilde M_{\tilde T}$ is equal to
0 if $\tilde n_{e}(\tilde T)>0$ for some edge $e$ neighboring $x$. Thus, $\tilde M_{\tilde T}$ is null unless $\{x\}$ is a cluster in ${\mathcal C}(\tilde n(\tilde T))$.
Hence, $\tilde M_{\tilde T}=0$ if $x\neq x_0$ since $\tilde M_{\tilde T}$ contains the indicator of the event that $\tilde X_{\tilde T}$ and $x_0$ are in the same cluster. 

Hence, using identities (\ref{eq-3.3}) and (\ref{M-T})
we deduce that (\ref{test-functions}) is equal to 
\begin{eqnarray}
\label{equ-M}
(\ref{test-functions})&amp;=&amp;
\sum_{(\tilde n_e)\in {\mathbb N}^E} \int d\tilde\Phi
H\left(\tilde \Phi,\tilde n\right) F\left(\tilde \Phi,\tilde n\right)
\tilde E_{x_0, \tilde \Phi, \tilde n}\left(
{\tilde M_{\tilde T}\over \tilde M_0} 
 G\left((\tilde Z_{t})_{t\le\tilde T}\right)
\right)
\end{eqnarray}

\noindent {\bf Step 4 :}
We denote by $\check Z_t=(\check X_t, \check \Phi_t, \check n(t))$ the process defined in section \ref{sec_Poisson}, which is well defined up to
stopping time $\check T$, and $\check Z^T_t=\check Z_{t\wedge \check T}$. We denote by $\check E_{x_0, \check \Phi, \check n}$
the law of the process $\check Z$ conditionnally on the initial value $\check n(0)$, i.e. conditionally on $(N_e(2J(\check\Phi)))=(\check n_e)$.
The last step of the proof goes through the following lemma.
\begin{lemma}\label{RN}
i) Under $\check E_{x_0,\check\Phi,\check n}$, $\check X$ ends at $\check X_{\check T}=x_0$ a.s. and 
$\check n_e(\check T)\ge 0$ for all $e\in E$.

ii) Let $\tilde P^{\le t}_{x_0,\tilde\Phi,\tilde n}$ and $\check P^{\le t}_{x_0,\check\Phi,\check n}$ be the law
of the process $(\tilde Z^T_s)_{s\le t}$ and $(\check Z^T_s)_{s\le t}$, then
$$
{d\check P^{\le t}_{x_0,\tilde \Phi,\tilde n}\over d\tilde P^{\le t}_{x_0,\tilde \Phi,\check n}}={\tilde M_{t\wedge \tilde T}\over \tilde M_0}.
$$
\end{lemma}
Using this lemma we obtain that in the right-hand side of (\ref{equ-M})
$$
\tilde E_{x_0, \tilde \Phi , \tilde n}\left(
{\tilde M_{\tilde T}\over \tilde M_0} 
 G\left((\tilde Z_{t})_{t\le\tilde T}\right)\right)=
 \check E_{x_0, \tilde \Phi , \tilde n}
 \left(  
 G\left((\check Z_{t})_{t\le\check T}\right)\right)
$$
Hence, we deduce, using formula (\ref{h}) and proceeding as in lemma \ref{distrib-phi-n}, that (\ref{test-functions}) is equal to
\begin{multline*}
\label{final}
\int_{{\mathbb R}^{V\setminus\{x_0\} }} d\tilde\varphi
e^{-{1\over 2} {\mathcal E}(\tilde\varphi)}  h(\tilde \varphi) 
\sum_{(\tilde n_e)\ll (\tilde \varphi_x)} \left(\prod_{e\in E, \; \tilde\varphi_{e-}\tilde\varphi_{e+}\ge 0} 
{e^{-2J_e(\vert \tilde \varphi\vert)}(2J_e(\vert \tilde \varphi\vert ))^{\tilde n_e}\over \tilde n_e !}\right) 
\\\tilde E_{x_0, \vert \tilde \varphi\vert , \tilde n}\left({\tilde M_{\tilde T}\over \tilde M_0} 
 G\left((\tilde Z_{t})_{t\le\tilde T}\right)\right),
\end{multline*}
where the last integral is on the set $\{(\tilde\varphi_x)\in {\mathbb R}^V, \;\; \varphi_{x_0}=u\}$,
$d\tilde\varphi={\prod_{x\in V\setminus\{x_0\}} d\tilde\varphi_x\over \sqrt{2\pi}^{\vert V\vert -1}}$, and where $(n_e)\ll (\varphi_x)$ means that
$(\tilde n_e)\in {\mathbb N}^E$ and $\tilde n_e=0$ if $\tilde\varphi_{e-}\tilde\varphi_{e+}\le 0$.
Finally, we conclude that
\begin{eqnarray*}
{\mathbb{E}}\left[ g\left(\left(X_{\tau_u^{x_0}-t}, n_e(\tau_u^{x_0}-t)\right)_{0\le t\le \tau_u^{x_0}}\right)h(\varphi^{(u)})\right]=
{\mathbb{E}}\left[ g\left(\left(\check X_{t}, \check n_e(t)\right)_{0\le t\le \check T}\right)h(\check \varphi)\right]
\end{eqnarray*}
where in the right-hand side 
$\check \varphi\sim P_{\varphi}^{\{x_0\}, \sqrt{2u}} $ 
is a GFF and $(\check X_t, \check n(t))$ 
is the process defined in section \ref{sec_Poisson} from the
GFF $\check \varphi$.
This exactly means that 
$\varphi^{(u)} \sim P_{\varphi}^{\{x_0\}, \sqrt{2u}}$ 
and that
$$
{\mathcal L}\left(\left(X_{\tau_u^{x_0}-t}, n_e(\tau_u^{x_0}-t)\right)_{0\le t\le \tau_u^{x_0}}\; 
\Big| \; \varphi^{(u)}=\check\varphi\right)= {\mathcal L}\left(\left(\check X_t, \check n(t)\right)_{t\le \check T}\right).
$$
This concludes the proof of Theorem \ref{thm-Poisson2}.
\end{proof}
\begin{proof}[Proof of lemma \ref{RN}]
The generator of the process $\tilde Z_t$ defined in (\ref{tildeZ}) is given, for any bounded and $\mathcal{C}^{1}$ for the second component test function $f$, by 
\begin{equation}
\label{tildeL2}
\begin{split}
&amp;(\tilde L f)(x,\tilde\Phi,\tilde n)=
-{1\over \tilde \Phi_x} ({\partial\over \partial \tilde\Phi_x}f)
(x,\tilde\Phi, \tilde n) +\\
&amp;
\sum_{y, \; y\sim x} \left(W_{x,y} \left(f(y,\tilde\Phi,\tilde n-\delta_{\{x,y\}})-f(x,\tilde\Phi,n)\right)+
W_{x,y} {\tilde \Phi_{y}\over \tilde \Phi_x} \left(f(x,\tilde\Phi, n-\delta_{\{x,y\}})-f(x,\tilde\Phi,n)\right)\right).
\end{split}
\end{equation}
where $ n-\delta_{\{x,y\}}$ is the value obtained by removing 1 from $n$ at edge $\{x,y\}$.
Indeed, since $\tilde \Phi_x(t)=
\sqrt{\tilde\Phi_{x}(0)^{2} -2\tilde \ell_x(t)}$, we have 
\begin{eqnarray}
\label{deriv-Phi}
{\partial\over\partial t} \tilde \Phi_x(t)=
-{{\mathbbm 1}}_{\{\tilde X_t=x\}}{1\over \tilde \Phi_x(t)},
\end{eqnarray}
which is explains the first term in the expression. The second term is obvious from the definition of $\tilde Z_t$, and corresponding to the term induced by jumps
of the Markov process $\tilde X_t$. The last term corresponds to the decrease of $\tilde n$ due to the increase in the process
$\tilde N_e(\tilde \Phi)-\tilde N_e(\tilde \Phi(t))$. Indeed, on the interval $[t,t+dt]$, the probability that
$\tilde N_{e}(\tilde \Phi(t))-\tilde N_{e}(\tilde \Phi(t+dt))$
is equal to 1 is of order
$$-{\partial\over \partial t} \tilde N_e(\tilde \Phi(t))dt={{\mathbbm 1}}_{\{\tilde X_t\in e\}}
 {W_e \tilde \Phi_{\underline e}(t)\tilde\Phi_{\overline e}(t)\over \Phi_{\tilde X_t}(t)^2}dt
 $$
using identity (\ref{deriv-Phi}).

Let $\check L$ be the generator of the Markov jump process $\check Z_t=(\check X_t, (\check \Phi_x(t)), (\check n_e(t)))$.
We have that the generator is equal, for any smooth test function $f$, to

\begin{eqnarray*}
&amp;&amp;(\check L f)(x,\Phi, n)=
-{1\over  \Phi_x} ({\partial\over \partial \Phi_x}f)(x,\Phi,  n) +\\
&amp;&amp;{1\over 2} \sum_{y, \; y\sim x}{ n_{x,y} \over  \Phi_x^2}
{{{\mathbbm 1}}_{\mathcal{A}_1(x,y)}} \left(f(y,\tilde\Phi,n-\delta_{\{x,y\}})+f(x,\tilde\Phi,n-\delta_{\{x,y\}})- 2f(x,\tilde\Phi,n)\right)
\\
&amp;&amp;+ \sum_{y, \; y\sim x}{ n_{x,y} \over \Phi_x^2}  {{\mathbbm 1}}_{\mathcal{A}_2(x,y)} \left( f(y,\tilde\Phi,n-\delta_{\{x,y\}})- f(x,\tilde\Phi,n)) \right)
\\
&amp;&amp;+\sum_{y, \; y\sim x}{n_{x,y} \over \Phi_x^2} 
 {{\mathbbm 1}}_{\mathcal{A}_3(x,y)} \left(f(x,\tilde\Phi,n-\delta_{\{x,y\}}) - f(x,\tilde\Phi,n) \right)
\end{eqnarray*}
where 
$\mathcal{A}_{i}(x,y)$ correspond to the following disjoint events
\begin{itemize}
\item
$\mathcal{A}_1(x,y)$ if the numbers of connected clusters induced by $n-\delta_{\{x,y\}}$ is the same as that of $\check n$.
\item
$\mathcal{A}_2(x,y)$ if a new cluster is created in $ n-\delta_{\{x,y\}}$ compared with $\check n$ and if $y$ is in the connected component
of $x_0$ in the cluster induced by $ n-\delta_{\{x,y\}}$.
\item
$\mathcal{A}_3(x,y)$ if a new cluster is created in $ n-\delta_{\{x,y\}}$ compared with $n$ and if $x$ is in the connected component
of $x_0$ in the cluster induced by $ n-\delta_{\{x,y\}}$.
\end{itemize}
Indeed, conditionally on the value of $\check n_e(t)=N_e(2J_e(\check\Phi(t)))$ at time $t$, the point process $N_e$ on the interval $[0,  2J_e(\check\Phi(t)))]$ has the law of
$n_e(t)$ independent points with uniform distribution on $[0,  2J_e(\check\Phi(t)))]$. Hence, the probability that a point lies in the interval 
$[2J_e(\check\Phi(t+dt))),  2J_e(\check\Phi(t)))]$ is of order 
$$
-\check n_e(t) {1\over J_e(\check\Phi(t)))}{\partial\over \partial t} J_e(\check\Phi(t)))  dt= {{\mathbbm 1}}_{\{X_t\in e\}}\;\check n_e(t){1\over \check\Phi_{X_t}(t)^2}dt.
$$
We define the function 
\begin{multline}
\nonumber\Theta(x,(\Phi_x),(n_e))=\\
e^{-{1\over 2} \sum_{x\in V}W_x (\Phi_x)^2-\sum_{e\in E} J_e(\Phi) }
\left(\prod_{e\in E} {(2J_e(\Phi))^{n_e}\over n_e !}\right)
{2^{\#{\mathcal C}(n_e)-1}
\over \prod_{V\setminus\{x\}} \Phi }{{\mathbbm 1}}_{\{x\in {\mathcal C}(x_0,n),
n_e\ge 0\; \forall e\in E\}},
\end{multline}
so that
$$
\tilde M_{t\wedge \tilde T}= \Theta(\tilde Z_{t\wedge\tilde T}).
$$
To prove the lemma it is sufficient to prove (\cite{ChungWalsh05MP}, Chapter 11) that for any bounded smooth test function $f$
\begin{eqnarray}\label{LcheckL}
{1\over \Theta}\tilde L\left(\Theta f\right)= \check L\left(f\right)
 \end{eqnarray}
Let us first consider the first term in (\ref{tildeL2}).
Direct computation gives 
$$
\left({1\over \Theta}{1\over \Phi_x}\left({\partial\over\partial \Phi_x} \Theta\right)\right) (x,\Phi,n)= -W_x+\sum_{y\sim x} \left(- W_{x,y}{\Phi_y\over\Phi_x}+n_{x,y}{1\over \Phi_x^2}\right).
$$
For the second part, remark that the indicators ${{\mathbbm 1}}_{\{x\in {\mathcal C}(x_0,n)\}}$ and ${{\mathbbm 1}}_{\{n_e\ge 0\; \forall e\in E\}}$ imply that 
$
\Theta(y,\Phi, n-\delta_{x,y})
$
vanishes if $n_{x,y}=0$ or if $y\not\in {\mathcal C}(x_0,n-\delta_{x,y})$.
By inspection of the expression of $\Theta$, we obtain for $x\sim y$,
\begin{eqnarray*}
\Theta (y,\Phi, n-\delta_{x,y})&amp;=&amp; \left({{\mathbbm 1}}_{\{n_{x,y}>0\}} ({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_2}) {n_{x,y}\over 2J_{x,y}(\Phi)}{\Phi_y\over \Phi_x}\right)\Theta(x,\Phi, n) 
\\
&amp;=&amp;\left(({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_2}) {n_{x,y}\over 2W_{x,y}}{1\over \Phi_x^2}\right)\Theta(x,\Phi, n).
\end{eqnarray*}
Similarly,  for $x\sim y$,
\begin{eqnarray*}
\Theta(x,\Phi, n-\delta_{x,y})&amp;=&amp; \left({{\mathbbm 1}}_{\{n_{x,y}>0\}}({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_3}){n_{x,y}\over 2J_{x,y}}\right)\Theta(x,\Phi, n)\\
&amp;=&amp;
\left(({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_3}) {n_{x,y}\over 2W_{x,y}\Phi_x\Phi_y}\right)\Theta(x,\Phi, n).
\end{eqnarray*}
Combining these three identities with the expression (\ref{tildeL2}) we deduce
\begin{eqnarray*}
&amp;&amp;{1\over \Theta}\tilde L\left(\Theta f\right)(x,\Phi,n)=\\
&amp;&amp;
-{1\over \Phi_x} {\partial\over\partial \Phi_x}f(x,\Phi,n)-\sum_{y\sim x} \left(n_{x,y}{1\over \Phi_x^2}\right)f(x,\Phi,n)
\\
&amp;&amp;  +\sum_{y\sim x} ({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_2}) n_{x,y}{1\over 2\Phi_x^2} f(y,  n-\delta_{\{x,y\}},\Phi)+
\sum_{y\sim x}({{\mathbbm 1}}_{\mathcal{A}_1}+2{{\mathbbm 1}}_{\mathcal{A}_3}){1\over 2 \Phi_x^2} f(x, n-\delta_{\{x,y\}},\Phi).
\end{eqnarray*}
It exactly coincides with the expression for $\check L$ since $1={{\mathbbm 1}}_{\mathcal{A}_1}+{{\mathbbm 1}}_{\mathcal{A}_2}+{{\mathbbm 1}}_{\mathcal{A}_3}$.
\end{proof}

\subsection{General case}
\label{sec:pgen}

\begin{proposition}
\label{PropKillingCase}
The conclusion of
Theorem \ref{thm-Poisson} still holds
if the graph $\mathcal{G}=(V,E)$ is finite and the killing measure is non-zero ($\kappa\not\equiv 0$).
\end{proposition}

\begin{proof}
Let $h$ be the function on $V$ defined as
\begin{displaymath}
h(x)=\mathbb{P}_{x}(X~\text{hits}~x_{0}~\text{before}~\zeta).
\end{displaymath}
By definition $h(x_{0})=1$. Moreover, for all 
$x\in V\setminus\lbrace x_{0}\rbrace$,
\begin{displaymath}
-\kappa_{x} h(x)+\sum_{y\sim x}W_{x,y}(h(y)-h(x))=0.
\end{displaymath}
Define the conductances
$W^{h}_{x,y}:=W_{x,y}h(x)h(y)$, and the corresponding jump process $X^{h}$, and the GFF $\varphi_{h}^{(0)}$ and $\varphi_{h}^{(u)}$ with conditions
$0$ respectively $\sqrt{2u}$ at $x_{0}$. The Theorem \ref{thm-Poisson}
holds for the graph $\mathcal{G}$ with conductances 
$(W^{h}_{e})_{e\in E}$ and with zero killing measure. But the process
$(X^{h}_{t})_{t\leq \tau_{u}^{x_{0}}}$ has the same law as the process
$(X_{s})_{s\leq \tau_{u}^{x_{0}}}$, conditioned on
$\tau_{u}^{x_{0}}&lt;\zeta$, after the change of time
\begin{displaymath}
dt = h(X_{s})^{-2}ds.
\end{displaymath}
This means in particular that for the occupation times,
\begin{equation}
\label{EqTimeChange}
\ell_{x}(t)=h(X_{s})^{-2}\ell_{x}(s).
\end{equation}
Moreover, we have the equalities in law 
\begin{displaymath}
\varphi_{h}^{(0)}\stackrel{\text{law}}{=}h^{-1}\varphi^{(0)},\qquad
\varphi_{h}^{(u)}\stackrel{\text{law}}{=}h^{-1}\varphi^{(u)}.
\end{displaymath}
Indeed, at the level of energy functions, we have:
\begin{equation*}
\begin{split}
&amp;\mathcal{E}(hf,hf)=
\sum_{x\in V}\kappa_{x} h(x)^{2}f(x)^{2}+
\sum_{e}W_{e}(h(e_{+})f(e_{+})-h(e_{-})f(e_{-}))^{2}\\&amp;=
\sum_{x\in V}[\kappa_{x}h(x)^{2}f(x)^{2}+
\sum_{y\sim x}W_{x,y}h(y)f(y)(h(y)f(y)-h(x)f(x))]\\
&amp;=
\sum_{x\in V}[\kappa_{x}h(x)^{2}f(x)^{2}-
\sum_{y\sim x}W_{x,y}(h(y)-h(x))h(x)f(x)^{2}]
-\sum_{\substack{x\in V\\y\sim x}}W_{x,y}h(x)h(y)(f(y)-f(x))f(x)
\\&amp;=[\kappa_{x_{0}}-
\sum_{y\sim x_{0}}W_{x_{0},y}(h(y)-1)]f(x_{0})^{2}
+\sum_{e}W_{e}^{h}(h(e_{+})f(e_{+})-h(e_{-})f(e_{-}))^{2}
\\&amp;= \text{Cste}(f(x_{0}))+\mathcal{E}^{h}(f,f),
\end{split}
\end{equation*}
where $\text{Cste}(f(x_{0}))$ means that this term does not depend of $f$
once the value of the function at $x_{0}$ fixed.

Let $\check{X}^{h}_{t}$ be the inverse process for the conductances 
$(W_{e}^{h)_{e\in E}}$ and the initial condition for the field
$\varphi_{h}^{(u)}$, given by Theorem \ref{thm-Poisson}. 
By applying the time change
\ref{EqTimeChange} to the process $\check{X}^{h}_{t}$, we obtain an inverse process for the conductances $W_{e}$ and the field $\varphi^{(u)}$.
\end{proof}

\begin{proposition}
\label{PropInfiniteCase}
Assume that the graph $\mathcal{G}=(V,E)$ is infinite. The killing measure $\kappa$ may be non-zero. Then the conclusion of
Theorem \ref{thm-Poisson} holds.
\end{proposition}

\begin{proof}
Consider an increasing sequence of connected sub-graphs
$\mathcal{G}_{i}=(V_{i},E_{i})$ of $\mathcal{G}$ which converges to the whole graph. We assume that $V_{0}$ contains $x_{0}$.
Let $\mathcal{G}_{i}^{\ast}=(V_{i}^{\ast},E_{i}^{\ast})$ be the graph obtained by adding to $\mathcal{G}_{i}$ an abstract vertex
$x_{\ast}$, and for every edge $\lbrace x,y\rbrace$, where $x\in V_{i}$ and 
$y\in V\setminus V_{i}$, adding an edge $\lbrace x,x_{\ast}\rbrace$,
with the equality of conductances 
$W_{x,x_{\ast}}=W_{x,y}$.
$(X_{i,t})_{t\geq 0}$ will denote the Markov jump process on 
$\mathcal{G}_{i}^{\ast}$, started from $x_{0}$. 
Let $\zeta_{i}$ be the first hitting time of $x_{\ast}$ or the first
killing time by the measure $\kappa{{\mathbbm 1}}_{V_{i}}$. Let
$\varphi^{(0)}_{i}$,
$\varphi^{(u)}_{i}$ will denote the GFFs on $\mathcal{G}_{i}^{\ast}$ with condition $0$ respectively $\sqrt{2u}$ at $x_{0}$, with condition $0$ at 
$x_{\ast}$, and taking in account the possible killing measure 
$\kappa{{\mathbbm 1}}_{V_{i}}$. 
The limits in law of $\varphi^{(0)}_{i}$
respectively $\varphi^{(u)}_{i}$ are 
$\varphi^{(0)}$
respectively $\varphi^{(u)}$.

We consider the process 
$(\hat{X}_{i,t},(\check{n}_{i,e}(t))_{e\in E_{i}^{\ast}})
_{0\leq t\leq\check{T}_{i}}$ be the inverse process on
$\mathcal{G}_{i}^{\ast}$, with initial field $\varphi^{(u)}_{i}$.
$(X_{i,t})_{t\leq \tau_{i,u}^{x_{0}}}$, conditional on 
$\tau_{i,u}^{x_{0}}$, has the same law as
$(\check{X}_{i,\check{T}_{i}-t})_{t\leq \check{T}_{i}}$.
Taking the limit in law as $i$ tends to infinity, we conclude that
$(X_{t})_{t\leq \tau_{u}^{x_{0}}}$, conditional on 
$\tau_{u}^{x_{0}}&lt;+\infty$, has the same law as
$(\check{X}_{\check{T}-t})_{t\leq \check{T}}$ on the infinite graph
$\mathcal{G}$. The same for the clusters.
In particular,
\begin{multline*}
\mathbb{P}(\check{T}\leq t, \check{X}_{[0,\check{T}]}~\text{stays in}~V_{j})=
\lim_{i\to +\infty}
\mathbb{P}(\check{T}_{i}\leq t, \check{X}_{i,[0,\check{T}_{i}]}~\text{stays in}~V_{j})
\\=
\lim_{i\to +\infty}
\mathbb{P}(\tau_{i,u}^{x_{0}}\leq t, X_{i,[0,\tau_{i,u}^{x_{0}}]}~\text{stays in}~V_{j}\vert \tau_{i,u}^{x_{0}}&lt;\zeta_{i})=
\mathbb{P}(\tau_{u}^{x_{0}}\leq t, X_{[0,\tau_{u}^{x_{0}}]}
~\text{stays in}~V_{j}\vert \tau_{u}^{x_{0}} &lt; \zeta),
\end{multline*}
where in the first two probabilities we also average by the values of the
free fields.
Hence
\begin{displaymath}
\mathbb{P}(\check{T}=+\infty~\text{or}~\check{X}_{\check{T}}\neq x_{0})=
1-\lim_{\substack{t\to +\infty\\ j\to +\infty}}
\mathbb{P}(\tau_{u}^{x_{0}}\leq t, X_{[0,\tau_{u}^{x_{0}}]}
~\text{stays in}~V_{j}\vert \tau_{u}^{x_{0}} &lt; \zeta) = 0.
\end{displaymath}
\end{proof}

\section*{Acknowledgements}

TL acknowledges the support of Dr. Max RÃ¶ssler, the Walter Haefner
Foundation and the ETH Zurich Foundation.

\bibliographystyle{plain}
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="4"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction} \\label{farey_intro}\n\nIn \\cite{Weyl1} Hermann Weyl developed a general a<span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="5"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction}\n\\label{sec:intro}\n\nThe design of efficient flow control strategies for <span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="6"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction}\n\nLet $R$ be a finite ring equipped with a weight $w$.  Two linear codes\n<span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="7"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction}\nAll graphs considered in this paper are finite and simple\n(undirected, lo<span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="8"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction}\nIn this paper, we study the cyclicity problem with respect to the forward <span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="9"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto">"\\section{Introduction} \n\\label{Introduction}\nDetecting communities (or clusters) in graphs is a<span class="text-orange-500">(...TRUNCATED)</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-left" dir="auto"><span class="">{
  "redpajama_set_name": "RedPajamaArXiv"
}</span></div></div>
							</td>
					</tr></tbody></table>
		<div class="bg-linear-to-b sticky left-0 border-t border-dashed border-gray-300 from-gray-100 to-white py-3 text-center font-mono text-xs dark:border-gray-700 dark:from-gray-950 dark:to-gray-900">End of preview. <a href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train" class="group"><span class="underline decoration-gray-300 group-hover:decoration-gray-400 dark:decoration-gray-500 dark:group-hover:decoration-gray-300">Expand</span>
						in <svg class="text-lg mr-0.5 inline -translate-y-px text-red-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>Data Studio
					</a></div></div>




			<div class="bg-linear-to-b from-gray-100 to-white dark:from-gray-950 dark:to-gray-900 "><hr class="flex-none -translate-y-px border-t border-dashed border-gray-300 bg-white dark:border-gray-700 dark:bg-gray-950">
					<nav><ul class="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center py-1 text-center font-mono text-xs rounded-b-lg"><li><a class="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 pointer-events-none cursor-default text-gray-400 hover:text-gray-700" href=""><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M10 16L20 6l1.4 1.4l-8.6 8.6l8.6 8.6L20 26z" fill="currentColor"></path></svg>
		Previous</a></li>
			<li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1 bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-900 dark:text-yellow-500 dark:ring-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train?p=0">1</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train?p=1">2</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train?p=2">3</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  pointer-events-none cursor-default" href="#">...</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train?p=868">869</a>
				</li>
			<li><a class="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 " href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/viewer/default/train?p=1">Next
		<svg class="ml-1.5 transform rotate-180" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M10 16L20 6l1.4 1.4l-8.6 8.6l8.6 8.6L20 26z" fill="currentColor"></path></svg></a></li></ul></nav></div></div>






</div></div></div></div></div></div></div>

				
					<div class="SVELTE_HYDRATER contents" data-target="RepoCodeCopy" data-props="{}"><div></div></div>
					

					<div class="SVELTE_HYDRATER contents" data-target="SideNavigation" data-props="{&quot;titleTree&quot;:[{&quot;id&quot;:&quot;dataset-description&quot;,&quot;label&quot;:&quot;Dataset Description:&quot;,&quot;children&quot;:[],&quot;isValid&quot;:true,&quot;title&quot;:&quot;Dataset Description:&quot;},{&quot;id&quot;:&quot;primary-usage&quot;,&quot;label&quot;:&quot;Primary Usage:&quot;,&quot;children&quot;:[],&quot;isValid&quot;:true,&quot;title&quot;:&quot;Primary Usage:&quot;},{&quot;id&quot;:&quot;license&quot;,&quot;label&quot;:&quot;License:&quot;,&quot;children&quot;:[],&quot;isValid&quot;:true,&quot;title&quot;:&quot;License:&quot;}],&quot;classNames&quot;:&quot;top-6&quot;}">

<div class="absolute -left-12 bottom-0 top-0 z-10 top-6"><div class="sticky top-4 flex"><div class="h-7 pt-[0.175rem]">
				<span class="peer" tabindex="0"><button class="select-none hover:cursor-pointer"><svg width="1em" height="1em" viewBox="0 0 10 10" class="text-lg opacity-80 hover:opacity-100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.65039 2.9999C1.65039 2.8066 1.80709 2.6499 2.00039 2.6499H8.00039C8.19369 2.6499 8.35039 2.8066 8.35039 2.9999C8.35039 3.1932 8.19369 3.3499 8.00039 3.3499H2.00039C1.80709 3.3499 1.65039 3.1932 1.65039 2.9999ZM1.65039 4.9999C1.65039 4.8066 1.80709 4.6499 2.00039 4.6499H8.00039C8.19369 4.6499 8.35039 4.8066 8.35039 4.9999C8.35039 5.1932 8.19369 5.3499 8.00039 5.3499H2.00039C1.80709 5.3499 1.65039 5.1932 1.65039 4.9999ZM2.00039 6.6499C1.80709 6.6499 1.65039 6.8066 1.65039 6.9999C1.65039 7.1932 1.80709 7.3499 2.00039 7.3499H8.00039C8.19369 7.3499 8.35039 7.1932 8.35039 6.9999C8.35039 6.8066 8.19369 6.6499 8.00039 6.6499H2.00039Z"></path></svg></button></span>
				<div class="invisible w-0 -translate-x-24 -translate-y-6 overflow-hidden rounded-xl border bg-white transition-transform hover:visible hover:w-52 hover:translate-x-0 peer-focus-within:visible peer-focus-within:w-52 peer-focus-within:translate-x-0"><nav aria-label="Secondary" class="max-h-[550px] overflow-y-auto p-3"><ul><li class="mb-3 text-sm last:mb-0"><a class="mb-1 block break-words font-semibold text-gray-700 *:break-words hover:underline active:text-gray-900 dark:active:text-gray-200" href="#dataset-description" title="Dataset Description:"><!-- HTML_TAG_START -->Dataset Description:<!-- HTML_TAG_END --></a>
									<ul class="pl-1"></ul>
								</li><li class="mb-3 text-sm last:mb-0"><a class="mb-1 block break-words font-semibold text-gray-700 *:break-words hover:underline active:text-gray-900 dark:active:text-gray-200" href="#primary-usage" title="Primary Usage:"><!-- HTML_TAG_START -->Primary Usage:<!-- HTML_TAG_END --></a>
									<ul class="pl-1"></ul>
								</li><li class="mb-3 text-sm last:mb-0"><a class="mb-1 block break-words font-semibold text-gray-700 *:break-words hover:underline active:text-gray-900 dark:active:text-gray-200" href="#license" title="License:"><!-- HTML_TAG_START -->License:<!-- HTML_TAG_END --></a>
									<ul class="pl-1"></ul>
								</li></ul></nav></div></div></div></div></div>
					<div class="2xl:pr-6"><div class="prose pl-6 -ml-6 hf-sanitized hf-sanitized-xbl0BWkJXvVIdP0xUiZ8Y">
	<!-- HTML_TAG_START --><h3 class="relative group flex items-center">
	<a rel="nofollow" href="#dataset-description" class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" id="dataset-description">
		<span class="header-link"><svg viewBox="0 0 256 256" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" role="img" aria-hidden="true" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4"><path fill="currentColor" d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z"></path></svg></span>
	</a>
	<span>
		Dataset Description:
	</span>
</h3>
<p>This is a split version of <a rel="nofollow" href="https://huggingface.co/datasets/cerebras/SlimPajama-627B">cerebras/SlimPajama-627B</a> that divides data based on its sources. 
The content of this dataset is the same as SlimPajama-627B.
We divide data from different sources based on the "redpajama_setname" and save them in different directories, which is convenient for future dataset combination related research.</p>
<p>This dataset consists of 15,967 jsonl files and is ~ 883G compressed.</p>
<h3 class="relative group flex items-center">
	<a rel="nofollow" href="#primary-usage" class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" id="primary-usage">
		<span class="header-link"><svg viewBox="0 0 256 256" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" role="img" aria-hidden="true" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4"><path fill="currentColor" d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z"></path></svg></span>
	</a>
	<span>
		Primary Usage:
	</span>
</h3>
<p>This dataset is used for our study: <a rel="nofollow" href="https://arxiv.org/abs/2309.10818">SlimPajama-DC: Understanding Data Combinations for LLM Training</a>.</p>
<p>For more details about the content in this dataset, please refer to the original <a rel="nofollow" href="https://huggingface.co/datasets/cerebras/SlimPajama-627B">cerebras/SlimPajama-627B</a>.</p>
<h3 class="relative group flex items-center">
	<a rel="nofollow" href="#license" class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" id="license">
		<span class="header-link"><svg viewBox="0 0 256 256" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" role="img" aria-hidden="true" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4"><path fill="currentColor" d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z"></path></svg></span>
	</a>
	<span>
		License:
	</span>
</h3>
<p>Please refer to the licenses of the data subsets you use.</p>
<ul>
<li><a rel="nofollow" href="https://commoncrawl.org/terms-of-use/full/">Common Crawl Foundation Terms of Use</a></li>
<li><a rel="nofollow" href="https://huggingface.co/datasets/allenai/c4#license">C4 license</a></li>
<li>GitHub was limited to MIT, BSD, or Apache licenses only</li>
<li>Books: <a rel="nofollow" href="https://huggingface.co/datasets/the_pile_books3#licensing-information">the_pile_books3 license</a> and <a rel="nofollow" href="https://huggingface.co/datasets/pg19#licensing-information">pg19 license</a></li>
<li><a rel="nofollow" href="https://info.arxiv.org/help/api/tou.html">ArXiv Terms of Use</a></li>
<li><a rel="nofollow" href="https://huggingface.co/datasets/wikipedia#licensing-information">Wikipedia License</a></li>
<li><a rel="nofollow" href="https://archive.org/details/stackexchange">StackExchange license on the Internet Archive</a></li>
</ul>
<!-- HTML_TAG_END --></div>
</div></section>
			
			<section class="pt-6 border-gray-100 md:pb-24 md:pl-6 md:w-64 lg:w-80 xl:w-96 flex-none order-first md:order-none md:border-l pt-3! md:pt-6!"><dl class="flex items-baseline justify-between"><dt class="text-sm text-gray-500">Downloads last month</dt><div class="mx-4 flex-1 border-b border-dotted"></div><dd class="font-semibold">5,206</dd></dl>
				
				<div class="divider-column-vertical"></div>
				<div class="grid grid-cols-2 gap-x-2 md:flex md:flex-row md:flex-wrap"><div class="SVELTE_HYDRATER contents" data-target="DatasetAndModelActionsDropdown" data-props="{&quot;classNames&quot;:&quot;order-last&quot;,&quot;discussionsDisabled&quot;:false,&quot;repo&quot;:{&quot;type&quot;:&quot;dataset&quot;,&quot;name&quot;:&quot;MBZUAI-LLM/SlimPajama-627B-DC&quot;},&quot;canWrite&quot;:false,&quot;canDisable&quot;:false,&quot;repoIsPrivate&quot;:false,&quot;repoIsGated&quot;:false,&quot;repoIsDisabled&quot;:false,&quot;repoIsAdminFlaggedNFAA&quot;:false,&quot;repoHasBlockedOids&quot;:false}"><div class="order-last"><div class="relative ">
	<button class="btn px-1.5 py-1.5 " type="button">
		
			<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="p-0.5" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><circle cx="16" cy="7" r="3" fill="currentColor"></circle><circle cx="16" cy="16" r="3" fill="currentColor"></circle><circle cx="16" cy="25" r="3" fill="currentColor"></circle></svg>
		
		</button>
	
	
	</div></div>













</div>
					<div class="SVELTE_HYDRATER contents" data-target="DatasetLibrary" data-props="{&quot;classNames&quot;:&quot;md:w-full xl:w-auto xl:flex-none&quot;,&quot;libraries&quot;:[{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;datasets&quot;,&quot;function&quot;:&quot;load_dataset&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{},&quot;code&quot;:&quot;from datasets import load_dataset\n\nds = load_dataset(\&quot;MBZUAI-LLM/SlimPajama-627B-DC\&quot;)&quot;}]},{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;dask&quot;,&quot;function&quot;:&quot;dd.read_json&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{&quot;splits&quot;:{&quot;train&quot;:&quot;**/train/**&quot;,&quot;validation&quot;:&quot;**/validation/**&quot;,&quot;test&quot;:&quot;**/test/**&quot;}},&quot;code&quot;:&quot;import dask.dataframe as dd\n\nsplits = {'train': '**/train/**', 'validation': '**/validation/**', 'test': '**/test/**'}\ndf = dd.read_json(\&quot;hf://datasets/MBZUAI-LLM/SlimPajama-627B-DC/\&quot; + splits[\&quot;train\&quot;])&quot;}]},{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;mlcroissant&quot;,&quot;function&quot;:&quot;Dataset&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{&quot;record_set&quot;:&quot;default&quot;,&quot;partial&quot;:true},&quot;code&quot;:&quot;from mlcroissant import Dataset\n\n# The Croissant metadata exposes the first 5GB of this dataset\nds = Dataset(jsonld=\&quot;https://huggingface.co/api/datasets/MBZUAI-LLM/SlimPajama-627B-DC/croissant\&quot;)\nrecords = ds.records(\&quot;default\&quot;)&quot;}]}]}"><div class="relative md:w-full xl:w-auto xl:flex-none">
	<button class="from-gray-800! to-black! max-xl:mb-2 text-white! gap-1! border-gray-800! dark:border-gray-900!  btn w-full cursor-pointer text-sm" type="button">
		<svg class="mr-1.5 mr-0.5! " xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" style="transform: rotate(360deg);"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg>
			Use this dataset
		<svg class="-mr-1 text-gray-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M16.293 9.293L12 13.586L7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z" fill="currentColor"></path></svg></button>
	
	
	</div>

</div>
					
					</div>
				<div class="divider-column-vertical"></div>
					<div class="flex flex-col flex-wrap xl:flex-row"><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 " href="/datasets/MBZUAI-LLM/SlimPajama-627B-DC/tree/refs%2Fconvert%2Fparquet/" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Size of the auto-converted Parquet files (First 5GB per split):</div>
		<div class="truncate text-sm group-hover:underline">
			<!-- HTML_TAG_START -->4.89 GB<!-- HTML_TAG_END --></div></a><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 pointer-events-none" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Number of rows (First 5GB per split):</div>
		<div class="truncate text-sm ">
			<!-- HTML_TAG_START -->1,091,716<!-- HTML_TAG_END --></div></a><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 pointer-events-none" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Estimated number of rows:</div>
		<div class="truncate text-sm ">
			<!-- HTML_TAG_START -->57,013,938<!-- HTML_TAG_END --></div></a></div>
				
				
				
				

				
				<div class="divider-column-vertical md:hidden"></div></section></div></main>

	<footer class="b-12 mb-2 flex border-t border-gray-100 md:h-14"><nav class="container relative flex flex-col justify-between space-y-2 py-6 text-gray-500 max-md:*:self-start md:flex-row md:items-center md:space-y-0 md:py-0 md:text-sm"><div class="SVELTE_HYDRATER contents" data-target="ThemeSwitcher" data-props="{&quot;theme&quot;:&quot;system&quot;,&quot;isLoggedIn&quot;:false,&quot;menuClassNames&quot;:&quot;md:-top-24&quot;,&quot;classNames&quot;:&quot;max-md:mb-5 max-md:*:self-start&quot;}">
<div class="relative inline-block max-md:mb-5 max-md:*:self-start">
	<button class="rounded-full border border-gray-100 pl-2 py-1 pr-2.5  flex items-center text-sm text-gray-500 bg-white hover:bg-purple-50 hover:border-purple-200 dark:hover:bg-gray-800 dark:hover:border-gray-950 dark:border-gray-800 " type="button">
		<svg class="mr-1.5 text-gray-500" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M29 25H3a1 1 0 1 0 0 2h26a1 1 0 1 0 0-2Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6 22.5h20a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v13.5a2 2 0 0 0 2 2ZM7 7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H7Z" fill="currentColor"></path><path d="M6 8a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8Z" fill="currentColor" fill-opacity=".4"></path><path d="M29 25H3a1 1 0 1 0 0 2h26a1 1 0 1 0 0-2Z" fill="currentColor"></path></svg>
			System theme
		</button>
	
	
	</div></div>
		<div class="font-semibold text-black md:hidden">Company</div>
		<a class="hover:underline" href="/terms-of-service">TOS</a>
		<a class="hover:underline" href="/privacy">Privacy</a>
		<a class="hover:underline" href="/huggingface">About</a>
		<a class="hover:underline" href="https://apply.workable.com/huggingface/">Jobs</a>
		<a href="/" class="max-md:mb-4! max-md:mt-8! group flex-none max-md:order-last"><svg class="h-7 w-7 transition-transform group-hover:-translate-y-px" viewBox="0 0 95 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.2119 76.5C66.4037 76.5 81.9619 60.9419 81.9619 41.75C81.9619 22.5581 66.4037 7 47.2119 7C28.02 7 12.4619 22.5581 12.4619 41.75C12.4619 60.9419 28.02 76.5 47.2119 76.5Z" fill="#FFD21E"></path><path d="M81.9619 41.75C81.9619 22.5581 66.4037 7 47.2119 7C28.02 7 12.4619 22.5581 12.4619 41.75C12.4619 60.9419 28.02 76.5 47.2119 76.5C66.4037 76.5 81.9619 60.9419 81.9619 41.75ZM8.46185 41.75C8.46185 20.349 25.8108 3 47.2119 3C68.6129 3 85.9619 20.349 85.9619 41.75C85.9619 63.151 68.6129 80.5 47.2119 80.5C25.8108 80.5 8.46185 63.151 8.46185 41.75Z" fill="#FF9D0B"></path><path d="M58.5024 32.2915C59.7768 32.7415 60.2839 35.3615 61.5713 34.6769C64.0095 33.3805 64.9351 30.353 63.6387 27.9148C62.3423 25.4767 59.3148 24.5511 56.8766 25.8475C54.4384 27.1439 53.5128 30.1714 54.8092 32.6096C55.4211 33.7604 57.3632 31.8892 58.5024 32.2915Z" fill="#3A3B45"></path><path d="M34.9454 32.2915C33.671 32.7415 33.164 35.3615 31.8766 34.6769C29.4384 33.3805 28.5128 30.353 29.8092 27.9148C31.1056 25.4767 34.1331 24.5511 36.5713 25.8475C39.0095 27.1439 39.9351 30.1714 38.6387 32.6096C38.0268 33.7604 36.0846 31.8892 34.9454 32.2915Z" fill="#3A3B45"></path><path d="M46.9619 56.289C56.7903 56.289 59.9619 47.5261 59.9619 43.0262C59.9619 40.6875 58.3898 41.4236 55.8718 42.6702C53.5449 43.8222 50.4102 45.4101 46.9619 45.4101C39.7822 45.4101 33.9619 38.5263 33.9619 43.0262C33.9619 47.5261 37.1334 56.289 46.9619 56.289Z" fill="#3A3B45"></path><mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="33" y="41" width="27" height="16"><path d="M46.9619 56.289C56.7903 56.289 59.9619 47.5261 59.9619 43.0262C59.9619 40.6875 58.3898 41.4236 55.8718 42.6702C53.5449 43.8222 50.4102 45.4101 46.9619 45.4101C39.7822 45.4101 33.9619 38.5263 33.9619 43.0262C33.9619 47.5261 37.1334 56.289 46.9619 56.289Z" fill="white"></path></mask><g mask="url(#mask0)"><path d="M47.2119 66.5C52.0018 66.5 55.8848 62.617 55.8848 57.8271C55.8848 54.0962 53.5291 50.9156 50.224 49.6915C50.1023 49.6464 49.9794 49.604 49.8553 49.5643C49.0219 49.2979 48.1337 52.1623 47.2119 52.1623C46.3506 52.1623 45.5186 49.2797 44.7332 49.5135C41.151 50.5799 38.5389 53.8984 38.5389 57.8271C38.5389 62.617 42.4219 66.5 47.2119 66.5Z" fill="#F94040"></path></g><path d="M70.7119 37C72.5068 37 73.9619 35.5449 73.9619 33.75C73.9619 31.9551 72.5068 30.5 70.7119 30.5C68.9169 30.5 67.4619 31.9551 67.4619 33.75C67.4619 35.5449 68.9169 37 70.7119 37Z" fill="#FF9D0B"></path><path d="M24.2119 37C26.0068 37 27.4619 35.5449 27.4619 33.75C27.4619 31.9551 26.0068 30.5 24.2119 30.5C22.4169 30.5 20.9619 31.9551 20.9619 33.75C20.9619 35.5449 22.4169 37 24.2119 37Z" fill="#FF9D0B"></path><path class="origin-bottom-right transition-transform group-hover:-rotate-6" d="M17.5238 48C15.9048 48 14.4578 48.665 13.4488 49.871C12.8248 50.618 12.1728 51.822 12.1198 53.625C11.4408 53.43 10.7878 53.321 10.1778 53.321C8.6278 53.321 7.2278 53.915 6.2378 54.994C4.9658 56.379 4.4008 58.081 4.6468 59.784C4.7638 60.595 5.0348 61.322 5.4398 61.995C4.5858 62.686 3.9568 63.648 3.6528 64.805C3.4148 65.712 3.1708 67.601 4.4448 69.547C4.3638 69.674 4.2878 69.806 4.2168 69.941C3.4508 71.395 3.4018 73.038 4.0778 74.568C5.1028 76.887 7.6498 78.714 12.5958 80.675C15.6728 81.895 18.4878 82.675 18.5128 82.682C22.5808 83.737 26.2598 84.273 29.4448 84.273C35.2988 84.273 39.4898 82.48 41.9018 78.944C45.7838 73.25 45.2288 68.042 40.2058 63.022C37.4258 60.244 35.5778 56.148 35.1928 55.249C34.4168 52.587 32.3648 49.628 28.9538 49.628H28.9528C28.6658 49.628 28.3758 49.651 28.0898 49.696C26.5958 49.931 25.2898 50.791 24.3568 52.085C23.3498 50.833 22.3718 49.837 21.4868 49.275C20.1528 48.429 18.8198 48 17.5238 48ZM17.5238 52C18.0338 52 18.6568 52.217 19.3438 52.653C21.4768 54.006 25.5928 61.081 27.0998 63.833C27.6048 64.755 28.4678 65.145 29.2448 65.145C30.7868 65.145 31.9908 63.612 29.3858 61.664C25.4688 58.733 26.8428 53.942 28.7128 53.647C28.7948 53.634 28.8758 53.628 28.9538 53.628C30.6538 53.628 31.4038 56.558 31.4038 56.558C31.4038 56.558 33.6018 62.078 37.3778 65.851C41.1538 69.625 41.3488 72.654 38.5968 76.69C36.7198 79.442 33.1268 80.273 29.4448 80.273C25.6258 80.273 21.7108 79.379 19.5168 78.81C19.4088 78.782 6.0658 75.013 7.7558 71.805C8.0398 71.266 8.5078 71.05 9.0968 71.05C11.4768 71.05 15.8058 74.592 17.6668 74.592C18.0828 74.592 18.3758 74.415 18.4958 73.983C19.2888 71.138 6.4388 69.942 7.5218 65.821C7.7128 65.092 8.2308 64.796 8.9588 64.797C12.1038 64.797 19.1598 70.328 20.6388 70.328C20.7518 70.328 20.8328 70.295 20.8768 70.225C21.6178 69.029 21.2118 68.194 15.9888 65.033C10.7658 61.871 7.0998 59.969 9.1848 57.699C9.4248 57.437 9.7648 57.321 10.1778 57.321C13.3488 57.322 20.8408 64.14 20.8408 64.14C20.8408 64.14 22.8628 66.243 24.0858 66.243C24.3668 66.243 24.6058 66.132 24.7678 65.858C25.6348 64.396 16.7148 57.636 16.2118 54.847C15.8708 52.957 16.4508 52 17.5238 52Z" fill="#FF9D0B"></path><path class="origin-bottom-right transition-transform group-hover:-rotate-6" d="M38.5967 76.6898C41.3487 72.6538 41.1537 69.6248 37.3777 65.8508C33.6017 62.0778 31.4037 56.5578 31.4037 56.5578C31.4037 56.5578 30.5827 53.3518 28.7127 53.6468C26.8427 53.9418 25.4697 58.7328 29.3867 61.6638C33.3037 64.5938 28.6067 66.5848 27.0997 63.8328C25.5927 61.0808 21.4777 54.0058 19.3437 52.6528C17.2107 51.2998 15.7087 52.0578 16.2117 54.8468C16.7147 57.6358 25.6357 64.3958 24.7677 65.8588C23.8997 67.3208 20.8407 64.1398 20.8407 64.1398C20.8407 64.1398 11.2687 55.4288 9.18465 57.6988C7.10065 59.9688 10.7657 61.8708 15.9887 65.0328C21.2127 68.1938 21.6177 69.0288 20.8767 70.2248C20.1347 71.4208 8.60465 61.6998 7.52165 65.8208C6.43965 69.9418 19.2887 71.1378 18.4957 73.9828C17.7027 76.8288 9.44465 68.5978 7.75565 71.8048C6.06565 75.0128 19.4087 78.7818 19.5167 78.8098C23.8267 79.9278 34.7727 82.2968 38.5967 76.6898Z" fill="#FFD21E"></path><path class="origin-bottom-left transition-transform group-hover:rotate-6" d="M77.3999 48C79.0189 48 80.4659 48.665 81.4749 49.871C82.0989 50.618 82.7509 51.822 82.8039 53.625C83.4829 53.43 84.1359 53.321 84.7459 53.321C86.2959 53.321 87.6959 53.915 88.6859 54.994C89.9579 56.379 90.5229 58.081 90.2769 59.784C90.1599 60.595 89.8889 61.322 89.4839 61.995C90.3379 62.686 90.9669 63.648 91.2709 64.805C91.5089 65.712 91.7529 67.601 90.4789 69.547C90.5599 69.674 90.6359 69.806 90.7069 69.941C91.4729 71.395 91.5219 73.038 90.8459 74.568C89.8209 76.887 87.2739 78.714 82.3279 80.675C79.2509 81.895 76.4359 82.675 76.4109 82.682C72.3429 83.737 68.6639 84.273 65.4789 84.273C59.6249 84.273 55.4339 82.48 53.0219 78.944C49.1399 73.25 49.6949 68.042 54.7179 63.022C57.4979 60.244 59.3459 56.148 59.7309 55.249C60.5069 52.587 62.5589 49.628 65.9699 49.628H65.9709C66.2579 49.628 66.5479 49.651 66.8339 49.696C68.3279 49.931 69.6339 50.791 70.5669 52.085C71.5739 50.833 72.5519 49.837 73.4369 49.275C74.7709 48.429 76.1039 48 77.3999 48ZM77.3999 52C76.8899 52 76.2669 52.217 75.5799 52.653C73.4469 54.006 69.3309 61.081 67.8239 63.833C67.3189 64.755 66.4559 65.145 65.6789 65.145C64.1369 65.145 62.9329 63.612 65.5379 61.664C69.4549 58.733 68.0809 53.942 66.2109 53.647C66.1289 53.634 66.0479 53.628 65.9699 53.628C64.2699 53.628 63.5199 56.558 63.5199 56.558C63.5199 56.558 61.3219 62.078 57.5459 65.851C53.7699 69.625 53.5749 72.654 56.3269 76.69C58.2039 79.442 61.7969 80.273 65.4789 80.273C69.2979 80.273 73.2129 79.379 75.4069 78.81C75.5149 78.782 88.8579 75.013 87.1679 71.805C86.8839 71.266 86.4159 71.05 85.8269 71.05C83.4469 71.05 79.1179 74.592 77.2569 74.592C76.8409 74.592 76.5479 74.415 76.4279 73.983C75.6349 71.138 88.4849 69.942 87.4019 65.821C87.2109 65.092 86.6929 64.796 85.9649 64.797C82.8199 64.797 75.7639 70.328 74.2849 70.328C74.1719 70.328 74.0909 70.295 74.0469 70.225C73.3059 69.029 73.7119 68.194 78.9349 65.033C84.1579 61.871 87.8239 59.969 85.7389 57.699C85.4989 57.437 85.1589 57.321 84.7459 57.321C81.5749 57.322 74.0829 64.14 74.0829 64.14C74.0829 64.14 72.0609 66.243 70.8379 66.243C70.5569 66.243 70.3179 66.132 70.1559 65.858C69.2889 64.396 78.2089 57.636 78.7119 54.847C79.0529 52.957 78.4729 52 77.3999 52Z" fill="#FF9D0B"></path><path class="origin-bottom-left transition-transform group-hover:rotate-6" d="M56.3271 76.6898C53.5751 72.6538 53.7701 69.6248 57.5461 65.8508C61.3221 62.0778 63.5201 56.5578 63.5201 56.5578C63.5201 56.5578 64.3411 53.3518 66.2111 53.6468C68.0811 53.9418 69.4541 58.7328 65.5371 61.6638C61.6201 64.5938 66.3171 66.5848 67.8241 63.8328C69.3311 61.0808 73.4461 54.0058 75.5801 52.6528C77.7131 51.2998 79.2151 52.0578 78.7121 54.8468C78.2091 57.6358 69.2881 64.3958 70.1561 65.8588C71.0241 67.3208 74.0831 64.1398 74.0831 64.1398C74.0831 64.1398 83.6551 55.4288 85.7391 57.6988C87.8231 59.9688 84.1581 61.8708 78.9351 65.0328C73.7111 68.1938 73.3061 69.0288 74.0471 70.2248C74.7891 71.4208 86.3191 61.6998 87.4021 65.8208C88.4841 69.9418 75.6351 71.1378 76.4281 73.9828C77.2211 76.8288 85.4791 68.5978 87.1681 71.8048C88.8581 75.0128 75.5151 78.7818 75.4071 78.8098C71.0971 79.9278 60.1511 82.2968 56.3271 76.6898Z" fill="#FFD21E"></path></svg></a>
		<div class="max-md:mt-8! font-semibold text-black md:hidden">Website</div>

		<a class="hover:underline" href="/models">Models</a>
		<a class="hover:underline" href="/datasets">Datasets</a>
		<a class="hover:underline" href="/spaces">Spaces</a>
		<a class="hover:underline" href="/pricing">Pricing</a>
		<a class="hover:underline" href="/docs">Docs</a></nav></footer></div>

		<script>
			import("\/front\/build\/kube-68d7aa0\/index.js");
			window.moonSha = "kube-68d7aa0\/";
			window.__hf_deferred = {};
		</script>

		<!-- Stripe -->
		<script>
			if (["hf.co", "huggingface.co"].includes(window.location.hostname)) {
				const script = document.createElement("script");
				script.src = "https://js.stripe.com/v3/";
				script.async = true;
				document.head.appendChild(script);
			}
		</script>
	</body>
</html>
