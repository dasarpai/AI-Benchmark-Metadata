<!doctype html>
<html class="">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
		<meta name="description" content="We’re on a journey to advance and democratize artificial intelligence through open source and open science." />
		<meta property="fb:app_id" content="1321688464574422" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@huggingface" />
		<meta name="twitter:image" content="https://cdn-thumbnails.huggingface.co/social-thumbnails/datasets/teven/github_all_lang_filtered.png" />
		<meta property="og:title" content="teven/github_all_lang_filtered · Datasets at Hugging Face" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://huggingface.co/datasets/teven/github_all_lang_filtered" />
		<meta property="og:image" content="https://cdn-thumbnails.huggingface.co/social-thumbnails/datasets/teven/github_all_lang_filtered.png" />

		<link rel="stylesheet" href="/front/build/kube-68d7aa0/style.css" />

		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&display=swap"
			rel="stylesheet"
		/>

		<link
			rel="preload"
			href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript>
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" />
		</noscript>

		<script>const guestTheme = document.cookie.match(/theme=(\w+)/)?.[1]; document.documentElement.classList.toggle('dark', guestTheme === 'dark' || ( (!guestTheme || guestTheme === 'system') && window.matchMedia('(prefers-color-scheme: dark)').matches));</script>
<link rel="canonical" href="https://huggingface.co/datasets/teven/github_all_lang_filtered"> <script type="application/ld+json">{
  "@context": {
    "@language": "en",
    "@vocab": "https:\/\/schema.org\/",
    "citeAs": "cr:citeAs",
    "column": "cr:column",
    "conformsTo": "dct:conformsTo",
    "cr": "http:\/\/mlcommons.org\/croissant\/",
    "data": {
      "@id": "cr:data",
      "@type": "@json"
    },
    "dataBiases": "cr:dataBiases",
    "dataCollection": "cr:dataCollection",
    "dataType": {
      "@id": "cr:dataType",
      "@type": "@vocab"
    },
    "dct": "http:\/\/purl.org\/dc\/terms\/",
    "extract": "cr:extract",
    "field": "cr:field",
    "fileProperty": "cr:fileProperty",
    "fileObject": "cr:fileObject",
    "fileSet": "cr:fileSet",
    "format": "cr:format",
    "includes": "cr:includes",
    "isLiveDataset": "cr:isLiveDataset",
    "jsonPath": "cr:jsonPath",
    "key": "cr:key",
    "md5": "cr:md5",
    "parentField": "cr:parentField",
    "path": "cr:path",
    "personalSensitiveInformation": "cr:personalSensitiveInformation",
    "recordSet": "cr:recordSet",
    "references": "cr:references",
    "regex": "cr:regex",
    "repeated": "cr:repeated",
    "replace": "cr:replace",
    "sc": "https:\/\/schema.org\/",
    "separator": "cr:separator",
    "source": "cr:source",
    "subField": "cr:subField",
    "transform": "cr:transform"
  },
  "@type": "sc:Dataset",
  "distribution": [
    {
      "@type": "cr:FileObject",
      "@id": "repo",
      "name": "repo",
      "description": "The Hugging Face git repository.",
      "contentUrl": "https:\/\/huggingface.co\/datasets\/teven\/github_all_lang_filtered\/tree\/refs%2Fconvert%2Fparquet",
      "encodingFormat": "git+https",
      "sha256": "https:\/\/github.com\/mlcommons\/croissant\/issues\/80"
    },
    {
      "@type": "cr:FileSet",
      "@id": "parquet-files-for-config-default",
      "name": "parquet-files-for-config-default",
      "description": "The underlying Parquet files as converted by Hugging Face (see: https:\/\/huggingface.co\/docs\/dataset-viewer\/parquet).",
      "containedIn": {
        "@id": "repo"
      },
      "encodingFormat": "application\/x-parquet",
      "includes": "default\/*\/*.parquet"
    }
  ],
  "recordSet": [
    {
      "@type": "cr:RecordSet",
      "dataType": "cr:Split",
      "key": {
        "@id": "default_splits\/split_name"
      },
      "@id": "default_splits",
      "name": "default_splits",
      "description": "Splits for the default config.",
      "field": [
        {
          "@type": "cr:Field",
          "@id": "default_splits\/split_name",
          "name": "split_name",
          "description": "The name of the split.",
          "dataType": "sc:Text"
        }
      ],
      "data": [
        {
          "default_splits\/split_name": "train"
        }
      ]
    },
    {
      "@type": "cr:RecordSet",
      "@id": "default",
      "name": "default",
      "description": "teven\/github_all_lang_filtered - 'default' subset",
      "field": [
        {
          "@type": "cr:Field",
          "@id": "default\/split",
          "name": "default\/split",
          "description": "Split to which the example belongs to.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "fileProperty": "fullpath"
            },
            "transform": {
              "regex": "default\/(?:partial-)?(train)\/.+parquet$"
            }
          },
          "references": {
            "field": {
              "@id": "default_splits\/split_name"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/text",
          "name": "default\/text",
          "description": "Column 'text' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "text"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/repo_name",
          "name": "default\/repo_name",
          "description": "Column 'repo_name' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "repo_name"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/stars",
          "name": "default\/stars",
          "description": "Column 'stars' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "stars"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/repo_language",
          "name": "default\/repo_language",
          "description": "Column 'repo_language' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "repo_language"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/file_name",
          "name": "default\/file_name",
          "description": "Column 'file_name' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "file_name"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/mime_type",
          "name": "default\/mime_type",
          "description": "Column 'mime_type' from the Hugging Face parquet file.",
          "dataType": "sc:Text",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "mime_type"
            }
          }
        },
        {
          "@type": "cr:Field",
          "@id": "default\/hash",
          "name": "default\/hash",
          "description": "Column 'hash' from the Hugging Face parquet file.",
          "dataType": "sc:Integer",
          "source": {
            "fileSet": {
              "@id": "parquet-files-for-config-default"
            },
            "extract": {
              "column": "hash"
            }
          }
        }
      ]
    }
  ],
  "conformsTo": "http:\/\/mlcommons.org\/croissant\/1.0",
  "name": "github_all_lang_filtered",
  "description": "teven\/github_all_lang_filtered dataset hosted on Hugging Face and contributed by the HF Datasets community",
  "alternateName": [
    "teven\/github_all_lang_filtered"
  ],
  "creator": {
    "@type": "Person",
    "name": "Teven Le Scao",
    "url": "https:\/\/huggingface.co\/teven"
  },
  "keywords": [
    "10M - 100M",
    "parquet",
    "Text",
    "Datasets",
    "Dask",
    "Croissant",
    "Polars",
    "🇺🇸 Region: US"
  ],
  "url": "https:\/\/huggingface.co\/datasets\/teven\/github_all_lang_filtered"
}</script> 

		<title>teven/github_all_lang_filtered · Datasets at Hugging Face</title>

		<script
			defer
			data-domain="huggingface.co"
			event-loggedIn="false"
			src="/js/script.pageview-props.js"
		></script>
		<script>
			window.plausible =
				window.plausible ||
				function () {
					(window.plausible.q = window.plausible.q || []).push(arguments);
				};
		</script>
		<script>
			window.hubConfig = {"features":{"signupDisabled":false},"sshGitUrl":"git@hf.co","moonHttpUrl":"https:\/\/huggingface.co","captchaApiKey":"bd5f2066-93dc-4bdd-a64b-a24646ca3859","captchaDisabledOnSignup":true,"datasetViewerPublicUrl":"https:\/\/datasets-server.huggingface.co","stripePublicKey":"pk_live_x2tdjFXBCvXo2FFmMybezpeM00J6gPCAAc","environment":"production","userAgent":"HuggingFace (production)","spacesIframeDomain":"hf.space","spacesApiUrl":"https:\/\/api.hf.space","docSearchKey":"ece5e02e57300e17d152c08056145326e90c4bff3dd07d7d1ae40cf1c8d39cb6","logoDev":{"apiUrl":"https:\/\/img.logo.dev\/","apiKey":"pk_UHS2HZOeRnaSOdDp7jbd5w"}};
		</script>
		<script type="text/javascript" src="https://de5282c3ca0c.edge.sdk.awswaf.com/de5282c3ca0c/526cf06acb0d/challenge.js" defer></script>
	</head>
	<body class="flex flex-col min-h-dvh bg-white dark:bg-gray-950 text-black DatasetPage">
		<div class="flex min-h-dvh flex-col"><div class="SVELTE_HYDRATER contents" data-target="SystemThemeMonitor" data-props="{&quot;isLoggedIn&quot;:false}"></div>

	<div class="SVELTE_HYDRATER contents" data-target="MainHeader" data-props="{&quot;classNames&quot;:&quot;&quot;,&quot;isWide&quot;:false,&quot;isZh&quot;:false,&quot;isPro&quot;:false}"><header class="border-b border-gray-100 "><div class="w-full px-4 container flex h-16 items-center"><div class="flex flex-1 items-center"><a class="mr-5 flex flex-none items-center lg:mr-6" href="/"><img alt="Hugging Face's logo" class="w-7 md:mr-2" src="/front/assets/huggingface_logo-noborder.svg">
				<span class="hidden whitespace-nowrap text-lg font-bold md:block">Hugging Face</span></a>
			<div class="relative flex-1 lg:max-w-sm mr-2 sm:mr-4 md:mr-3 xl:mr-6"><input autocomplete="off" class="w-full dark:bg-gray-950 pl-8 form-input-alt h-9 pr-3 focus:shadow-xl " name="" placeholder="Search models, datasets, users..."   spellcheck="false" type="text" value="">
	<svg class="absolute left-2.5 text-gray-400 top-1/2 transform -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M30 28.59L22.45 21A11 11 0 1 0 21 22.45L28.59 30zM5 14a9 9 0 1 1 9 9a9 9 0 0 1-9-9z" fill="currentColor"></path></svg>
	</div>
			<div class="flex flex-none items-center justify-center p-0.5 place-self-stretch lg:hidden"><button class="relative z-40 flex h-6 w-8 items-center justify-center" type="button"><svg width="1em" height="1em" viewBox="0 0 10 10" class="text-xl" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.65039 2.9999C1.65039 2.8066 1.80709 2.6499 2.00039 2.6499H8.00039C8.19369 2.6499 8.35039 2.8066 8.35039 2.9999C8.35039 3.1932 8.19369 3.3499 8.00039 3.3499H2.00039C1.80709 3.3499 1.65039 3.1932 1.65039 2.9999ZM1.65039 4.9999C1.65039 4.8066 1.80709 4.6499 2.00039 4.6499H8.00039C8.19369 4.6499 8.35039 4.8066 8.35039 4.9999C8.35039 5.1932 8.19369 5.3499 8.00039 5.3499H2.00039C1.80709 5.3499 1.65039 5.1932 1.65039 4.9999ZM2.00039 6.6499C1.80709 6.6499 1.65039 6.8066 1.65039 6.9999C1.65039 7.1932 1.80709 7.3499 2.00039 7.3499H8.00039C8.19369 7.3499 8.35039 7.1932 8.35039 6.9999C8.35039 6.8066 8.19369 6.6499 8.00039 6.6499H2.00039Z"></path></svg>
		</button>

	</div></div>
		<nav aria-label="Main" class="ml-auto hidden lg:block"><ul class="flex items-center space-x-1.5 2xl:space-x-2"><li class="hover:text-indigo-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/models"><svg class="mr-1.5 text-gray-400 group-hover:text-indigo-500" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-quaternary" d="M20.23 7.24L12 12L3.77 7.24a1.98 1.98 0 0 1 .7-.71L11 2.76c.62-.35 1.38-.35 2 0l6.53 3.77c.29.173.531.418.7.71z" opacity=".25" fill="currentColor"></path><path class="uim-tertiary" d="M12 12v9.5a2.09 2.09 0 0 1-.91-.21L4.5 17.48a2.003 2.003 0 0 1-1-1.73v-7.5a2.06 2.06 0 0 1 .27-1.01L12 12z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M20.5 8.25v7.5a2.003 2.003 0 0 1-1 1.73l-6.62 3.82c-.275.13-.576.198-.88.2V12l8.23-4.76c.175.308.268.656.27 1.01z" fill="currentColor"></path></svg>
					Models</a>
			</li><li class="hover:text-red-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/datasets"><svg class="mr-1.5 text-gray-400 group-hover:text-red-500" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 25 25"><ellipse cx="12.5" cy="5" fill="currentColor" fill-opacity="0.25" rx="7.5" ry="2"></ellipse><path d="M12.5 15C16.6421 15 20 14.1046 20 13V20C20 21.1046 16.6421 22 12.5 22C8.35786 22 5 21.1046 5 20V13C5 14.1046 8.35786 15 12.5 15Z" fill="currentColor" opacity="0.5"></path><path d="M12.5 7C16.6421 7 20 6.10457 20 5V11.5C20 12.6046 16.6421 13.5 12.5 13.5C8.35786 13.5 5 12.6046 5 11.5V5C5 6.10457 8.35786 7 12.5 7Z" fill="currentColor" opacity="0.5"></path><path d="M5.23628 12C5.08204 12.1598 5 12.8273 5 13C5 14.1046 8.35786 15 12.5 15C16.6421 15 20 14.1046 20 13C20 12.8273 19.918 12.1598 19.7637 12C18.9311 12.8626 15.9947 13.5 12.5 13.5C9.0053 13.5 6.06886 12.8626 5.23628 12Z" fill="currentColor"></path></svg>
					Datasets</a>
			</li><li class="hover:text-blue-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/spaces"><svg class="mr-1.5 text-gray-400 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 25 25"><path opacity=".5" d="M6.016 14.674v4.31h4.31v-4.31h-4.31ZM14.674 14.674v4.31h4.31v-4.31h-4.31ZM6.016 6.016v4.31h4.31v-4.31h-4.31Z" fill="currentColor"></path><path opacity=".75" fill-rule="evenodd" clip-rule="evenodd" d="M3 4.914C3 3.857 3.857 3 4.914 3h6.514c.884 0 1.628.6 1.848 1.414a5.171 5.171 0 0 1 7.31 7.31c.815.22 1.414.964 1.414 1.848v6.514A1.914 1.914 0 0 1 20.086 22H4.914A1.914 1.914 0 0 1 3 20.086V4.914Zm3.016 1.102v4.31h4.31v-4.31h-4.31Zm0 12.968v-4.31h4.31v4.31h-4.31Zm8.658 0v-4.31h4.31v4.31h-4.31Zm0-10.813a2.155 2.155 0 1 1 4.31 0 2.155 2.155 0 0 1-4.31 0Z" fill="currentColor"></path><path opacity=".25" d="M16.829 6.016a2.155 2.155 0 1 0 0 4.31 2.155 2.155 0 0 0 0-4.31Z" fill="currentColor"></path></svg>
					Spaces</a>
			</li><li class="hover:text-yellow-700 max-xl:hidden"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/posts"><svg class="mr-1.5 text-gray-400 group-hover:text-yellow-500 text-yellow-500!" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 12 12" preserveAspectRatio="xMidYMid meet"><path fill="currentColor" fill-rule="evenodd" d="M3.73 2.4A4.25 4.25 0 1 1 6 10.26H2.17l-.13-.02a.43.43 0 0 1-.3-.43l.01-.06a.43.43 0 0 1 .12-.22l.84-.84A4.26 4.26 0 0 1 3.73 2.4Z" clip-rule="evenodd"></path></svg>
					Posts</a>
			</li><li class="hover:text-yellow-700"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/docs"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1.5 text-gray-400 group-hover:text-yellow-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><path d="m2.28 3.7-.3.16a.67.67 0 0 0-.34.58v8.73l.01.04.02.07.01.04.03.06.02.04.02.03.04.06.05.05.04.04.06.04.06.04.08.04.08.02h.05l.07.02h.11l.04-.01.07-.02.03-.01.07-.03.22-.12a5.33 5.33 0 0 1 5.15.1.67.67 0 0 0 .66 0 5.33 5.33 0 0 1 5.33 0 .67.67 0 0 0 1-.58V4.36a.67.67 0 0 0-.34-.5l-.3-.17v7.78a.63.63 0 0 1-.87.59 4.9 4.9 0 0 0-4.35.35l-.65.39a.29.29 0 0 1-.15.04.29.29 0 0 1-.16-.04l-.65-.4a4.9 4.9 0 0 0-4.34-.34.63.63 0 0 1-.87-.59V3.7Z" fill="currentColor" class="dark:opacity-40"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8 3.1a5.99 5.99 0 0 0-5.3-.43.66.66 0 0 0-.42.62v8.18c0 .45.46.76.87.59a4.9 4.9 0 0 1 4.34.35l.65.39c.05.03.1.04.16.04.05 0 .1-.01.15-.04l.65-.4a4.9 4.9 0 0 1 4.35-.34.63.63 0 0 0 .86-.59V3.3a.67.67 0 0 0-.41-.62 5.99 5.99 0 0 0-5.3.43l-.3.17L8 3.1Zm.73 1.87a.43.43 0 1 0-.86 0v5.48a.43.43 0 0 0 .86 0V4.97Z" fill="currentColor" class="opacity-40 dark:opacity-100"></path><path d="M8.73 4.97a.43.43 0 1 0-.86 0v5.48a.43.43 0 1 0 .86 0V4.96Z" fill="currentColor" class="dark:opacity-40"></path></svg>
					Docs</a>
			</li><li class="hover:text-black dark:hover:text-white"><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/enterprise"><svg class="mr-1.5 text-gray-400 group-hover:text-black dark:group-hover:text-white" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 33 27"><path fill="currentColor" fill-rule="evenodd" d="M13.5.7a8.7 8.7 0 0 0-7.7 5.7L1 20.6c-1 3.1.9 5.7 4.1 5.7h15c3.3 0 6.8-2.6 7.8-5.7l4.6-14.2c1-3.1-.8-5.7-4-5.7h-15Zm1.1 5.7L9.8 20.3h9.8l1-3.1h-5.8l.8-2.5h4.8l1.1-3h-4.8l.8-2.3H23l1-3h-9.5Z" clip-rule="evenodd"></path></svg>
					Enterprise</a>
			</li>

		<li><a class="group flex items-center px-2 py-0.5 dark:text-gray-300 dark:hover:text-gray-100" href="/pricing">Pricing
			</a></li>

		<li><div class="relative group">
	<button class="px-2 py-0.5 hover:text-gray-500 dark:hover:text-gray-600 flex items-center " type="button">
		<svg class=" text-gray-500 w-5 group-hover:text-gray-400 dark:text-gray-300 dark:group-hover:text-gray-100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" viewBox="0 0 32 18" preserveAspectRatio="xMidYMid meet"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 3.30221C14.4504 2.836 14.8284 2.45807 15.2946 2.45807H28.4933C28.9595 2.45807 29.3374 2.836 29.3374 3.30221C29.3374 3.76842 28.9595 4.14635 28.4933 4.14635H15.2946C14.8284 4.14635 14.4504 3.76842 14.4504 3.30221Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 9.00002C14.4504 8.53382 14.8284 8.15588 15.2946 8.15588H28.4933C28.9595 8.15588 29.3374 8.53382 29.3374 9.00002C29.3374 9.46623 28.9595 9.84417 28.4933 9.84417H15.2946C14.8284 9.84417 14.4504 9.46623 14.4504 9.00002Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4504 14.6978C14.4504 14.2316 14.8284 13.8537 15.2946 13.8537H28.4933C28.9595 13.8537 29.3374 14.2316 29.3374 14.6978C29.3374 15.164 28.9595 15.542 28.4933 15.542H15.2946C14.8284 15.542 14.4504 15.164 14.4504 14.6978Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M1.94549 6.87377C2.27514 6.54411 2.80962 6.54411 3.13928 6.87377L6.23458 9.96907L9.32988 6.87377C9.65954 6.54411 10.194 6.54411 10.5237 6.87377C10.8533 7.20343 10.8533 7.73791 10.5237 8.06756L6.23458 12.3567L1.94549 8.06756C1.61583 7.73791 1.61583 7.20343 1.94549 6.87377Z" fill="currentColor"></path></svg>
			
		</button>
	
	
	</div></li>
		<li><hr class="h-5 w-0.5 border-none bg-gray-100 dark:bg-gray-800"></li>
		<li><a class="block cursor-pointer whitespace-nowrap px-2 py-0.5 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-100" href="/login">Log In
				</a></li>
			<li><a class="whitespace-nowrap rounded-full border border-transparent bg-gray-900 px-3 py-1 leading-none text-white hover:border-black hover:bg-white hover:text-black" href="/join">Sign Up
					</a></li></ul></nav></div></header></div>
	
	
	
	<div class="SVELTE_HYDRATER contents" data-target="SSOBanner" data-props="{}"></div>
	
	

	<main class="flex flex-1 flex-col">
	<div class="SVELTE_HYDRATER contents" data-target="DatasetHeader" data-props="{&quot;activeTab&quot;:&quot;datasetCard&quot;,&quot;author&quot;:{&quot;_id&quot;:&quot;5e67bed6100906368940747b&quot;,&quot;avatarUrl&quot;:&quot;https://cdn-avatars.huggingface.co/v1/production/uploads/1583858339980-5e67bed6100906368940747b.jpeg&quot;,&quot;fullname&quot;:&quot;Teven Le Scao&quot;,&quot;name&quot;:&quot;teven&quot;,&quot;type&quot;:&quot;user&quot;,&quot;isPro&quot;:false,&quot;isHf&quot;:false,&quot;isHfAdmin&quot;:false,&quot;isMod&quot;:false,&quot;followerCount&quot;:64},&quot;canReadRepoSettings&quot;:false,&quot;dataset&quot;:{&quot;author&quot;:&quot;teven&quot;,&quot;createdAt&quot;:&quot;2022-03-02T23:29:22.000Z&quot;,&quot;downloads&quot;:5827,&quot;downloadsAllTime&quot;:9624,&quot;id&quot;:&quot;teven/github_all_lang_filtered&quot;,&quot;isLikedByUser&quot;:false,&quot;lastModified&quot;:&quot;2022-02-05T00:20:33.000Z&quot;,&quot;likes&quot;:1,&quot;datasetsServerInfo&quot;:{&quot;viewer&quot;:&quot;viewer&quot;,&quot;numRows&quot;:35559527,&quot;libraries&quot;:[&quot;datasets&quot;,&quot;dask&quot;,&quot;mlcroissant&quot;,&quot;polars&quot;],&quot;formats&quot;:[&quot;parquet&quot;],&quot;modalities&quot;:[&quot;text&quot;]},&quot;discussionsDisabled&quot;:false,&quot;repoType&quot;:&quot;dataset&quot;,&quot;private&quot;:false,&quot;gated&quot;:false,&quot;tags&quot;:[&quot;size_categories:10M<n<100M&quot;,&quot;format:parquet&quot;,&quot;modality:text&quot;,&quot;library:datasets&quot;,&quot;library:dask&quot;,&quot;library:mlcroissant&quot;,&quot;library:polars&quot;,&quot;region:us&quot;],&quot;tag_objs&quot;:[{&quot;id&quot;:&quot;size_categories:10M<n<100M&quot;,&quot;label&quot;:&quot;10M - 100M&quot;,&quot;type&quot;:&quot;size_categories&quot;},{&quot;id&quot;:&quot;format:parquet&quot;,&quot;label&quot;:&quot;parquet&quot;,&quot;type&quot;:&quot;format&quot;},{&quot;id&quot;:&quot;modality:text&quot;,&quot;label&quot;:&quot;Text&quot;,&quot;type&quot;:&quot;modality&quot;},{&quot;id&quot;:&quot;library:datasets&quot;,&quot;label&quot;:&quot;Datasets&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;library:dask&quot;,&quot;label&quot;:&quot;Dask&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;library:mlcroissant&quot;,&quot;label&quot;:&quot;Croissant&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;id&quot;:&quot;library:polars&quot;,&quot;label&quot;:&quot;Polars&quot;,&quot;type&quot;:&quot;library&quot;},{&quot;type&quot;:&quot;region&quot;,&quot;label&quot;:&quot;🇺🇸 Region: US&quot;,&quot;id&quot;:&quot;region:us&quot;}],&quot;hasBlockedOids&quot;:false,&quot;region&quot;:&quot;us&quot;,&quot;xetEnabled&quot;:false},&quot;discussionsStats&quot;:{&quot;closed&quot;:0,&quot;open&quot;:0,&quot;total&quot;:0}}"><header class="bg-linear-to-t border-b border-gray-100 pt-6 sm:pt-9 from-gray-50-to-white via-white dark:via-gray-950"><div class="container relative "><h1 class="flex flex-wrap items-center max-md:leading-tight mb-3 text-lg max-sm:gap-y-1.5 md:text-xl"><a href="/datasets" class="group flex items-center"><svg class="sm:mr-1.5 -mr-1 text-gray-400" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 25 25"><ellipse cx="12.5" cy="5" fill="currentColor" fill-opacity="0.25" rx="7.5" ry="2"></ellipse><path d="M12.5 15C16.6421 15 20 14.1046 20 13V20C20 21.1046 16.6421 22 12.5 22C8.35786 22 5 21.1046 5 20V13C5 14.1046 8.35786 15 12.5 15Z" fill="currentColor" opacity="0.5"></path><path d="M12.5 7C16.6421 7 20 6.10457 20 5V11.5C20 12.6046 16.6421 13.5 12.5 13.5C8.35786 13.5 5 12.6046 5 11.5V5C5 6.10457 8.35786 7 12.5 7Z" fill="currentColor" opacity="0.5"></path><path d="M5.23628 12C5.08204 12.1598 5 12.8273 5 13C5 14.1046 8.35786 15 12.5 15C16.6421 15 20 14.1046 20 13C20 12.8273 19.918 12.1598 19.7637 12C18.9311 12.8626 15.9947 13.5 12.5 13.5C9.0053 13.5 6.06886 12.8626 5.23628 12Z" fill="currentColor"></path></svg>
					<span class="mr-2.5 font-semibold text-gray-400 group-hover:text-gray-500 max-sm:hidden">Datasets:</span></a>
				<hr class="mx-1.5 h-2 translate-y-px rounded-sm border-r dark:border-gray-600 sm:hidden">
			<div class="group flex flex-none items-center"><div class="relative mr-1 flex items-center">

			

<span class="inline-block "><span class="contents"><a href="/teven" class="text-gray-400 hover:text-blue-600"><img alt="" class="w-3.5 h-3.5 rounded-full  flex-none" src="https://cdn-avatars.huggingface.co/v1/production/uploads/1583858339980-5e67bed6100906368940747b.jpeg" crossorigin="anonymous"></a></span>
	</span></div>
		

<span class="inline-block "><span class="contents"><a href="/teven" class="text-gray-400 hover:text-blue-600">teven</a></span>
	</span>
		<div class="mx-0.5 text-gray-300">/</div></div>

<div class="max-w-full "><a class="break-words font-mono font-semibold hover:text-blue-600 " href="/datasets/teven/github_all_lang_filtered">github_all_lang_filtered</a>
	<button class="relative text-sm mr-4 focus:outline-hidden inline-flex cursor-pointer items-center text-sm  mx-0.5   text-gray-600 " title="Copy dataset name to clipboard" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg>
	
	</button></div>
			<div class="inline-flex items-center overflow-hidden whitespace-nowrap rounded-md border bg-white text-sm leading-none text-gray-500  mr-2"><button class="relative flex items-center overflow-hidden from-red-50 to-transparent dark:from-red-900 px-1.5 py-1 hover:bg-linear-to-t focus:outline-hidden"  title="Like"><svg class="left-1.5 absolute" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" fill="currentColor"><path d="M22.45,6a5.47,5.47,0,0,1,3.91,1.64,5.7,5.7,0,0,1,0,8L16,26.13,5.64,15.64a5.7,5.7,0,0,1,0-8,5.48,5.48,0,0,1,7.82,0L16,10.24l2.53-2.58A5.44,5.44,0,0,1,22.45,6m0-2a7.47,7.47,0,0,0-5.34,2.24L16,7.36,14.89,6.24a7.49,7.49,0,0,0-10.68,0,7.72,7.72,0,0,0,0,10.82L16,29,27.79,17.06a7.72,7.72,0,0,0,0-10.82A7.49,7.49,0,0,0,22.45,4Z"></path></svg>

		
		<span class="ml-4 pl-0.5 ">like</span></button>
	<button class="focus:outline-hidden flex items-center border-l px-1.5 py-1 text-gray-400 hover:bg-gray-50 focus:bg-gray-100 dark:hover:bg-gray-900 dark:focus:bg-gray-800" title="See users who liked this repository">1</button></div>




			
			
	</h1>
		<div class="mb-3 flex flex-wrap md:mb-4"><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Modalities:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?modality=modality%3Atext"><div class="tag tag-white   ">
		<svg class="text-red-700 dark:text-red-600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.619 4.619C2.667 6.573 2.667 9.715 2.667 16s0 9.428 1.952 11.38C6.573 29.333 9.715 29.333 16 29.333s9.428 0 11.38-1.953c1.953-1.95 1.953-5.095 1.953-11.38s0-9.428-1.953-11.381C25.43 2.667 22.285 2.667 16 2.667s-9.428 0-11.381 1.952m8.65 3.714c-.573 0-1.109 0-1.546.066-.495.073-1.003.248-1.41.7-.392.436-.53.956-.59 1.452-.056.464-.056 1.04-.056 1.689V13a1 1 0 1 0 2 0v-.704c0-.724.001-1.176.041-1.505q.015-.15.061-.294a.2.2 0 0 1 .031-.061q0-.003.016-.01a.8.8 0 0 1 .203-.05c.272-.04.654-.043 1.314-.043H15v11.334h-2.333a1 1 0 1 0 0 2H20a1 1 0 0 0 0-2h-3V10.333h1.667c.66 0 1.042.003 1.314.043.123.019.18.04.203.05l.015.009a.2.2 0 0 1 .032.061c.018.05.042.14.061.295.04.329.041.781.041 1.506V13a1 1 0 1 0 2 0v-.76c0-.65 0-1.225-.056-1.69-.06-.495-.198-1.015-.59-1.453-.407-.45-.915-.625-1.41-.698-.437-.067-.973-.067-1.546-.066z" fill="currentColor"></path></svg>

	

	<span>Text</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Formats:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?format=format%3Aparquet"><div class="tag tag-white   ">
		<svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 34 34"><path fill-rule="evenodd" clip-rule="evenodd" d="m17.97 18.44-3.98-2.3-7.1 3.78 3.98 2.3 7.1-3.78Zm15.1-1.4-3.99-2.3-16.22 8.63 3.98 2.3 16.22-8.63Zm-5.98-3.45-3.97-2.3-7.1 3.78 3.98 2.3 7.1-3.78Zm-9.94-5.74 3.98 2.3-11.16 5.93L6 13.78l11.16-5.93Zm-13.19 7 3.98 2.3-3.04 1.62-3.98-2.3 3.04-1.61Z" fill="currentColor"></path></svg>

	

	<span>parquet</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Size:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?size_categories=size_categories%3A10M%3Cn%3C100M"><div class="tag tag-white   ">

	

	<span>10M - 100M</span>
	

	</div></a>

	</div><div class="mr-1 flex flex-wrap items-center"><span class="mb-1 mr-1 p-1 text-sm leading-tight text-gray-400 md:mb-1.5">Libraries:
	</span>
	<a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?library=library%3Adatasets"><div class="tag tag-white   "><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" preserveAspectRatio="xMidYMid meet" width="1em" height="1em" viewBox="0 0 95 88"><path fill="#fff" d="M94.25 70.08a8.28 8.28 0 0 1-.43 6.46 10.57 10.57 0 0 1-3 3.6 25.18 25.18 0 0 1-5.7 3.2 65.74 65.74 0 0 1-7.56 2.65 46.67 46.67 0 0 1-11.42 1.68c-5.42.05-10.09-1.23-13.4-4.5a40.4 40.4 0 0 1-10.14.03c-3.34 3.25-7.99 4.52-13.39 4.47a46.82 46.82 0 0 1-11.43-1.68 66.37 66.37 0 0 1-7.55-2.65c-2.28-.98-4.17-2-5.68-3.2a10.5 10.5 0 0 1-3.02-3.6c-.99-2-1.18-4.3-.42-6.46a8.54 8.54 0 0 1-.33-5.63c.25-.95.66-1.83 1.18-2.61a8.67 8.67 0 0 1 2.1-8.47 8.23 8.23 0 0 1 2.82-2.07 41.75 41.75 0 1 1 81.3-.12 8.27 8.27 0 0 1 3.11 2.19 8.7 8.7 0 0 1 2.1 8.47c.52.78.93 1.66 1.18 2.61a8.61 8.61 0 0 1-.32 5.63Z"></path><path fill="#FFD21E" d="M47.21 76.5a34.75 34.75 0 1 0 0-69.5 34.75 34.75 0 0 0 0 69.5Z"></path><path fill="#FF9D0B" d="M81.96 41.75a34.75 34.75 0 1 0-69.5 0 34.75 34.75 0 0 0 69.5 0Zm-73.5 0a38.75 38.75 0 1 1 77.5 0 38.75 38.75 0 0 1-77.5 0Z"></path><path fill="#3A3B45" d="M58.5 32.3c1.28.44 1.78 3.06 3.07 2.38a5 5 0 1 0-6.76-2.07c.61 1.15 2.55-.72 3.7-.32ZM34.95 32.3c-1.28.44-1.79 3.06-3.07 2.38a5 5 0 1 1 6.76-2.07c-.61 1.15-2.56-.72-3.7-.32Z"></path><path fill="#FF323D" d="M46.96 56.29c9.83 0 13-8.76 13-13.26 0-2.34-1.57-1.6-4.09-.36-2.33 1.15-5.46 2.74-8.9 2.74-7.19 0-13-6.88-13-2.38s3.16 13.26 13 13.26Z"></path><path fill="#3A3B45" fill-rule="evenodd" d="M39.43 54a8.7 8.7 0 0 1 5.3-4.49c.4-.12.81.57 1.24 1.28.4.68.82 1.37 1.24 1.37.45 0 .9-.68 1.33-1.35.45-.7.89-1.38 1.32-1.25a8.61 8.61 0 0 1 5 4.17c3.73-2.94 5.1-7.74 5.1-10.7 0-2.34-1.57-1.6-4.09-.36l-.14.07c-2.31 1.15-5.39 2.67-8.77 2.67s-6.45-1.52-8.77-2.67c-2.6-1.29-4.23-2.1-4.23.29 0 3.05 1.46 8.06 5.47 10.97Z" clip-rule="evenodd"></path><path fill="#FF9D0B" d="M70.71 37a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5ZM24.21 37a3.25 3.25 0 1 0 0-6.5 3.25 3.25 0 0 0 0 6.5ZM17.52 48c-1.62 0-3.06.66-4.07 1.87a5.97 5.97 0 0 0-1.33 3.76 7.1 7.1 0 0 0-1.94-.3c-1.55 0-2.95.59-3.94 1.66a5.8 5.8 0 0 0-.8 7 5.3 5.3 0 0 0-1.79 2.82c-.24.9-.48 2.8.8 4.74a5.22 5.22 0 0 0-.37 5.02c1.02 2.32 3.57 4.14 8.52 6.1 3.07 1.22 5.89 2 5.91 2.01a44.33 44.33 0 0 0 10.93 1.6c5.86 0 10.05-1.8 12.46-5.34 3.88-5.69 3.33-10.9-1.7-15.92-2.77-2.78-4.62-6.87-5-7.77-.78-2.66-2.84-5.62-6.25-5.62a5.7 5.7 0 0 0-4.6 2.46c-1-1.26-1.98-2.25-2.86-2.82A7.4 7.4 0 0 0 17.52 48Zm0 4c.51 0 1.14.22 1.82.65 2.14 1.36 6.25 8.43 7.76 11.18.5.92 1.37 1.31 2.14 1.31 1.55 0 2.75-1.53.15-3.48-3.92-2.93-2.55-7.72-.68-8.01.08-.02.17-.02.24-.02 1.7 0 2.45 2.93 2.45 2.93s2.2 5.52 5.98 9.3c3.77 3.77 3.97 6.8 1.22 10.83-1.88 2.75-5.47 3.58-9.16 3.58-3.81 0-7.73-.9-9.92-1.46-.11-.03-13.45-3.8-11.76-7 .28-.54.75-.76 1.34-.76 2.38 0 6.7 3.54 8.57 3.54.41 0 .7-.17.83-.6.79-2.85-12.06-4.05-10.98-8.17.2-.73.71-1.02 1.44-1.02 3.14 0 10.2 5.53 11.68 5.53.11 0 .2-.03.24-.1.74-1.2.33-2.04-4.9-5.2-5.21-3.16-8.88-5.06-6.8-7.33.24-.26.58-.38 1-.38 3.17 0 10.66 6.82 10.66 6.82s2.02 2.1 3.25 2.1c.28 0 .52-.1.68-.38.86-1.46-8.06-8.22-8.56-11.01-.34-1.9.24-2.85 1.31-2.85Z"></path><path fill="#FFD21E" d="M38.6 76.69c2.75-4.04 2.55-7.07-1.22-10.84-3.78-3.77-5.98-9.3-5.98-9.3s-.82-3.2-2.69-2.9c-1.87.3-3.24 5.08.68 8.01 3.91 2.93-.78 4.92-2.29 2.17-1.5-2.75-5.62-9.82-7.76-11.18-2.13-1.35-3.63-.6-3.13 2.2.5 2.79 9.43 9.55 8.56 11-.87 1.47-3.93-1.71-3.93-1.71s-9.57-8.71-11.66-6.44c-2.08 2.27 1.59 4.17 6.8 7.33 5.23 3.16 5.64 4 4.9 5.2-.75 1.2-12.28-8.53-13.36-4.4-1.08 4.11 11.77 5.3 10.98 8.15-.8 2.85-9.06-5.38-10.74-2.18-1.7 3.21 11.65 6.98 11.76 7.01 4.3 1.12 15.25 3.49 19.08-2.12Z"></path><path fill="#FF9D0B" d="M77.4 48c1.62 0 3.07.66 4.07 1.87a5.97 5.97 0 0 1 1.33 3.76 7.1 7.1 0 0 1 1.95-.3c1.55 0 2.95.59 3.94 1.66a5.8 5.8 0 0 1 .8 7 5.3 5.3 0 0 1 1.78 2.82c.24.9.48 2.8-.8 4.74a5.22 5.22 0 0 1 .37 5.02c-1.02 2.32-3.57 4.14-8.51 6.1-3.08 1.22-5.9 2-5.92 2.01a44.33 44.33 0 0 1-10.93 1.6c-5.86 0-10.05-1.8-12.46-5.34-3.88-5.69-3.33-10.9 1.7-15.92 2.78-2.78 4.63-6.87 5.01-7.77.78-2.66 2.83-5.62 6.24-5.62a5.7 5.7 0 0 1 4.6 2.46c1-1.26 1.98-2.25 2.87-2.82A7.4 7.4 0 0 1 77.4 48Zm0 4c-.51 0-1.13.22-1.82.65-2.13 1.36-6.25 8.43-7.76 11.18a2.43 2.43 0 0 1-2.14 1.31c-1.54 0-2.75-1.53-.14-3.48 3.91-2.93 2.54-7.72.67-8.01a1.54 1.54 0 0 0-.24-.02c-1.7 0-2.45 2.93-2.45 2.93s-2.2 5.52-5.97 9.3c-3.78 3.77-3.98 6.8-1.22 10.83 1.87 2.75 5.47 3.58 9.15 3.58 3.82 0 7.73-.9 9.93-1.46.1-.03 13.45-3.8 11.76-7-.29-.54-.75-.76-1.34-.76-2.38 0-6.71 3.54-8.57 3.54-.42 0-.71-.17-.83-.6-.8-2.85 12.05-4.05 10.97-8.17-.19-.73-.7-1.02-1.44-1.02-3.14 0-10.2 5.53-11.68 5.53-.1 0-.19-.03-.23-.1-.74-1.2-.34-2.04 4.88-5.2 5.23-3.16 8.9-5.06 6.8-7.33-.23-.26-.57-.38-.98-.38-3.18 0-10.67 6.82-10.67 6.82s-2.02 2.1-3.24 2.1a.74.74 0 0 1-.68-.38c-.87-1.46 8.05-8.22 8.55-11.01.34-1.9-.24-2.85-1.31-2.85Z"></path><path fill="#FFD21E" d="M56.33 76.69c-2.75-4.04-2.56-7.07 1.22-10.84 3.77-3.77 5.97-9.3 5.97-9.3s.82-3.2 2.7-2.9c1.86.3 3.23 5.08-.68 8.01-3.92 2.93.78 4.92 2.28 2.17 1.51-2.75 5.63-9.82 7.76-11.18 2.13-1.35 3.64-.6 3.13 2.2-.5 2.79-9.42 9.55-8.55 11 .86 1.47 3.92-1.71 3.92-1.71s9.58-8.71 11.66-6.44c2.08 2.27-1.58 4.17-6.8 7.33-5.23 3.16-5.63 4-4.9 5.2.75 1.2 12.28-8.53 13.36-4.4 1.08 4.11-11.76 5.3-10.97 8.15.8 2.85 9.05-5.38 10.74-2.18 1.69 3.21-11.65 6.98-11.76 7.01-4.31 1.12-15.26 3.49-19.08-2.12Z"></path></svg>

	

	<span>Datasets</span>
	

	</div></a><a class="mb-1 mr-1 md:mb-1.5 md:mr-1.5 rounded-lg" href="/datasets?library=library%3Adask"><div class="tag tag-white   "><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path d="m3.368 3.694 2.965-1.71A.095.095 0 0 0 6.38 1.9V.875a.49.49 0 0 0-.183-.394.468.468 0 0 0-.523-.034L1.526 2.84a.471.471 0 0 0-.235.408l-.002 5.405c0 .151.062.302.183.394.157.118.358.13.524.035l.878-.507a.095.095 0 0 0 .048-.082V4.465a.89.89 0 0 1 .446-.771Z" fill="#FFC11E"></path><path d="M10.475 2.919a.47.47 0 0 0-.47 0L5.856 5.312a.473.473 0 0 0-.236.408l-.002 5.425c0 .17.088.323.236.408a.466.466 0 0 0 .471 0l4.147-2.393a.473.473 0 0 0 .236-.408l.002-5.425a.467.467 0 0 0-.236-.408Z" fill="#EF1161"></path><path d="m5.647 4.949 2.737-1.58a.095.095 0 0 0 .047-.082V2.093a.49.49 0 0 0-.183-.394.468.468 0 0 0-.523-.035l-1.135.655-3.013 1.738a.471.471 0 0 0-.236.408v4.083L3.34 9.87c0 .152.062.302.183.394.157.118.358.13.524.035l1.106-.639a.094.094 0 0 0 .047-.082l.001-3.859a.89.89 0 0 1 .446-.77Z" fill="#FC6E6B"></path></svg>

	

	<span>Dask</span>
	

	</div></a><div class="relative inline-block ">
	<button class="group mr-1 mb-1 md:mr-1.5 md:mb-1.5  rounded-lg rounded-br-none " type="button">
		<div class="tag tag-white   relative rounded-br-none pr-2.5"><svg class="text-black inline-block text-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="none" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M22.2812 12.2656L25.9532 15.7187C26.8932 16.6587 28.0913 17.3931 29.0313 16.4531C29.8594 15.7812 29.9332 14.1 29.9532 13.5C29.9532 11.5625 28.9219 8.375 27.25 6.71875C25.5604 5.04493 23.3782 3.91692 22.7032 3.78125L22.2812 12.2656Z" fill="#F5AB6A"></path><path d="M22.2812 12.2656L25.9532 15.7187C26.8932 16.6587 28.0913 17.3931 29.0313 16.4531C29.8594 15.7812 29.9332 14.1 29.9532 13.5C29.9532 11.5625 28.9219 8.375 27.25 6.71875C25.5604 5.04493 23.3782 3.91692 22.7032 3.78125L22.2812 12.2656Z" fill="url(#paint0_radial_18_31665)"></path><g filter="url(#filter0_f_18_31665)"><path d="M22.2849 12.1817L23.4375 13.2656L24.4375 4.70312C23.5121 4.1242 23.0198 3.96369 22.6563 3.89062L22.2849 12.1817Z" fill="url(#paint1_linear_18_31665)"></path></g><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint2_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint3_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint4_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint5_radial_18_31665)"></path><path d="M22.7969 3.05741L21.8437 2.65269C19.6421 1.96765 17.2344 1.81208 14.6719 2.23236C12.1094 2.65264 11.5156 3.2442 11.5156 3.2442C10.896 3.3674 10.8671 3.88898 11.1718 4.45363C13.0797 6.72576 15.176 13.4043 18.0469 14.2506C18.89 14.4662 21.3791 14.4776 22.2019 14.1593L22.3238 14.108C22.6692 13.9745 23.1672 13.2814 23.1875 12.9118L23.4219 4.03043C23.4523 3.59924 23.1484 3.25204 22.7969 3.05741Z" fill="url(#paint6_linear_18_31665)"></path><g filter="url(#filter1_f_18_31665)"><path d="M13.1016 2.72656C11.862 3.06924 11.5298 3.40016 11.5298 3.40016C10.9102 3.52335 10.936 4.11525 11.2408 4.6799C13.1487 6.95202 15.1361 13.2496 18.007 14.0958C18.2707 14.1633 18.6953 14.2107 19.1797 14.2344L13.1016 2.72656Z" fill="url(#paint7_linear_18_31665)"></path></g><path d="M12.2187 22.7187L15.7656 26.2031C16.7332 27.1171 17.3334 28.2487 16.4219 29.2188C15.7749 30.0687 14.2241 29.9933 13.625 30.0313C11.6883 30.0891 9.09014 29.5622 6.84373 27.5313C5.07737 25.9343 4.09321 23.688 3.93751 23.0156L12.2187 22.7187Z" fill="url(#paint8_radial_18_31665)"></path><path d="M12.2187 22.7187L15.7656 26.2031C16.7332 27.1171 17.3334 28.2487 16.4219 29.2188C15.7749 30.0687 14.2241 29.9933 13.625 30.0313C11.6883 30.0891 9.09014 29.5622 6.84373 27.5313C5.07737 25.9343 4.09321 23.688 3.93751 23.0156L12.2187 22.7187Z" fill="url(#paint9_radial_18_31665)"></path><g filter="url(#filter2_f_18_31665)"><path d="M12.0523 22.7916L13.2187 23.9375L4.81018 24.5721C4.4328 23.8671 4.20835 23.2768 4.14062 22.9844L12.0523 22.7916Z" fill="url(#paint10_linear_18_31665)"></path><path d="M12.0523 22.7916L13.2187 23.9375L4.81018 24.5721C4.4328 23.8671 4.20835 23.2768 4.14062 22.9844L12.0523 22.7916Z" fill="url(#paint11_radial_18_31665)"></path></g><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="#EC9F6A"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint12_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint13_linear_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint14_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint15_radial_18_31665)"></path><path d="M2.99219 22.6484C2.07068 20.538 1.78913 17.4452 2.21096 15.0703C2.63279 12.6953 3.20759 11.951 3.20759 11.951C3.31231 11.3264 3.83281 11.2818 4.40626 11.5703C6.73409 13.4144 13.3119 15.2264 14.2432 18.0781C14.5947 19.3034 14.6279 21.3125 14.1641 22.5156C14.0409 22.8657 13.5 23.3516 13.0625 23.4141C12.625 23.4765 9.47656 23.3516 8.61719 23.3516C7.75781 23.3516 4.64844 23.6719 4.14062 23.6172C3.63281 23.5625 3.23437 23.2031 2.99219 22.6484Z" fill="url(#paint16_radial_18_31665)"></path><g filter="url(#filter3_f_18_31665)"><path d="M2.70313 13.6719C3.04135 12.4711 3.36224 12.0555 3.36224 12.0555C3.46697 11.4309 3.98746 11.3864 4.56092 11.6749C6.88874 13.5189 13.0809 15.1104 14.0121 17.9622C14.1731 18.5231 14.2766 19.0394 14.3287 19.5128L2.70313 13.6719Z" fill="url(#paint17_linear_18_31665)"></path><path d="M2.70313 13.6719C3.04135 12.4711 3.36224 12.0555 3.36224 12.0555C3.46697 11.4309 3.98746 11.3864 4.56092 11.6749C6.88874 13.5189 13.0809 15.1104 14.0121 17.9622C14.1731 18.5231 14.2766 19.0394 14.3287 19.5128L2.70313 13.6719Z" fill="url(#paint18_linear_18_31665)"></path></g><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="#D79453"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint19_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint20_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint21_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint22_linear_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint23_radial_18_31665)"></path><path d="M9.83184 2.82184C6.62184 4.07184 4.07184 6.62184 2.82184 9.83184C2.48184 10.7118 2.82184 11.7018 3.62184 12.1918L14.0418 18.5418C14.6618 18.9218 15.4418 18.9218 16.0618 18.5418C17.0718 17.9218 17.9318 17.0718 18.5418 16.0618C18.9218 15.4418 18.9218 14.6618 18.5418 14.0418L12.1918 3.62184C11.7018 2.82184 10.7118 2.48184 9.83184 2.82184Z" fill="url(#paint24_radial_18_31665)"></path><defs><filter id="filter0_f_18_31665" x="22.0349" y="3.64062" width="2.65265" height="9.875" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter1_f_18_31665" x="10.7815" y="2.47656" width="8.64819" height="12.0078" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter2_f_18_31665" x="3.89062" y="22.5416" width="9.57812" height="2.2804" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><filter id="filter3_f_18_31665" x="2.45312" y="11.2538" width="12.1255" height="8.50903" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="0.125" result="effect1_foregroundBlur_18_31665"></feGaussianBlur></filter><radialGradient id="paint0_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.8125 12.9375) rotate(42.7741) scale(12.5164 7.08839)"><stop offset="0.0937591" stop-color="#C05159"></stop><stop offset="0.553697" stop-color="#F6AC6A"></stop><stop offset="0.832916" stop-color="#FFD186"></stop><stop offset="0.916927" stop-color="#FFDC87"></stop></radialGradient><linearGradient id="paint1_linear_18_31665" x1="24.7344" y1="4.67187" x2="20.8594" y2="12.8906" gradientUnits="userSpaceOnUse"><stop stop-color="#EBD67C"></stop><stop offset="0.0655686" stop-color="#FFFFA6"></stop><stop offset="0.530552" stop-color="#F8C281"></stop><stop offset="0.937338" stop-color="#E99E6B"></stop></linearGradient><radialGradient id="paint2_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.9009 13.1847) rotate(-127.648) scale(14.3438 11.7966)"><stop stop-color="#FFBE66"></stop><stop offset="1" stop-color="#E2AE5B"></stop></radialGradient><radialGradient id="paint3_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(18 11.4375) rotate(53.9726) scale(11.9013 4.84018)"><stop stop-color="#D67C63"></stop><stop offset="1" stop-color="#D97D67" stop-opacity="0"></stop></radialGradient><radialGradient id="paint4_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(23 4.1875) rotate(45.7639) scale(3.31486 5.75622)"><stop stop-color="#FFE4A6"></stop><stop offset="0.711285" stop-color="#F8B76F"></stop><stop offset="1" stop-color="#F9B870" stop-opacity="0"></stop></radialGradient><radialGradient id="paint5_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(22.875 12.4375) rotate(88.9391) scale(3.37558 1.29066)"><stop stop-color="#FFBC67"></stop><stop offset="1" stop-color="#FFBC67" stop-opacity="0"></stop></radialGradient><linearGradient id="paint6_linear_18_31665" x1="20.375" y1="15.6875" x2="20.125" y2="12.7813" gradientUnits="userSpaceOnUse"><stop offset="0.461609" stop-color="#B45077"></stop><stop offset="0.855389" stop-color="#B75077" stop-opacity="0"></stop></linearGradient><linearGradient id="paint7_linear_18_31665" x1="12.9375" y1="2.57056" x2="18.5625" y2="14.3891" gradientUnits="userSpaceOnUse"><stop stop-color="#DDC173"></stop><stop offset="0.485173" stop-color="#D59F65"></stop><stop offset="1" stop-color="#E49966"></stop></linearGradient><radialGradient id="paint8_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(13.5625 23.5) rotate(109.113) scale(6.68078 10.2578)"><stop offset="0.165756" stop-color="#FFBF7E"></stop><stop offset="0.827674" stop-color="#DF8C6D"></stop><stop offset="1" stop-color="#B05A66"></stop></radialGradient><radialGradient id="paint9_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.1875 26) rotate(41.0652) scale(8.37243 2.03649)"><stop stop-color="#FFD483"></stop><stop offset="1" stop-color="#FFD688" stop-opacity="0"></stop></radialGradient><linearGradient id="paint10_linear_18_31665" x1="3.96063" y1="23.794" x2="13.3748" y2="23.5143" gradientUnits="userSpaceOnUse"><stop stop-color="#A8716F"></stop><stop offset="0.103615" stop-color="#B37173"></stop><stop offset="0.225484" stop-color="#DB9F84"></stop><stop offset="0.799889" stop-color="#F1BB8A"></stop><stop offset="1" stop-color="#FFD780"></stop></linearGradient><radialGradient id="paint11_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(11.4219 23.1719) rotate(-178.616) scale(3.23532 0.569081)"><stop offset="0.621498" stop-color="#AF5A3E"></stop><stop offset="1" stop-color="#B35445" stop-opacity="0"></stop></radialGradient><radialGradient id="paint12_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(13.625 19.125) rotate(-171.737) scale(15.2205 15.0767)"><stop offset="0.138435" stop-color="#FFB974"></stop><stop offset="0.403618" stop-color="#F2A56D"></stop><stop offset="0.925938" stop-color="#A16948"></stop></radialGradient><linearGradient id="paint13_linear_18_31665" x1="8.22184" y1="13.125" x2="6.81191" y2="15.4996" gradientUnits="userSpaceOnUse"><stop offset="0.610751" stop-color="#984847"></stop><stop offset="0.850075" stop-color="#9A4947" stop-opacity="0"></stop></linearGradient><radialGradient id="paint14_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(7.25 23.7461) scale(11.25 5.68361)"><stop stop-color="#C66364"></stop><stop offset="1" stop-color="#D4766B" stop-opacity="0"></stop></radialGradient><radialGradient id="paint15_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(7.875 23.5313) scale(10.0937 1.29657)"><stop stop-color="#B64B4B"></stop><stop offset="1" stop-color="#C56158" stop-opacity="0"></stop></radialGradient><radialGradient id="paint16_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(11.4375 19.875) rotate(-46.8882) scale(4.02385 7.51767)"><stop stop-color="#FFC083"></stop><stop offset="0.620218" stop-color="#FFBD7D" stop-opacity="0"></stop></radialGradient><linearGradient id="paint17_linear_18_31665" x1="2.8125" y1="13.0312" x2="14.5582" y2="18.9404" gradientUnits="userSpaceOnUse"><stop stop-color="#B89367"></stop><stop offset="1" stop-color="#C5835E"></stop></linearGradient><linearGradient id="paint18_linear_18_31665" x1="8.21875" y1="14.6406" x2="7.59349" y2="15.6717" gradientUnits="userSpaceOnUse"><stop offset="0.351552" stop-color="#A74746"></stop><stop offset="0.845198" stop-color="#A04346" stop-opacity="0"></stop></linearGradient><radialGradient id="paint19_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.5625 14.5625) rotate(140.244) scale(18.3733 13.7403)"><stop stop-color="#FDAE69"></stop><stop offset="0.729021" stop-color="#CE8C4F"></stop><stop offset="0.921546" stop-color="#AD7B45"></stop><stop offset="1" stop-color="#8B6B4A"></stop></radialGradient><radialGradient id="paint20_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.0625 7) rotate(65.3152) scale(11.0745 3.16547)"><stop offset="0.233237" stop-color="#FFD47C"></stop><stop offset="0.853648" stop-color="#FFD98B" stop-opacity="0"></stop></radialGradient><radialGradient id="paint21_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.3125 8.875) rotate(100.886) scale(6.6191 5.57808)"><stop offset="0.128419" stop-color="#FFD88C"></stop><stop offset="0.924134" stop-color="#FFBE7B" stop-opacity="0"></stop></radialGradient><linearGradient id="paint22_linear_18_31665" x1="7.25" y1="15.1875" x2="10.7588" y2="10.3142" gradientUnits="userSpaceOnUse"><stop offset="0.142353" stop-color="#C15F4D"></stop><stop offset="1" stop-color="#D58366" stop-opacity="0"></stop></linearGradient><radialGradient id="paint23_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(8.15625 15.7813) rotate(28.5422) scale(12.5574 1.96589)"><stop offset="0.149989" stop-color="#E4745D"></stop><stop offset="0.453292" stop-color="#C8604C"></stop><stop offset="0.632597" stop-color="#C0605F"></stop><stop offset="1" stop-color="#C0605F" stop-opacity="0"></stop></radialGradient><radialGradient id="paint24_radial_18_31665" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1.40625 2.69067) rotate(46.0943) scale(22.3963)"><stop offset="0.935802" stop-color="#C17C61" stop-opacity="0"></stop><stop offset="0.982109" stop-color="#C17C61"></stop></radialGradient></defs></svg>

	

	<span>Croissant</span>
	

	<div class="border-br-gray-200 absolute bottom-0.5 right-0.5 h-1 w-1 border-[3px] border-l-transparent border-t-transparent border-b-gray-200 border-r-gray-200 dark:border-b-gray-700 dark:border-r-gray-700"></div></div>
		
		</button>
	
	
	</div>

	<button class="tag tag-ghost px-1! -ml-0.5 mb-1 md:mb-1.5" type="button">+ 1</button></div></div>

		<div class="flex flex-col-reverse lg:flex-row lg:items-center lg:justify-between"><div class="-mb-px flex h-12 items-center overflow-x-auto overflow-y-hidden ">
	<a class="tab-alternate active" href="/datasets/teven/github_all_lang_filtered"><svg class="mr-1.5 text-gray-400 flex-none" style="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-quaternary" d="M20.23 7.24L12 12L3.77 7.24a1.98 1.98 0 0 1 .7-.71L11 2.76c.62-.35 1.38-.35 2 0l6.53 3.77c.29.173.531.418.7.71z" opacity=".25" fill="currentColor"></path><path class="uim-tertiary" d="M12 12v9.5a2.09 2.09 0 0 1-.91-.21L4.5 17.48a2.003 2.003 0 0 1-1-1.73v-7.5a2.06 2.06 0 0 1 .27-1.01L12 12z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M20.5 8.25v7.5a2.003 2.003 0 0 1-1 1.73l-6.62 3.82c-.275.13-.576.198-.88.2V12l8.23-4.76c.175.308.268.656.27 1.01z" fill="currentColor"></path></svg>
	Dataset card
	

	
		</a><a class="tab-alternate" href="/datasets/teven/github_all_lang_filtered/viewer/"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
	Data Studio
	

	
		</a><a class="tab-alternate" href="/datasets/teven/github_all_lang_filtered/tree/main"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path class="uim-tertiary" d="M21 19h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0-4h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0-8h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2zm0 4h-8a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2z" opacity=".5" fill="currentColor"></path><path class="uim-primary" d="M9 19a1 1 0 0 1-1-1V6a1 1 0 0 1 2 0v12a1 1 0 0 1-1 1zm-6-4.333a1 1 0 0 1-.64-1.769L3.438 12l-1.078-.898a1 1 0 0 1 1.28-1.538l2 1.667a1 1 0 0 1 0 1.538l-2 1.667a.999.999 0 0 1-.64.231z" fill="currentColor"></path></svg>
	<span class="xl:hidden">Files</span>
		<span class="hidden xl:inline">Files and versions</span>
	

	
		</a><a class="tab-alternate" href="/datasets/teven/github_all_lang_filtered/discussions"><svg class="mr-1.5 text-gray-400 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M20.6081 3C21.7684 3 22.8053 3.49196 23.5284 4.38415C23.9756 4.93678 24.4428 5.82749 24.4808 7.16133C24.9674 7.01707 25.4353 6.93643 25.8725 6.93643C26.9833 6.93643 27.9865 7.37587 28.696 8.17411C29.6075 9.19872 30.0124 10.4579 29.8361 11.7177C29.7523 12.3177 29.5581 12.8555 29.2678 13.3534C29.8798 13.8646 30.3306 14.5763 30.5485 15.4322C30.719 16.1032 30.8939 17.5006 29.9808 18.9403C30.0389 19.0342 30.0934 19.1319 30.1442 19.2318C30.6932 20.3074 30.7283 21.5229 30.2439 22.6548C29.5093 24.3704 27.6841 25.7219 24.1397 27.1727C21.9347 28.0753 19.9174 28.6523 19.8994 28.6575C16.9842 29.4379 14.3477 29.8345 12.0653 29.8345C7.87017 29.8345 4.8668 28.508 3.13831 25.8921C0.356375 21.6797 0.754104 17.8269 4.35369 14.1131C6.34591 12.058 7.67023 9.02782 7.94613 8.36275C8.50224 6.39343 9.97271 4.20438 12.4172 4.20438H12.4179C12.6236 4.20438 12.8314 4.2214 13.0364 4.25468C14.107 4.42854 15.0428 5.06476 15.7115 6.02205C16.4331 5.09583 17.134 4.359 17.7682 3.94323C18.7242 3.31737 19.6794 3 20.6081 3ZM20.6081 5.95917C20.2427 5.95917 19.7963 6.1197 19.3039 6.44225C17.7754 7.44319 14.8258 12.6772 13.7458 14.7131C13.3839 15.3952 12.7655 15.6837 12.2086 15.6837C11.1036 15.6837 10.2408 14.5497 12.1076 13.1085C14.9146 10.9402 13.9299 7.39584 12.5898 7.1776C12.5311 7.16799 12.4731 7.16355 12.4172 7.16355C11.1989 7.16355 10.6615 9.33114 10.6615 9.33114C10.6615 9.33114 9.0863 13.4148 6.38031 16.206C3.67434 18.998 3.5346 21.2388 5.50675 24.2246C6.85185 26.2606 9.42666 26.8753 12.0653 26.8753C14.8021 26.8753 17.6077 26.2139 19.1799 25.793C19.2574 25.7723 28.8193 22.984 27.6081 20.6107C27.4046 20.212 27.0693 20.0522 26.6471 20.0522C24.9416 20.0522 21.8393 22.6726 20.5057 22.6726C20.2076 22.6726 19.9976 22.5416 19.9116 22.222C19.3433 20.1173 28.552 19.2325 27.7758 16.1839C27.639 15.6445 27.2677 15.4256 26.746 15.4263C24.4923 15.4263 19.4358 19.5181 18.3759 19.5181C18.2949 19.5181 18.2368 19.4937 18.2053 19.4419C17.6743 18.557 17.9653 17.9394 21.7082 15.6009C25.4511 13.2617 28.0783 11.8545 26.5841 10.1752C26.4121 9.98141 26.1684 9.8956 25.8725 9.8956C23.6001 9.89634 18.2311 14.9403 18.2311 14.9403C18.2311 14.9403 16.7821 16.496 15.9057 16.496C15.7043 16.496 15.533 16.4139 15.4169 16.2112C14.7956 15.1296 21.1879 10.1286 21.5484 8.06535C21.7928 6.66715 21.3771 5.95917 20.6081 5.95917Z" fill="#FF9D00"></path><path d="M5.50686 24.2246C3.53472 21.2387 3.67446 18.9979 6.38043 16.206C9.08641 13.4147 10.6615 9.33111 10.6615 9.33111C10.6615 9.33111 11.2499 6.95933 12.59 7.17757C13.93 7.39581 14.9139 10.9401 12.1069 13.1084C9.29997 15.276 12.6659 16.7489 13.7459 14.713C14.8258 12.6772 17.7747 7.44316 19.304 6.44221C20.8326 5.44128 21.9089 6.00204 21.5484 8.06532C21.188 10.1286 14.795 15.1295 15.4171 16.2118C16.0391 17.2934 18.2312 14.9402 18.2312 14.9402C18.2312 14.9402 25.0907 8.49588 26.5842 10.1752C28.0776 11.8545 25.4512 13.2616 21.7082 15.6008C17.9646 17.9393 17.6744 18.557 18.2054 19.4418C18.7372 20.3266 26.9998 13.1351 27.7759 16.1838C28.5513 19.2324 19.3434 20.1173 19.9117 22.2219C20.48 24.3274 26.3979 18.2382 27.6082 20.6107C28.8193 22.9839 19.2574 25.7722 19.18 25.7929C16.0914 26.62 8.24723 28.3726 5.50686 24.2246Z" fill="#FFD21E"></path></svg>
	Community
	

	
		</a></div>
	
			</div></div></header>
</div>
	
<div class="container relative flex flex-col md:grid md:space-y-0 w-full md:grid-cols-12 md:flex-1 md:grid-rows-full space-y-4 md:gap-6 ">
		<section class="pt-6 border-gray-100 md:col-span-8 pb-24 relative break-words copiable-code-container">
				<div class="SVELTE_HYDRATER contents" data-target="UnsafeBanner" data-props="{&quot;classNames&quot;:&quot;mb-4&quot;,&quot;repoId&quot;:&quot;teven/github_all_lang_filtered&quot;,&quot;repoType&quot;:&quot;dataset&quot;,&quot;minLevel&quot;:&quot;unsafe&quot;}"></div>
					<div class="SVELTE_HYDRATER contents" data-target="DatasetViewer" data-props="{&quot;data&quot;:{&quot;kind&quot;:&quot;DatasetAndSampleData&quot;,&quot;datasetInfo&quot;:[{&quot;isValid&quot;:true,&quot;href&quot;:&quot;&quot;,&quot;label&quot;:&quot;Size of downloaded dataset files:&quot;,&quot;value&quot;:&quot;66.1 GB&quot;},{&quot;isValid&quot;:true,&quot;href&quot;:&quot;/datasets/teven/github_all_lang_filtered/tree/refs%2Fconvert%2Fparquet/&quot;,&quot;label&quot;:&quot;Size of the auto-converted Parquet files:&quot;,&quot;value&quot;:&quot;66.1 GB&quot;},{&quot;isValid&quot;:true,&quot;href&quot;:&quot;&quot;,&quot;label&quot;:&quot;Number of rows:&quot;,&quot;value&quot;:&quot;35,559,527&quot;}],&quot;partial&quot;:false,&quot;configsData&quot;:{&quot;configInfos&quot;:[{&quot;name&quot;:&quot;default&quot;,&quot;status&quot;:&quot;ok&quot;,&quot;numRows&quot;:35559527}],&quot;selectedConfig&quot;:&quot;default&quot;,&quot;hasSelectedConfigParquet&quot;:true},&quot;splitsData&quot;:{&quot;splitInfos&quot;:[{&quot;name&quot;:&quot;train&quot;,&quot;numRows&quot;:35559527}],&quot;selectedSplit&quot;:&quot;train&quot;},&quot;sampleData&quot;:{&quot;dataset&quot;:&quot;teven/github_all_lang_filtered&quot;,&quot;config&quot;:&quot;default&quot;,&quot;split&quot;:&quot;train&quot;,&quot;capabilities&quot;:{&quot;rows&quot;:true,&quot;search&quot;:true,&quot;filter&quot;:true,&quot;statistics&quot;:true},&quot;navigation&quot;:{&quot;p&quot;:0},&quot;jwt&quot;:&quot;eyJhbGciOiJFZERTQSJ9.eyJyZWFkIjp0cnVlLCJwZXJtaXNzaW9ucyI6eyJyZXBvLmNvbnRlbnQucmVhZCI6dHJ1ZX0sImlhdCI6MTc0MjkyMzAxNiwic3ViIjoiL2RhdGFzZXRzL3RldmVuL2dpdGh1Yl9hbGxfbGFuZ19maWx0ZXJlZCIsImV4cCI6MTc0MjkyNjYxNiwiaXNzIjoiaHR0cHM6Ly9odWdnaW5nZmFjZS5jbyJ9.NpIEdjxEktfyrS_wmOTdLpSnm8_XnZZ-NUCkFJdccvWgplikrZHZ9hY1Ky3rmItJIdQCYsboht5yLr6u7q5FBQ&quot;,&quot;sampleData&quot;:{&quot;columns&quot;:[{&quot;name&quot;:&quot;text&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;text&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:101,&quot;max&quot;:199966,&quot;mean&quot;:5898.66803,&quot;median&quot;:2077,&quot;std&quot;:13356.5887,&quot;histogram&quot;:{&quot;hist&quot;:[857726,32894,10170,4480,2457,1357,957,808,550,391],&quot;bin_edges&quot;:[101,20088,40075,60062,80049,100036,120023,140010,159997,179984,199966]}}}},{&quot;name&quot;:&quot;repo_name&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;repo_name&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:5,&quot;max&quot;:73,&quot;mean&quot;:20.21736,&quot;median&quot;:19,&quot;std&quot;:7.20318,&quot;histogram&quot;:{&quot;hist&quot;:[85222,343358,283598,143885,38407,12715,4104,481,16,4],&quot;bin_edges&quot;:[5,12,19,26,33,40,47,54,61,68,73]}}}},{&quot;name&quot;:&quot;stars&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;stars&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:3,&quot;max&quot;:6,&quot;mean&quot;:3.31521,&quot;median&quot;:3,&quot;std&quot;:0.53466,&quot;histogram&quot;:{&quot;hist&quot;:[656276,223643,31848,23],&quot;bin_edges&quot;:[3,4,5,6,6]}}}},{&quot;name&quot;:&quot;repo_language&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;repo_language&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:1,&quot;max&quot;:24,&quot;mean&quot;:4.62206,&quot;median&quot;:4,&quot;std&quot;:3.03721,&quot;histogram&quot;:{&quot;hist&quot;:[419473,305028,39844,139710,433,7026,0,276],&quot;bin_edges&quot;:[1,4,7,10,13,16,19,22,24]}}}},{&quot;name&quot;:&quot;file_name&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;file_name&quot;,&quot;column_type&quot;:&quot;string_text&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:2,&quot;max&quot;:57,&quot;mean&quot;:16.17507,&quot;median&quot;:15,&quot;std&quot;:8.26764,&quot;histogram&quot;:{&quot;hist&quot;:[82117,324506,268166,138665,48735,23530,3275,22278,259,259],&quot;bin_edges&quot;:[2,8,14,20,26,32,38,44,50,56,57]}}}},{&quot;name&quot;:&quot;mime_type&quot;,&quot;align&quot;:&quot;depends on text direction&quot;,&quot;type&quot;:&quot;string&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;mime_type&quot;,&quot;column_type&quot;:&quot;string_label&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;no_label_count&quot;:0,&quot;no_label_proportion&quot;:0,&quot;n_unique&quot;:22,&quot;frequencies&quot;:{&quot;text/x-pascal&quot;:208,&quot;text/plain&quot;:480750,&quot;text/x-tex&quot;:777,&quot;text/x-c&quot;:100370,&quot;text/x-python&quot;:25525,&quot;text/x-makefile&quot;:5942,&quot;text/xml&quot;:74537,&quot;text/x-po&quot;:267,&quot;text/x-objective-c&quot;:4139,&quot;text/x-diff&quot;:255,&quot;text/x-ruby&quot;:13233,&quot;text/x-lisp&quot;:1155,&quot;text/x-shellscript&quot;:27861,&quot;text/troff&quot;:1313,&quot;text/x-perl&quot;:3,&quot;text/x-java&quot;:74898,&quot;text/x-php&quot;:13646,&quot;text/x-c++&quot;:22208,&quot;text/x-asm&quot;:1336,&quot;text/x-msdos-batch&quot;:2,&quot;text/x-m4&quot;:60,&quot;text/html&quot;:63305}}}},{&quot;name&quot;:&quot;hash&quot;,&quot;align&quot;:&quot;right&quot;,&quot;type&quot;:&quot;int64&quot;,&quot;statistics&quot;:{&quot;column_name&quot;:&quot;hash&quot;,&quot;column_type&quot;:&quot;int&quot;,&quot;column_statistics&quot;:{&quot;nan_count&quot;:0,&quot;nan_proportion&quot;:0,&quot;min&quot;:-9223369786400666000,&quot;max&quot;:9223339289713097000,&quot;mean&quot;:-755117275280973.5,&quot;median&quot;:2267337164337300.5,&quot;std&quot;:5324217369790267000,&quot;histogram&quot;:{&quot;hist&quot;:[90697,91847,91155,91290,90807,91334,91207,91153,91204,91096],&quot;bin_edges&quot;:[-9223369786400666000,-7378698878789290000,-5534027971177914000,-3689357063566539000,-1844686155955163100,-15248343787520,1844655659267588000,3689326566878963700,5533997474490339000,7378668382101715000,9223339289713097000]}}}}],&quot;rows&quot;:[{&quot;rowIdx&quot;:0,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;include *.rst\ninclude *.txt\ninclude LICENSE\ninclude INSTALL\ninclude tox.ini\ninclude capabilities-data/dist/capabilities.json\ninclude src/escpos/capabilities.json\nrecursive-include doc *.bat\nrecursive-include doc *.ico\nrecursive-include doc *.py\nrecursive-include doc *.rst\nrecursive-include doc *.txt\nrecursive-include doc Makefile\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:8751525123829401000,&quot;string&quot;:&quot;8,751,525,123,829,401,000&quot;}}},{&quot;rowIdx&quot;:1,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/env python\n\nimport os\nimport sys\nfrom setuptools import find_packages, setup\n\n\nbase_dir = os.path.dirname(__file__)\nsrc_dir = os.path.join(base_dir, \&quot;src\&quot;)\n\n# When executing the setup.py, we need to be able to import ourselves, this\n# means that we need to add the src/ directory to the sys.path.\nsys.path.insert(0, src_dir)\n\n\ndef read(fname):\n    \&quot;\&quot;\&quot;read file from same path as setup.py\&quot;\&quot;\&quot;\n    return open(os.path.join(os.path.dirname(__file__), fname)).read()\n\n\nsetuptools_scm_template = \&quot;\&quot;\&quot;\\\n# coding: utf-8\n# file generated by setuptools_scm\n# don't change, don't track in version control\n\nversion = '{version}'\n\&quot;\&quot;\&quot;\n\n\nsetup(\n    use_scm_version={\n        \&quot;write_to\&quot;: \&quot;src/escpos/version.py\&quot;,\n        \&quot;write_to_template\&quot;: setuptools_scm_template,\n    },\n    platforms=\&quot;any\&quot;,\n    package_dir={\&quot;\&quot;: \&quot;src\&quot;},\n    packages=find_packages(where=\&quot;src\&quot;, exclude=[\&quot;tests\&quot;, \&quot;tests.*\&quot;]),\n    package_data={\&quot;escpos\&quot;: [\&quot;capabilities.json\&quot;]},\n    entry_points={\&quot;console_scripts\&quot;: [\&quot;python-escpos = escpos.cli:main\&quot;]},\n)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-8966421625955614000,&quot;string&quot;:&quot;-8,966,421,625,955,614,000&quot;}}},{&quot;rowIdx&quot;:2,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;*********\nChangelog\n*********\n2020-05-12 - Version 3.0a8 - \&quot;Only Slightly Bent\&quot;\n-------------------------------------------------\nThis release is the ninth alpha release of the new version 3.0.\nPlease be aware that the API is subject to change until v3.0 is\nreleased.\n\nThis release drops support for Python 2, requiring at least\nversion 3.5 of Python.\n\nchanges\n^^^^^^^\n- Drop support for Python 2 and mark in setuptools as only supporting 3.5 and upwards\n- remove landscape.io badge\n- replace viivakoodi with python-barcode which is maintained\n- add configuration for Visual Studio Code\n- use pkg_resources for the retrieval of the capabilities.json\n\ncontributors\n^^^^^^^^^^^^\n- Romain Porte\n- Patrick Kanzler\n\n2020-05-09 - Version 3.0a7 - \&quot;No Fixed Abode\&quot;\n---------------------------------------------\nThis release is the eight alpha release of the new version 3.0.\nPlease be aware that the API is subject to change until v3.0\nis released.\n\nThis release also marks the point at which the project transitioned\nto having only a master-branch (and not an additional development branch).\n\nchanges\n^^^^^^^\n- add Exception for NotImplementedError in detach_kernel_driver\n- update installation information\n- update and improve documentation\n- add error handling to image centering flag\n- update and fix tox and CI environment, preparing drop of support for Python 2\n\ncontributors\n^^^^^^^^^^^^\n- Alexander Bougakov\n- Brian\n- Yaisel Hurtado\n- Maximilan Wagenbach\n- Patrick Kanzler\n\n2019-06-19 - Version 3.0a6 - \&quot;Mistake not...\&quot;\n---------------------------------------------\nThis release is the seventh alpha release of the new version 3.0.\nPlease be aware that the API is subject to change until v3.0 is\nreleased.\n\nchanges\n^^^^^^^\n- fix inclusion of the capabilities-file\n- execute CI jobs also on Windows and macOS-targets\n- improve documentation\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n\n2019-06-16 - Version 3.0a5 - \&quot;Lightly Seared On The Reality Grill\&quot;\n------------------------------------------------------------------\nThis release is the sixth alpha release of the new version 3.0. Please\nbe aware that the API is subject to change until v3.0 is released.\n\nchanges\n^^^^^^^\n- allow arbitrary USB arguments in USB-class\n- add Win32Raw-Printer on Windows-platforms\n- add and improve Windows support of USB-class\n- use pyyaml safe_load()\n- improve doc\n- implement _read method of Network printer class\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n- Gerard Marull-Paretas\n- Ramon Poca\n- akeonly\n- Omer Akram\n- Justin Vieira\n\n2018-05-15 - Version 3.0a4 - \&quot;Kakistocrat\&quot;\n------------------------------------------\nThis release is the fifth alpha release of the new version 3.0. Please\nbe aware that the API will still change until v3.0 is released.\n\nchanges\n^^^^^^^\n- raise exception when TypeError occurs in cashdraw (#268)\n- Feature/clear content in dummy printer (#271)\n- fix is_online() (#282)\n- improve documentation\n- Modified submodule to always pull from master branch (#283)\n- parameter for implementation of nonnative qrcode (#289)\n- improve platform independence (#296)\n\ncontributors\n^^^^^^^^^^^^\n- Christoph Heuel\n- Patrick Kanzler\n- kennedy\n- primax79\n- reck31\n- Thijs Triemstra\n\n2017-10-08 - Version 3.0a3 - \&quot;Just Testing\&quot;\n-------------------------------------------\nThis release is the fourth alpha release of the new version 3.0. Please\nbe aware that the API will still change until v3.0 is released.\n\nchanges\n^^^^^^^\n- minor changes in documentation, tests and examples\n- pickle capabilities for faster startup\n- first implementation of centering images and QR\n- check barcodes based on regex\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n- Lucy Linder\n- Romain Porte\n- Sergio Pulgarin\n\n2017-08-04 - Version 3.0a2 - \&quot;It's My Party And I'll Sing If I Want To\&quot;\n-----------------------------------------------------------------------\nThis release is the third alpha release of the new version 3.0. Please\nbe aware that the API will still change until v3.0 is released.\n\nchanges\n^^^^^^^\n- refactor of the set-method\n- preliminary support of POS \&quot;line display\&quot; printing\n- improvement of tests\n- added ImageWidthError\n- list authors in repository\n- add support for software-based barcode-rendering\n- fix SerialException when trying to close device on __del__\n- added the DLE EOT querying command for USB and Serial\n- ensure QR codes have a large enough border\n- make feed for cut optional\n- fix the behavior of horizontal tabs\n- added test script for hard an soft barcodes\n- implemented paper sensor querying command\n- added weather forecast example script\n- added a method for simpler newlines\n\ncontributors\n^^^^^^^^^^^^\n- csoft2k\n- Patrick Kanzler\n- mrwunderbar666\n- Romain Porte\n- Ahmed Tahri\n\n2017-03-29 - Version 3.0a1 - \&quot;Headcrash\&quot;\n----------------------------------------\nThis release is the second alpha release of the new version 3.0. Please\nbe aware that the API will still change until v3.0 is released.\n\nchanges\n^^^^^^^\n- automatically upload releases to GitHub\n- add environment variable ESCPOS_CAPABILITIES_FILE\n- automatically handle cases where full cut or partial cut is not available\n- add print_and_feed\n\ncontributors\n^^^^^^^^^^^^\n- Sam Cheng\n- Patrick Kanzler\n- Dmytro Katyukha\n\n2017-01-31 - Version 3.0a - \&quot;Grey Area\&quot;\n---------------------------------------\nThis release is the first alpha release of the new version 3.0. Please\nbe aware that the API will still change until v3.0 is released.\n\nchanges\n^^^^^^^\n- change the project's license to MIT in accordance with the contributors (see python-escpos/python-escpos#171)\n- feature: add \&quot;capabilities\&quot; which are shared with escpos-php, capabilities are stored in\n  `escpos-printer-db <https://github.com/receipt-print-hq/escpos-printer-db>`_\n- feature: the driver tries now to guess the appropriate codepage and sets it automatically (called \&quot;magic encode\&quot;)\n- as an alternative you can force the codepage with the old API\n- updated and improved documentation\n- changed constructor of main class due to introduction of capablities\n- changed interface of method `blocktext`, changed behavior of multiple methods, for details refer to the documentation\n  on `python-escpos.readthedocs.io <https://python-escpos.readthedocs.io>`_\n- add support for custom cash drawer sequence\n- enforce flake8 on the src-files, test py36 and py37 on travis\n\ncontributors\n^^^^^^^^^^^^\n- Michael Billington\n- Michael Elsdörfer\n- Patrick Kanzler (with code by Frédéric Van der Essen)\n- Asuki Kono\n- Benito López\n- Curtis // mashedkeyboard\n- Thijs Triemstra\n- ysuolmai\n\n2016-08-26 - Version 2.2.0 - \&quot;Fate Amenable To Change\&quot;\n------------------------------------------------------\n\nchanges\n^^^^^^^\n- fix improper API-use in qrcode()\n- change setup.py shebang to make it compatible with virtualenvs.\n- add constants for sheet mode and colors\n- support changing the linespacing\n\ncontributors\n^^^^^^^^^^^^\n- Michael Elsdörfer\n- Patrick Kanzler\n\n2016-08-10 - Version 2.1.3 - \&quot;Ethics Gradient\&quot;\n----------------------------------------------\n\nchanges\n^^^^^^^\n- configure readthedocs and travis\n- update doc with hint on image preprocessing\n- add fix for printing large images (by splitting them into multiple images)\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n\n2016-08-02 - Version 2.1.2 - \&quot;Death and Gravity\&quot;\n------------------------------------------------\n\nchanges\n^^^^^^^\n- fix File-printer: flush after every call of _raw()\n- fix lists in documentation\n- fix CODE128: by adding the control character to the barcode-selection-sequence the barcode became unusable\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n\n2016-08-02 - Version 2.1.1 - \&quot;Contents May Differ\&quot;\n--------------------------------------------------\n\nchanges\n^^^^^^^\n- rename variable interface in USB-class to timeout\n- add support for hypothesis and move pypy3 to the allowed failures (pypy3 is not supported by hypothesis)\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n- Renato Lorenzi\n\n2016-07-23 - Version 2.1.0 - \&quot;But Who's Counting?\&quot;\n--------------------------------------------------\n\nchanges\n^^^^^^^\n- packaging: configured the coverage-analysis codecov.io\n- GitHub: improved issues-template\n- documentation: add troubleshooting tip to network-interface\n- the module, cli and documentation is now aware of the version of python-escpos\n- the cli does now support basic tabcompletion\n\ncontributors\n^^^^^^^^^^^^\n- Patrick Kanzler\n\n2016-06-24 - Version 2.0.0 - \&quot;Attitude Adjuster\&quot;\n------------------------------------------------\n\nThis version is based on the original version of python-escpos by Manuel F Martinez. However, many contributions have\ngreatly improved the old codebase. Since this version does not completely match the interface of the version published\non PyPi and has many improvements, it will be released as version 2.0.0.\n\nchanges\n^^^^^^^\n- refactor complete code in order to be compatible with Python 2 and 3\n- modernize packaging\n- add testing and CI\n- merge various forks into codebase, fixing multiple issues with barcode-, QR-printing, cashdraw and structure\n- improve the documentation\n- extend support of barcode-codes to type B\n- add function to disable panel-buttons\n- the text-functions are now intended for unicode, the driver will automatically encode the string based on the selected\n  codepage\n- the image-functions are now much more flexible\n- added a CLI\n- restructured the constants\n\ncontributors\n^^^^^^^^^^^^\n- Thomas van den Berg\n- Michael Billington\n- Nate Bookham\n- Davis Goglin\n- Christoph Heuel\n- Patrick Kanzler\n- Qian LinFeng\n\n2016-01-24 - Version 1.0.9\n--------------------------\n\n- fix constant definition for PC1252\n- move documentation to Sphinx\n\n2015-10-27 - Version 1.0.8\n--------------------------\n\n- Merge pull request #59 from zouppen/master\n    - Support for images vertically longer than 256 pixels\n    - Sent by Joel Lehtonen <joel.lehtonen@koodilehto.fi>\n- Updated README\n\n2015-08-22 - Version 1.0.7\n--------------------------\n\n- Issue #57: Fixed transparent images\n\n2015-07-06 - Version 1.0.6\n--------------------------\n\n- Merge pull request #53 from ldos/master\n    - Extended params for serial printers\n    - Sent by ldos <cafeteria.ldosalzira@gmail.com>\n\n2015-04-21 - Version 1.0.5\n--------------------------\n\n- Merge pull request #45 from Krispy2009/master\n    - Raising the right error when wrong charcode is used\n    - Sent by Kristi <Krispy2009@gmail.com>\n\n2014-05-20 - Version 1.0.4\n--------------------------\n\n- Issue #20: Added Density support (Sent by thomas.erbacher@ragapack.de)\n- Added charcode tables\n- Fixed Horizontal Tab\n- Fixed code tabulators\n\n2014-02-23 - Version 1.0.3\n--------------------------\n\n- Issue #18: Added quad-area characters (Sent by syncman1x@gmail.com)\n- Added exception for PIL import\n\n2013-12-30 - Version 1.0.2\n--------------------------\n\n- Issue #5: Fixed vertical tab\n- Issue #9: Fixed identation inconsistence\n\n2013-03-14 - Version 1.0.1\n--------------------------\n\n- Issue #8: Fixed set font\n- Added QR support\n\n2012-11-15 - Version 1.0\n------------------------\n\n- Issue #2: Added ethernet support\n- Issue #3: Added compatibility with libusb-1.0.1\n- Issue #4: Fixed typo in escpos.py\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:7764559013503989000,&quot;string&quot;:&quot;7,764,559,013,503,989,000&quot;}}},{&quot;rowIdx&quot;:3,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;[metadata]\nname = python-escpos\nurl = https://github.com/python-escpos/python-escpos\ndescription = Python library to manipulate ESC/POS Printers\nlong_description = file: README.rst\nlicense = MIT\nlicense_file = LICENSE\nauthor = Manuel F Martinez and others\nauthor_email = dev@pkanzler.de\nmaintainer = Patrick Kanzler\nmaintainer_email = dev@pkanzler.de\nkeywords = ESC/POS, thermoprinter, voucher printer, printing, receipt\nclassifiers =\n    Development Status :: 4 - Beta\n    Environment :: Console\n    Intended Audience :: Developers\n    License :: OSI Approved :: MIT License\n    Operating System :: OS Independent\n    Programming Language :: Python\n    Programming Language :: Python :: 3\n    Programming Language :: Python :: 3.5\n    Programming Language :: Python :: 3.6\n    Programming Language :: Python :: 3.7\n    Programming Language :: Python :: 3.8\n    Programming Language :: Python :: Implementation :: CPython\n    Topic :: Software Development :: Libraries :: Python Modules\n    Topic :: Office/Business :: Financial :: Point-Of-Sale\nproject_urls =\n    Bug Tracker = https://github.com/python-escpos/python-escpos/issues\n    Documentation = https://python-escpos.readthedocs.io/en/latest/\n    Release Notes = https://github.com/python-escpos/python-escpos/releases\n\n[options]\npython_requires = >=3.5\nzip_safe = false\ninclude_package_data = true\ninstall_requires =\n    pyusb>=1.0.0\n    Pillow>=2.0\n    qrcode>=4.0\n    pyserial\n    python-barcode>=0.9.1,<1\n    setuptools\n    six\n    appdirs\n    PyYAML\n    argparse\n    argcomplete\n    future\n    viivakoodi>=0.8\nsetup_requires = setuptools_scm\ntests_require =\n    jaconv\n    tox\n    pytest!=3.2.0,!=3.3.0\n    pytest-cov\n    pytest-mock\n    nose\n    scripttest\n    mock\n    hypothesis>4\n    flake8\n    sphinxcontrib-spelling>=5\n\n[nosetests]\nverbosity=3\nwith-doctest=1\n\n[flake8]\nexclude = .git,.tox,.github,.eggs,__pycache__,doc/conf.py,build,dist,capabilities-data,test,src/escpos/constants.py\nmax-line-length = 120\n# future-imports = absolute_import, division, print_function, unicode_literals  # we are not there yet\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-2162109519123499000,&quot;string&quot;:&quot;-2,162,109,519,123,499,000&quot;}}},{&quot;rowIdx&quot;:4,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;formats:\n  - pdf\n  - epub\nrequirements_file: doc/requirements.txt\npython:\n  version: 3\n  setup_py_install: true&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-2597302186761692000,&quot;string&quot;:&quot;-2,597,302,186,761,692,000&quot;}}},{&quot;rowIdx&quot;:5,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#############################################################\npython-escpos - Python library to manipulate ESC/POS Printers\n#############################################################\n\n.. image:: https://travis-ci.org/python-escpos/python-escpos.svg?branch=master\n    :target: https://travis-ci.org/python-escpos/python-escpos\n    :alt: Continous Integration\n\n.. image:: https://codecov.io/github/python-escpos/python-escpos/coverage.svg?branch=master\n    :target: https://codecov.io/github/python-escpos/python-escpos?branch=master\n    :alt: Code Coverage\n\n.. image:: https://readthedocs.org/projects/python-escpos/badge/?version=latest\n    :target: https://python-escpos.readthedocs.io/en/latest/?badge=latest\n    :alt: Documentation Status\n\n\nDescription\n-----------\n\nPython ESC/POS is a library which lets the user have access to all those printers handled\nby ESC/POS commands, as defined by Epson, from a Python application.\n\nThe library tries to implement the functions provided by the ESC/POS-commandset and supports sending text, images,\nbarcodes and qr-codes to the printer.\n\nText can be aligned/justified and fonts can be changed by size, type and weight.\n\nAlso, this module handles some hardware functionalities like cutting paper, control characters, printer reset\nand similar functions.\n\nSince supported commands differ from printer to printer the software tries to automatically apply the right\nsettings for the printer that you set. These settings are handled by\n`escpos-printer-db <https://github.com/receipt-print-hq/escpos-printer-db>`_ which is also used in\n`escpos-php <https://github.com/mike42/escpos-php>`_.\n\nDependencies\n------------\n\nThis library makes use of:\n\n* `pyusb <https://github.com/walac/pyusb>`_ for USB-printers\n* `Pillow <https://github.com/python-pillow/Pillow>`_ for image printing\n* `qrcode <https://github.com/lincolnloop/python-qrcode>`_ for the generation of QR-codes\n* `pyserial <https://github.com/pyserial/pyserial>`_ for serial printers\n* `python-barcode <https://github.com/WhyNotHugo/python-barcode>`_ for the generation of barcodes\n\nDocumentation and Usage\n-----------------------\n\nThe basic usage is:\n\n.. code:: python\n\n    from escpos.printer import Usb\n\n    \&quot;\&quot;\&quot; Seiko Epson Corp. Receipt Printer (EPSON TM-T88III) \&quot;\&quot;\&quot;\n    p = Usb(0x04b8, 0x0202, 0, profile=\&quot;TM-T88III\&quot;)\n    p.text(\&quot;Hello World\\n\&quot;)\n    p.image(\&quot;logo.gif\&quot;)\n    p.barcode('1324354657687', 'EAN13', 64, 2, '', '')\n    p.cut()\n\n\nAnother example based on the Network printer class:\n\n.. code:: python\n\n    from escpos.printer import Network\n\n    kitchen = Network(\&quot;192.168.1.100\&quot;) #Printer IP Address\n    kitchen.text(\&quot;Hello World\\n\&quot;)\n    kitchen.barcode('1324354657687', 'EAN13', 64, 2, '', '')\n    kitchen.cut()\n\nAnother example based on the Serial printer class:\n\n.. code:: python\n\n    from escpos.printer import Serial\n\n    \&quot;\&quot;\&quot; 9600 Baud, 8N1, Flow Control Enabled \&quot;\&quot;\&quot;\n    p = Serial(devfile='/dev/tty.usbserial',\n               baudrate=9600,\n               bytesize=8,\n               parity='N',\n               stopbits=1,\n               timeout=1.00,\n               dsrdtr=True)\n\n    p.text(\&quot;Hello World\\n\&quot;)\n    p.qr(\&quot;You can readme from your smartphone\&quot;)\n    p.cut()\n\n\nThe full project-documentation is available on `Read the Docs <https://python-escpos.readthedocs.io>`_.\n\nContributing\n------------\n\nThis project is open for any contribution! Please see `CONTRIBUTING.rst <https://python-escpos.readthedocs.io/en/latest/dev/contributing.html>`_ for more information.\n\n\nDisclaimer\n----------\n\nNone of the vendors cited in this project agree or endorse any of the patterns or implementations.\nIts names are used only to maintain context.\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-8243748922724695000,&quot;string&quot;:&quot;-8,243,748,922,724,695,000&quot;}}},{&quot;rowIdx&quot;:6,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;[tox]\nenvlist = py35, py36, py37, py38, docs, flake8\n\n[gh-actions]\npython =\n    2.7: py27\n    3.6: py36\n    3.7: py37\n    3.8: py38\n\n[testenv]\ndeps = nose\n       jaconv\n       coverage\n       scripttest\n       mock\n       pytest!=3.2.0,!=3.3.0\n       pytest-cov\n       pytest-mock\n       hypothesis>4\n       python-barcode\ncommands = pytest --cov escpos\npassenv = ESCPOS_CAPABILITIES_PICKLE_DIR ESCPOS_CAPABILITIES_FILE CI TRAVIS TRAVIS_* APPVEYOR APPVEYOR_* CODECOV_*\n\n[testenv:docs]\nbasepython = python\nchangedir = doc\ndeps = sphinx>=1.5.1\n       setuptools_scm\n       python-barcode\n       sphinxcontrib-spelling>=5\ncommands = sphinx-build -W -b html -d {envtmpdir}/doctrees .  {envtmpdir}/html\n\n[testenv:flake8]\nbasepython = python\n# TODO add flake8-future\n# TODO add flake8-docstrings\ndeps = flake8\ncommands = flake8\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-7474916700184312000,&quot;string&quot;:&quot;-7,474,916,700,184,312,000&quot;}}},{&quot;rowIdx&quot;:7,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos\n=============\n\nThis library is available over pypi. So for most of the use-cases it should be sufficient to run\n\n```\npip install python-escpos --user  # add --pre if you want to install pre-releases\n```\n\nFor more information please read the documentation at https://python-escpos.readthedocs.io/en/latest/user/installation.html\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:3373681124774981600,&quot;string&quot;:&quot;3,373,681,124,774,981,600&quot;}}},{&quot;rowIdx&quot;:8,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;************\nContributing\n************\n\nThis project is open to any kind of contribution. You can help with improving the documentation, adding fixes to the\ncode, providing test cases in code or as a description or just spreading the word. Please feel free to create an\nissue or pull request.\nIn order to reduce the amount of work for everyone please try to adhere to good practice.\n\nThe pull requests and issues will be prefilled with templates. Please fill in your information where applicable.\n\nThis project uses `semantic versioning <https://semver.org/>`_ and tries to adhere to the proposed rules as\nwell as possible.\n\nAuthor-list\n-----------\n\nThis project keeps a list of authors. This can be auto-generated by calling `./doc/generate-authors.sh`.\nWhen contributing the first time, please include a commit with the output of this script in place.\nOtherwise the integration-check will fail.\n\nWhen you change your username or mail-address, please also update the `.mailmap` and the authors-list.\nYou can find a good documentation on the mapping-feature in the `documentation of git-shortlog <https://git-scm.com/docs/git-shortlog#_mapping_authors>`_.\n\nStyle-Guide\n-----------\n\nWhen writing code please try to stick to these rules.\n\nPEP8\n^^^^\nThe entire codebase adheres to the rules of PEP8.\nThese rules are enforced by running `flake8` in the integration-checks.\nPlease adhere to these rules as your contribution can only be merged if the check succeeds.\nYou can use flake8 or similar tools locally in order to check your code.\nApart from that the travis-log and the check by Landscape will provide you with hints.\n\nGIT\n^^^\nThe master-branch contains the main development of the project. A release to PyPi is marked with a tag\ncorresponding to the version. Issues are closed when they have been resolved by merging into the master-branch.\nWhen you have a change to make, begin by creating a new branch from the HEAD of `python-escpos/master`.\n\nPlease try to group your commits into logical units. If you need to tidy up your branch, you can make use of a\ngit feature called an 'interactive rebase' before making a pull request. A small, self-contained change-set is\neasier to review, and improves the chance of your code being merged.\nPlease also make sure that before creating your PR, your branch is rebased on a recent commit or you merged a recent\ncommit into your branch. This way you can ensure that your PR is without merge conflicts.\n\nDocstrings\n^^^^^^^^^^\nThis project tries to have a good documentation.\nPlease add a docstring to every method and class. Have a look at existing methods and classes for the style.\nWe use basically standard rst-docstrings for Sphinx.\n\nTest\n^^^^\nTry to write tests whenever possible. Our goal for the future is 100% coverage.\nWe are currently using `nose` but might change in the future.\nYou can copy the structure from other testcases. Please remember to adapt the docstrings.\n\nFurther reading\n^^^^^^^^^^^^^^^\nFor further best practices and hints on contributing please see the\n`contribution-guide <https://www.contribution-guide.org/>`_. Should there be any contradictions between this guide\nand the linked one, please stick to this text.\nAside from that feel free to create an issue or write an email if anything is unclear.\n\nThank you for your contribution!\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-7853292627905224000,&quot;string&quot;:&quot;-7,853,292,627,905,224,000&quot;}}},{&quot;rowIdx&quot;:9,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;<!--\nPlease feel free to delete any sections that aren't relevant.\n-->\n\n<!-- mark with x between the [ ] -->\nI have:\n- [ ] searched open and closed issues for duplicates\n\n### Bug description\n\n### Steps to reproduce\n- add your steps here\n- as a list\n- using hyphens\n\n### Device info\n<!-- Replace examples with your info -->\n **Printer:** Manufacturer Model XVI\n\n<!-- since version 2.0.1 you can type 'python-escpos version' in your shell.\nAlternatively you could use '__version__' in module escpos. -->\n **python-escpos version:** 0.0.0\n\n **python version:** 0.0\n\n **operating system:**\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:2115569181461870300,&quot;string&quot;:&quot;2,115,569,181,461,870,300&quot;}}},{&quot;rowIdx&quot;:10,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;### Contributor checklist\n<!-- mark with x between the brackets -->\n- [ ] I have read the CONTRIBUTING.rst\n- [ ] I have tested my contribution on these devices:\n * e.g. Epson TM-T88II\n- [ ] My contribution is ready to be merged as is\n\n----------\n\n### Description\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:2569003023291297000,&quot;string&quot;:&quot;2,569,003,023,291,297,000&quot;}}},{&quot;rowIdx&quot;:11,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;# This workflow will install Python dependencies, run tests and lint with a variety of Python versions\n# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions\n\nname: Python package\n\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        python-version: [3.5, 3.6, 3.7, 3.8]\n\n    steps:\n    - uses: actions/checkout@v2\n      with:\n        submodules: 'recursive'\n    - name: Set up Python ${{ matrix.python-version }}\n      uses: actions/setup-python@v1\n      with:\n        python-version: ${{ matrix.python-version }}\n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        pip install flake8 pytest tox tox-gh-actions\n        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n    - name: Lint with flake8\n      run: |\n        # stop the build if there are Python syntax errors or undefined names\n        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n        # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\n        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics\n    - name: Test with tox\n      run: |\n        tox\n      env:\n        ESCPOS_CAPABILITIES_FILE: /home/runner/work/python-escpos/python-escpos/capabilities-data/dist/capabilities.json\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-2989410340655484400,&quot;string&quot;:&quot;-2,989,410,340,655,484,400&quot;}}},{&quot;rowIdx&quot;:12,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\&quot;\&quot;\&quot; ESC/POS configuration manager.\n\nThis module contains the implementations of abstract base class :py:class:`Config`.\n\n\&quot;\&quot;\&quot;\n\n\nimport os\nimport appdirs\nimport yaml\n\nfrom . import printer\nfrom . import exceptions\n\n\nclass Config(object):\n    \&quot;\&quot;\&quot;  Configuration handler class.\n\n    This class loads configuration from a default or specificed directory. It\n    can create your defined printer and return it to you.\n    \&quot;\&quot;\&quot;\n    _app_name = 'python-escpos'\n    _config_file = 'config.yaml'\n\n    def __init__(self):\n        \&quot;\&quot;\&quot; Initialize configuration.\n\n        Remember to add anything that needs to be reset between configurations\n        to self._reset_config\n        \&quot;\&quot;\&quot;\n        self._has_loaded = False\n        self._printer = None\n\n        self._printer_name = None\n        self._printer_config = None\n\n    def _reset_config(self):\n        \&quot;\&quot;\&quot; Clear the loaded configuration.\n\n        If we are loading a changed config, we don't want to have leftover\n        data.\n        \&quot;\&quot;\&quot;\n        self._has_loaded = False\n        self._printer = None\n\n        self._printer_name = None\n        self._printer_config = None\n\n    def load(self, config_path=None):\n        \&quot;\&quot;\&quot; Load and parse the configuration file using pyyaml\n\n        :param config_path: An optional file path, file handle, or byte string\n            for the configuration file.\n\n        \&quot;\&quot;\&quot;\n\n        self._reset_config()\n\n        if not config_path:\n            config_path = os.path.join(\n                appdirs.user_config_dir(self._app_name),\n                self._config_file\n            )\n\n        try:\n            # First check if it's file like. If it is, pyyaml can load it.\n            # I'm checking type instead of catching exceptions to keep the\n            # exception handling simple\n            if hasattr(config_path, 'read'):\n                config = yaml.safe_load(config_path)\n            else:\n                # If it isn't, it's a path. We have to open it first, otherwise\n                # pyyaml will try to read it as yaml\n                with open(config_path, 'rb') as config_file:\n                    config = yaml.safe_load(config_file)\n        except EnvironmentError:\n            raise exceptions.ConfigNotFoundError('Couldn\\'t read config at {config_path}'.format(\n                config_path=str(config_path),\n            ))\n        except yaml.YAMLError:\n            raise exceptions.ConfigSyntaxError('Error parsing YAML')\n\n        if 'printer' in config:\n            self._printer_config = config['printer']\n            self._printer_name = self._printer_config.pop('type').title()\n\n            if not self._printer_name or not hasattr(printer, self._printer_name):\n                raise exceptions.ConfigSyntaxError(\n                    'Printer type \&quot;{printer_name}\&quot; is invalid'.format(\n                        printer_name=self._printer_name,\n                    )\n                )\n\n        self._has_loaded = True\n\n    def printer(self):\n        \&quot;\&quot;\&quot; Returns a printer that was defined in the config, or throws an\n        exception.\n\n        This method loads the default config if one hasn't beeen already loaded.\n\n        \&quot;\&quot;\&quot;\n        if not self._has_loaded:\n            self.load()\n\n        if not self._printer_name:\n            raise exceptions.ConfigSectionMissingError('printer')\n\n        if not self._printer:\n            # We could catch init errors and make them a ConfigSyntaxError,\n            # but I'll just let them pass\n            self._printer = getattr(printer, self._printer_name)(**self._printer_config)\n\n        return self._printer\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-4319684302181348400,&quot;string&quot;:&quot;-4,319,684,302,181,348,400&quot;}}},{&quot;rowIdx&quot;:13,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\&quot;\&quot;\&quot; Image format handling class\n\nThis module contains the image format handler :py:class:`EscposImage`.\n\n:author: `Michael Billington <michael.billington@gmail.com>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 Michael Billington <michael.billington@gmail.com>\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport math\nfrom PIL import Image, ImageOps\n\n\nclass EscposImage(object):\n    \&quot;\&quot;\&quot;\n    Load images in, and output ESC/POS formats.\n\n    The class is designed to efficiently delegate image processing to\n    PIL, rather than spend CPU cycles looping over pixels.\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, img_source):\n        \&quot;\&quot;\&quot;\n        Load in an image\n\n        :param img_source: PIL.Image, or filename to load one from.\n        \&quot;\&quot;\&quot;\n        if isinstance(img_source, Image.Image):\n            img_original = img_source\n        else:\n            img_original = Image.open(img_source)\n\n        # store image for eventual further processing (splitting)\n        self.img_original = img_original\n\n        # Convert to white RGB background, paste over white background\n        # to strip alpha.\n        img_original = img_original.convert('RGBA')\n        im = Image.new(\&quot;RGB\&quot;, img_original.size, (255, 255, 255))\n        im.paste(img_original, mask=img_original.split()[3])\n        # Convert down to greyscale\n        im = im.convert(\&quot;L\&quot;)\n        # Invert: Only works on 'L' images\n        im = ImageOps.invert(im)\n        # Pure black and white\n        self._im = im.convert(\&quot;1\&quot;)\n\n    @property\n    def width(self):\n        \&quot;\&quot;\&quot;\n        Width of image in pixels\n        \&quot;\&quot;\&quot;\n        width_pixels, _ = self._im.size\n        return width_pixels\n\n    @property\n    def width_bytes(self):\n        \&quot;\&quot;\&quot;\n        Width of image if you use 8 pixels per byte and 0-pad at the end.\n        \&quot;\&quot;\&quot;\n        return (self.width + 7) >> 3\n\n    @property\n    def height(self):\n        \&quot;\&quot;\&quot;\n        Height of image in pixels\n        \&quot;\&quot;\&quot;\n        _, height_pixels = self._im.size\n        return height_pixels\n\n    def to_column_format(self, high_density_vertical=True):\n        \&quot;\&quot;\&quot;\n        Extract slices of an image as equal-sized blobs of column-format data.\n\n        :param high_density_vertical: Printed line height in dots\n        \&quot;\&quot;\&quot;\n        im = self._im.transpose(Image.ROTATE_270).transpose(Image.FLIP_LEFT_RIGHT)\n        line_height = 24 if high_density_vertical else 8\n        width_pixels, height_pixels = im.size\n        top = 0\n        left = 0\n        while left < width_pixels:\n            box = (left, top, left + line_height, top + height_pixels)\n            im_slice = im.transform((line_height, height_pixels), Image.EXTENT, box)\n            im_bytes = im_slice.tobytes()\n            yield(im_bytes)\n            left += line_height\n\n    def to_raster_format(self):\n        \&quot;\&quot;\&quot;\n        Convert image to raster-format binary\n        \&quot;\&quot;\&quot;\n        return self._im.tobytes()\n\n    def split(self, fragment_height):\n        \&quot;\&quot;\&quot;\n        Split an image into multiple fragments after fragment_height pixels\n\n        :param fragment_height: height of fragment\n        :return: list of PIL objects\n        \&quot;\&quot;\&quot;\n        passes = int(math.ceil(self.height/fragment_height))\n        fragments = []\n        for n in range(0, passes):\n            left = 0\n            right = self.width\n            upper = n * fragment_height\n            lower = min((n + 1) * fragment_height, self.height)\n            box = (left, upper, right, lower)\n            fragments.append(self.img_original.crop(box))\n        return fragments\n\n    def center(self, max_width):\n        \&quot;\&quot;\&quot;In-place image centering\n\n        :param: Maximum width in order to deduce x offset for centering\n        :return: None\n        \&quot;\&quot;\&quot;\n        old_width, height = self._im.size\n        new_size = (max_width, height)\n\n        new_im = Image.new(\&quot;1\&quot;, new_size)\n        paste_x = int((max_width - old_width) / 2)\n\n        new_im.paste(self._im, (paste_x, 0))\n\n        self._im = new_im\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:3679809759942773000,&quot;string&quot;:&quot;3,679,809,759,942,773,000&quot;}}},{&quot;rowIdx&quot;:14,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot;Helpers to encode Japanese characters.\n\nI doubt that this currently works correctly.\n\&quot;\&quot;\&quot;\n\n\ntry:\n    import jaconv\nexcept ImportError:\n    jaconv = None\n\n\ndef encode_katakana(text):\n    \&quot;\&quot;\&quot;I don't think this quite works yet.\&quot;\&quot;\&quot;\n    encoded = []\n    for char in text:\n        if jaconv:\n            # try to convert japanese text to half-katakanas\n            char = jaconv.z2h(jaconv.hira2kata(char))\n            # TODO: \&quot;the conversion may result in multiple characters\&quot;\n            # If that really can happen (I am not really shure), than the string would have to be split and every single\n            #  character has to passed through the following lines.\n\n        if char in TXT_ENC_KATAKANA_MAP:\n            encoded.append(TXT_ENC_KATAKANA_MAP[char])\n        else:\n            # TODO doesn't this discard all that is not in the map? Can we be sure that the input does contain only\n            # encodable characters? We could at least throw an exception if encoding is not possible.\n            pass\n    return b\&quot;\&quot;.join(encoded)\n\n\nTXT_ENC_KATAKANA_MAP = {\n    # Maps UTF-8 Katakana symbols to KATAKANA Page Codes\n    # TODO: has this really to be hardcoded?\n\n    # Half-Width Katakanas\n    '｡': b'\\xa1',\n    '｢': b'\\xa2',\n    '｣': b'\\xa3',\n    '､': b'\\xa4',\n    '･': b'\\xa5',\n    'ｦ': b'\\xa6',\n    'ｧ': b'\\xa7',\n    'ｨ': b'\\xa8',\n    'ｩ': b'\\xa9',\n    'ｪ': b'\\xaa',\n    'ｫ': b'\\xab',\n    'ｬ': b'\\xac',\n    'ｭ': b'\\xad',\n    'ｮ': b'\\xae',\n    'ｯ': b'\\xaf',\n    'ｰ': b'\\xb0',\n    'ｱ': b'\\xb1',\n    'ｲ': b'\\xb2',\n    'ｳ': b'\\xb3',\n    'ｴ': b'\\xb4',\n    'ｵ': b'\\xb5',\n    'ｶ': b'\\xb6',\n    'ｷ': b'\\xb7',\n    'ｸ': b'\\xb8',\n    'ｹ': b'\\xb9',\n    'ｺ': b'\\xba',\n    'ｻ': b'\\xbb',\n    'ｼ': b'\\xbc',\n    'ｽ': b'\\xbd',\n    'ｾ': b'\\xbe',\n    'ｿ': b'\\xbf',\n    'ﾀ': b'\\xc0',\n    'ﾁ': b'\\xc1',\n    'ﾂ': b'\\xc2',\n    'ﾃ': b'\\xc3',\n    'ﾄ': b'\\xc4',\n    'ﾅ': b'\\xc5',\n    'ﾆ': b'\\xc6',\n    'ﾇ': b'\\xc7',\n    'ﾈ': b'\\xc8',\n    'ﾉ': b'\\xc9',\n    'ﾊ': b'\\xca',\n    'ﾋ': b'\\xcb',\n    'ﾌ': b'\\xcc',\n    'ﾍ': b'\\xcd',\n    'ﾎ': b'\\xce',\n    'ﾏ': b'\\xcf',\n    'ﾐ': b'\\xd0',\n    'ﾑ': b'\\xd1',\n    'ﾒ': b'\\xd2',\n    'ﾓ': b'\\xd3',\n    'ﾔ': b'\\xd4',\n    'ﾕ': b'\\xd5',\n    'ﾖ': b'\\xd6',\n    'ﾗ': b'\\xd7',\n    'ﾘ': b'\\xd8',\n    'ﾙ': b'\\xd9',\n    'ﾚ': b'\\xda',\n    'ﾛ': b'\\xdb',\n    'ﾜ': b'\\xdc',\n    'ﾝ': b'\\xdd',\n    'ﾞ': b'\\xde',\n    'ﾟ': b'\\xdf',\n}\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:5904162900573698000,&quot;string&quot;:&quot;5,904,162,900,573,698,000&quot;}}},{&quot;rowIdx&quot;:15,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;from .capabilities import CAPABILITIES\n\n\nclass CodePageManager:\n    \&quot;\&quot;\&quot;Holds information about all the code pages (as defined\n    in escpos-printer-db).\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, data):\n        self.data = data\n\n    def get_all(self):\n        return self.data.values()\n\n    @staticmethod\n    def get_encoding_name(encoding):\n        # TODO resolve the encoding alias\n        return encoding.upper()\n\n    def get_encoding(self, encoding):\n        return self.data[encoding]\n\n\nCodePages = CodePageManager(CAPABILITIES['encodings'])\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-2568347272365227000,&quot;string&quot;:&quot;-2,568,347,272,365,227,000&quot;}}},{&quot;rowIdx&quot;:16,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot; This module contains the implementations of abstract base class :py:class:`Escpos`.\n\n:author: `Manuel F Martinez <manpaz@bashlinux.com>`_ and others\n:organization: Bashlinux and `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport serial\nimport socket\nimport usb.core\nimport usb.util\n\nfrom .escpos import Escpos\nfrom .exceptions import USBNotFoundError\n\n\nclass Usb(Escpos):\n    \&quot;\&quot;\&quot; USB printer\n\n    This class describes a printer that natively speaks USB.\n\n    inheritance:\n\n    .. inheritance-diagram:: escpos.printer.Usb\n        :parts: 1\n\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, idVendor, idProduct, usb_args=None, timeout=0, in_ep=0x82, out_ep=0x01,\n                 *args, **kwargs):  # noqa: N803\n        \&quot;\&quot;\&quot;\n        :param idVendor: Vendor ID\n        :param idProduct: Product ID\n        :param usb_args: Optional USB arguments (e.g. custom_match)\n        :param timeout: Is the time limit of the USB operation. Default without timeout.\n        :param in_ep: Input end point\n        :param out_ep: Output end point\n        \&quot;\&quot;\&quot;\n        Escpos.__init__(self, *args, **kwargs)\n        self.timeout = timeout\n        self.in_ep = in_ep\n        self.out_ep = out_ep\n\n        usb_args = usb_args or {}\n        if idVendor:\n            usb_args['idVendor'] = idVendor\n        if idProduct:\n            usb_args['idProduct'] = idProduct\n        self.open(usb_args)\n\n    def open(self, usb_args):\n        \&quot;\&quot;\&quot; Search device on USB tree and set it as escpos device.\n\n        :param usb_args: USB arguments\n        \&quot;\&quot;\&quot;\n        self.device = usb.core.find(**usb_args)\n        if self.device is None:\n            raise USBNotFoundError(\&quot;Device not found or cable not plugged in.\&quot;)\n\n        self.idVendor = self.device.idVendor\n        self.idProduct = self.device.idProduct\n\n        # pyusb has three backends: libusb0, libusb1 and openusb but\n        # only libusb1 backend implements the methods is_kernel_driver_active()\n        # and detach_kernel_driver().\n        # This helps enable this library to work on Windows.\n        if self.device.backend.__module__.endswith(\&quot;libusb1\&quot;):\n            check_driver = None\n\n            try:\n                check_driver = self.device.is_kernel_driver_active(0)\n            except NotImplementedError:\n                pass\n\n            if check_driver is None or check_driver:\n                try:\n                    self.device.detach_kernel_driver(0)\n                except NotImplementedError:\n                    pass\n                except usb.core.USBError as e:\n                    if check_driver is not None:\n                        print(\&quot;Could not detatch kernel driver: {0}\&quot;.format(str(e)))\n\n        try:\n            self.device.set_configuration()\n            self.device.reset()\n        except usb.core.USBError as e:\n            print(\&quot;Could not set configuration: {0}\&quot;.format(str(e)))\n\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Print any command sent in raw format\n\n        :param msg: arbitrary code to be printed\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        self.device.write(self.out_ep, msg, self.timeout)\n\n    def _read(self):\n        \&quot;\&quot;\&quot; Reads a data buffer and returns it to the caller. \&quot;\&quot;\&quot;\n        return self.device.read(self.in_ep, 16)\n\n    def close(self):\n        \&quot;\&quot;\&quot; Release USB interface \&quot;\&quot;\&quot;\n        if self.device:\n            usb.util.dispose_resources(self.device)\n        self.device = None\n\n\nclass Serial(Escpos):\n    \&quot;\&quot;\&quot; Serial printer\n\n    This class describes a printer that is connected by serial interface.\n\n    inheritance:\n\n    .. inheritance-diagram:: escpos.printer.Serial\n        :parts: 1\n\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, devfile=\&quot;/dev/ttyS0\&quot;, baudrate=9600, bytesize=8, timeout=1,\n                 parity=serial.PARITY_NONE, stopbits=serial.STOPBITS_ONE,\n                 xonxoff=False, dsrdtr=True, *args, **kwargs):\n        \&quot;\&quot;\&quot;\n\n        :param devfile:  Device file under dev filesystem\n        :param baudrate: Baud rate for serial transmission\n        :param bytesize: Serial buffer size\n        :param timeout:  Read/Write timeout\n        :param parity:   Parity checking\n        :param stopbits: Number of stop bits\n        :param xonxoff:  Software flow control\n        :param dsrdtr:   Hardware flow control (False to enable RTS/CTS)\n        \&quot;\&quot;\&quot;\n        Escpos.__init__(self, *args, **kwargs)\n        self.devfile = devfile\n        self.baudrate = baudrate\n        self.bytesize = bytesize\n        self.timeout = timeout\n        self.parity = parity\n        self.stopbits = stopbits\n        self.xonxoff = xonxoff\n        self.dsrdtr = dsrdtr\n\n        self.open()\n\n    def open(self):\n        \&quot;\&quot;\&quot; Setup serial port and set is as escpos device \&quot;\&quot;\&quot;\n        if self.device is not None and self.device.is_open:\n            self.close()\n        self.device = serial.Serial(port=self.devfile, baudrate=self.baudrate,\n                                    bytesize=self.bytesize, parity=self.parity,\n                                    stopbits=self.stopbits, timeout=self.timeout,\n                                    xonxoff=self.xonxoff, dsrdtr=self.dsrdtr)\n\n        if self.device is not None:\n            print(\&quot;Serial printer enabled\&quot;)\n        else:\n            print(\&quot;Unable to open serial printer on: {0}\&quot;.format(str(self.devfile)))\n\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Print any command sent in raw format\n\n        :param msg: arbitrary code to be printed\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        self.device.write(msg)\n\n    def _read(self):\n        \&quot;\&quot;\&quot; Reads a data buffer and returns it to the caller. \&quot;\&quot;\&quot;\n        return self.device.read(16)\n\n    def close(self):\n        \&quot;\&quot;\&quot; Close Serial interface \&quot;\&quot;\&quot;\n        if self.device is not None and self.device.is_open:\n            self.device.flush()\n            self.device.close()\n\n\nclass Network(Escpos):\n    \&quot;\&quot;\&quot; Network printer\n\n    This class is used to attach to a networked printer. You can also use this in order to attach to a printer that\n    is forwarded with ``socat``.\n\n    If you have a local printer on parallel port ``/dev/usb/lp0`` then you could start ``socat`` with:\n\n    .. code-block:: none\n\n        socat -u TCP4-LISTEN:4242,reuseaddr,fork OPEN:/dev/usb/lp0\n\n    Then you should be able to attach to port ``4242`` with this class.\n    Otherwise the normal usecase would be to have a printer with ethernet interface. This type of printer should\n    work the same with this class. For the address of the printer check its manuals.\n\n    inheritance:\n\n    .. inheritance-diagram:: escpos.printer.Network\n        :parts: 1\n\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, host, port=9100, timeout=60, *args, **kwargs):\n        \&quot;\&quot;\&quot;\n\n        :param host:    Printer's hostname or IP address\n        :param port:    Port to write to\n        :param timeout: timeout in seconds for the socket-library\n        \&quot;\&quot;\&quot;\n        Escpos.__init__(self, *args, **kwargs)\n        self.host = host\n        self.port = port\n        self.timeout = timeout\n        self.open()\n\n    def open(self):\n        \&quot;\&quot;\&quot; Open TCP socket with ``socket``-library and set it as escpos device \&quot;\&quot;\&quot;\n        self.device = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.device.settimeout(self.timeout)\n        self.device.connect((self.host, self.port))\n\n        if self.device is None:\n            print(\&quot;Could not open socket for {0}\&quot;.format(self.host))\n\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Print any command sent in raw format\n\n        :param msg: arbitrary code to be printed\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        self.device.sendall(msg)\n\n    def _read(self):\n        \&quot;\&quot;\&quot; Read data from the TCP socket \&quot;\&quot;\&quot;\n\n        return self.device.recv(16)\n\n    def close(self):\n        \&quot;\&quot;\&quot; Close TCP connection \&quot;\&quot;\&quot;\n        if self.device is not None:\n            self.device.shutdown(socket.SHUT_RDWR)\n            self.device.close()\n\n\nclass File(Escpos):\n    \&quot;\&quot;\&quot; Generic file printer\n\n    This class is used for parallel port printer or other printers that are directly attached to the filesystem.\n    Note that you should stay away from using USB-to-Parallel-Adapter since they are unreliable\n    and produce arbitrary errors.\n\n    inheritance:\n\n    .. inheritance-diagram:: escpos.printer.File\n        :parts: 1\n\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, devfile=\&quot;/dev/usb/lp0\&quot;, auto_flush=True, *args, **kwargs):\n        \&quot;\&quot;\&quot;\n\n        :param devfile: Device file under dev filesystem\n        :param auto_flush: automatically call flush after every call of _raw()\n        \&quot;\&quot;\&quot;\n        Escpos.__init__(self, *args, **kwargs)\n        self.devfile = devfile\n        self.auto_flush = auto_flush\n        self.open()\n\n    def open(self):\n        \&quot;\&quot;\&quot; Open system file \&quot;\&quot;\&quot;\n        self.device = open(self.devfile, \&quot;wb\&quot;)\n\n        if self.device is None:\n            print(\&quot;Could not open the specified file {0}\&quot;.format(self.devfile))\n\n    def flush(self):\n        \&quot;\&quot;\&quot; Flush printing content \&quot;\&quot;\&quot;\n        self.device.flush()\n\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Print any command sent in raw format\n\n        :param msg: arbitrary code to be printed\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        self.device.write(msg)\n        if self.auto_flush:\n            self.flush()\n\n    def close(self):\n        \&quot;\&quot;\&quot; Close system file \&quot;\&quot;\&quot;\n        if self.device is not None:\n            self.device.flush()\n            self.device.close()\n\n\nclass Dummy(Escpos):\n    \&quot;\&quot;\&quot; Dummy printer\n\n    This class is used for saving commands to a variable, for use in situations where\n    there is no need to send commands to an actual printer. This includes\n    generating print jobs for later use, or testing output.\n\n    inheritance:\n\n    .. inheritance-diagram:: escpos.printer.Dummy\n        :parts: 1\n\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, *args, **kwargs):\n        \&quot;\&quot;\&quot;\n        \&quot;\&quot;\&quot;\n        Escpos.__init__(self, *args, **kwargs)\n        self._output_list = []\n\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Print any command sent in raw format\n\n        :param msg: arbitrary code to be printed\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        self._output_list.append(msg)\n\n    @property\n    def output(self):\n        \&quot;\&quot;\&quot; Get the data that was sent to this printer \&quot;\&quot;\&quot;\n        return b''.join(self._output_list)\n\n    def clear(self):\n        \&quot;\&quot;\&quot; Clear the buffer of the printer\n\n        This method can be called if you send the contents to a physical printer\n        and want to use the Dummy printer for new output.\n        \&quot;\&quot;\&quot;\n        del self._output_list[:]\n\n    def close(self):\n        pass\n\n\n_WIN32PRINT = False\ntry:\n    import win32print\n\n    _WIN32PRINT = True\nexcept ImportError:\n    pass\n\nif _WIN32PRINT:\n    class Win32Raw(Escpos):\n        def __init__(self, printer_name=None, *args, **kwargs):\n            Escpos.__init__(self, *args, **kwargs)\n            if printer_name is not None:\n                self.printer_name = printer_name\n            else:\n                self.printer_name = win32print.GetDefaultPrinter()\n            self.hPrinter = None\n\n        def open(self, job_name=\&quot;python-escpos\&quot;):\n            if self.printer_name is None:\n                raise Exception(\&quot;Printer not found\&quot;)\n            self.hPrinter = win32print.OpenPrinter(self.printer_name)\n            self.current_job = win32print.StartDocPrinter(self.hPrinter, 1, (job_name, None, \&quot;RAW\&quot;))\n            win32print.StartPagePrinter(self.hPrinter)\n\n        def close(self):\n            if not self.hPrinter:\n                return\n            win32print.EndPagePrinter(self.hPrinter)\n            win32print.EndDocPrinter(self.hPrinter)\n            win32print.ClosePrinter(self.hPrinter)\n            self.hPrinter = None\n\n        def _raw(self, msg):\n            \&quot;\&quot;\&quot; Print any command sent in raw format\n\n            :param msg: arbitrary code to be printed\n            :type msg: bytes\n            \&quot;\&quot;\&quot;\n            if self.printer_name is None:\n                raise Exception(\&quot;Printer not found\&quot;)\n            if self.hPrinter is None:\n                raise Exception(\&quot;Printer job not opened\&quot;)\n            win32print.WritePrinter(self.hPrinter, msg)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:4446486996381703700,&quot;string&quot;:&quot;4,446,486,996,381,703,700&quot;}}},{&quot;rowIdx&quot;:17,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;import re\nfrom os import environ, path\nimport pkg_resources\nimport pickle\nimport logging\nimport time\n\nimport six\nimport yaml\n\nfrom tempfile import gettempdir\nimport platform\n\nlogging.basicConfig()\nlogger = logging.getLogger(__name__)\n\npickle_dir = environ.get('ESCPOS_CAPABILITIES_PICKLE_DIR', gettempdir())\npickle_path = path.join(pickle_dir, '{v}.capabilities.pickle'.format(v=platform.python_version()))\n# get a temporary file from pkg_resources if no file is specified in env\ncapabilities_path = environ.get('ESCPOS_CAPABILITIES_FILE',\n                                pkg_resources.resource_filename(__name__, 'capabilities.json'))\n\n# Load external printer database\nt0 = time.time()\nlogger.debug('Using capabilities from file: %s', capabilities_path)\nif path.exists(pickle_path):\n    if path.getmtime(capabilities_path) > path.getmtime(pickle_path):\n        logger.debug('Found a more recent capabilities file')\n        full_load = True\n    else:\n        full_load = False\n        logger.debug('Loading capabilities from pickle in %s', pickle_path)\n        with open(pickle_path, 'rb') as cf:\n            CAPABILITIES = pickle.load(cf)\nelse:\n    logger.debug('Capabilities pickle file not found: %s', pickle_path)\n    full_load = True\n\nif full_load:\n    logger.debug('Loading and pickling capabilities')\n    with open(capabilities_path) as cp, open(pickle_path, 'wb') as pp:\n        CAPABILITIES = yaml.safe_load(cp)\n        pickle.dump(CAPABILITIES, pp, protocol=2)\n\nlogger.debug('Finished loading capabilities took %.2fs', time.time() - t0)\n\n\nPROFILES = CAPABILITIES['profiles']\n\n\nclass NotSupported(Exception):\n    \&quot;\&quot;\&quot;Raised if a requested feature is not supported by the\n    printer profile.\n    \&quot;\&quot;\&quot;\n    pass\n\n\nBARCODE_B = 'barcodeB'\n\n\nclass BaseProfile(object):\n    \&quot;\&quot;\&quot;This represents a printer profile.\n\n    A printer profile knows about the number of columns, supported\n    features, colors and more.\n    \&quot;\&quot;\&quot;\n\n    profile_data = {}\n\n    def __getattr__(self, name):\n        return self.profile_data[name]\n\n    def get_font(self, font):\n        \&quot;\&quot;\&quot;Return the escpos index for `font`. Makes sure that\n        the requested `font` is valid.\n        \&quot;\&quot;\&quot;\n        font = {'a': 0, 'b': 1}.get(font, font)\n        if not six.text_type(font) in self.fonts:\n            raise NotSupported(\n                '\&quot;{}\&quot; is not a valid font in the current profile'.format(font))\n        return font\n\n    def get_columns(self, font):\n        \&quot;\&quot;\&quot; Return the number of columns for the given font.\n        \&quot;\&quot;\&quot;\n        font = self.get_font(font)\n        return self.fonts[six.text_type(font)]['columns']\n\n    def supports(self, feature):\n        \&quot;\&quot;\&quot;Return true/false for the given feature.\n        \&quot;\&quot;\&quot;\n        return self.features.get(feature)\n\n    def get_code_pages(self):\n        \&quot;\&quot;\&quot;Return the support code pages as a ``{name: index}`` dict.\n        \&quot;\&quot;\&quot;\n        return {v: k for k, v in self.codePages.items()}\n\n\ndef get_profile(name=None, **kwargs):\n    \&quot;\&quot;\&quot;Get the profile by name; if no name is given, return the\n    default profile.\n    \&quot;\&quot;\&quot;\n    if isinstance(name, Profile):\n        return name\n\n    clazz = get_profile_class(name or 'default')\n    return clazz(**kwargs)\n\n\nCLASS_CACHE = {}\n\n\ndef get_profile_class(name):\n    \&quot;\&quot;\&quot;For the given profile name, load the data from the external\n    database, then generate dynamically a class.\n    \&quot;\&quot;\&quot;\n    if name not in CLASS_CACHE:\n        profile_data = PROFILES[name]\n        profile_name = clean(name)\n        class_name = '{}{}Profile'.format(\n            profile_name[0].upper(), profile_name[1:])\n        new_class = type(class_name, (BaseProfile,), {'profile_data': profile_data})\n        CLASS_CACHE[name] = new_class\n\n    return CLASS_CACHE[name]\n\n\ndef clean(s):\n    # Remove invalid characters\n    s = re.sub('[^0-9a-zA-Z_]', '', s)\n    # Remove leading characters until we find a letter or underscore\n    s = re.sub('^[^a-zA-Z_]+', '', s)\n    return str(s)\n\n\nclass Profile(get_profile_class('default')):\n    \&quot;\&quot;\&quot;\n    For users, who want to provide their profile\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, columns=None, features=None):\n        super(Profile, self).__init__()\n\n        self.columns = columns\n        self.features = features or {}\n\n    def get_columns(self, font):\n        if self.columns is not None:\n            return self.columns\n\n        return super(Profile, self).get_columns(font)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-8814734423063138000,&quot;string&quot;:&quot;-8,814,734,423,063,138,000&quot;}}},{&quot;rowIdx&quot;:18,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot; Main class\n\nThis module contains the abstract base class :py:class:`Escpos`.\n\n:author: `Manuel F Martinez <manpaz@bashlinux.com>`_ and others\n:organization: Bashlinux and `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport qrcode\nimport textwrap\nimport six\nimport time\nfrom re import match as re_match\n\nimport barcode\nfrom barcode.writer import ImageWriter\n\nimport os\n\nfrom .constants import ESC, GS, NUL, QR_ECLEVEL_L, QR_ECLEVEL_M, QR_ECLEVEL_H, QR_ECLEVEL_Q\nfrom .constants import QR_MODEL_1, QR_MODEL_2, QR_MICRO, BARCODE_TYPES, BARCODE_HEIGHT, BARCODE_WIDTH\nfrom .constants import BARCODE_FONT_A, BARCODE_FONT_B, BARCODE_FORMATS\nfrom .constants import BARCODE_TXT_OFF, BARCODE_TXT_BTH, BARCODE_TXT_ABV, BARCODE_TXT_BLW\nfrom .constants import TXT_SIZE, TXT_NORMAL\nfrom .constants import SET_FONT\nfrom .constants import LINESPACING_FUNCS, LINESPACING_RESET\nfrom .constants import LINE_DISPLAY_OPEN, LINE_DISPLAY_CLEAR, LINE_DISPLAY_CLOSE\nfrom .constants import CD_KICK_DEC_SEQUENCE, CD_KICK_5, CD_KICK_2, PAPER_FULL_CUT, PAPER_PART_CUT\nfrom .constants import HW_RESET, HW_SELECT, HW_INIT\nfrom .constants import CTL_VT, CTL_CR, CTL_FF, CTL_LF, CTL_SET_HT, PANEL_BUTTON_OFF, PANEL_BUTTON_ON\nfrom .constants import TXT_STYLE\nfrom .constants import RT_STATUS_ONLINE, RT_MASK_ONLINE\nfrom .constants import RT_STATUS_PAPER, RT_MASK_PAPER, RT_MASK_LOWPAPER, RT_MASK_NOPAPER\n\nfrom .exceptions import BarcodeTypeError, BarcodeSizeError, TabPosError\nfrom .exceptions import CashDrawerError, SetVariableError, BarcodeCodeError\nfrom .exceptions import ImageWidthError\n\nfrom .magicencode import MagicEncode\n\nfrom abc import ABCMeta, abstractmethod  # abstract base class support\nfrom escpos.image import EscposImage\nfrom escpos.capabilities import get_profile, BARCODE_B\n\n\n@six.add_metaclass(ABCMeta)\nclass Escpos(object):\n    \&quot;\&quot;\&quot; ESC/POS Printer object\n\n    This class is the abstract base class for an esc/pos-printer. The printer implementations are children of this\n    class.\n    \&quot;\&quot;\&quot;\n    device = None\n\n    def __init__(self, profile=None, magic_encode_args=None, **kwargs):\n        \&quot;\&quot;\&quot; Initialize ESCPOS Printer\n\n        :param profile: Printer profile\&quot;\&quot;\&quot;\n        self.profile = get_profile(profile)\n        self.magic = MagicEncode(self, **(magic_encode_args or {}))\n\n    def __del__(self):\n        \&quot;\&quot;\&quot; call self.close upon deletion \&quot;\&quot;\&quot;\n        self.close()\n\n    @abstractmethod\n    def _raw(self, msg):\n        \&quot;\&quot;\&quot; Sends raw data to the printer\n\n        This function has to be individually implemented by the implementations.\n\n        :param msg: message string to be sent to the printer\n        :type msg: bytes\n        \&quot;\&quot;\&quot;\n        pass\n\n    def _read(self):\n        \&quot;\&quot;\&quot; Returns a NotImplementedError if the instance of the class doesn't override this method.\n        :raises NotImplementedError\n        \&quot;\&quot;\&quot;\n        raise NotImplementedError()\n\n    def image(self, img_source, high_density_vertical=True, high_density_horizontal=True, impl=\&quot;bitImageRaster\&quot;,\n              fragment_height=960, center=False):\n        \&quot;\&quot;\&quot; Print an image\n\n        You can select whether the printer should print in high density or not. The default value is high density.\n        When printing in low density, the image will be stretched.\n\n        Esc/Pos supplies several commands for printing. This function supports three of them. Please try to vary the\n        implementations if you have any problems. For example the printer `IT80-002` will have trouble aligning\n        images that are not printed in Column-mode.\n\n        The available printing implementations are:\n\n            * `bitImageRaster`: prints with the `GS v 0`-command\n            * `graphics`: prints with the `GS ( L`-command\n            * `bitImageColumn`: prints with the `ESC *`-command\n\n        When trying to center an image make sure you have initialized the printer with a valid profile, that\n        contains a media width pixel field. Otherwise the centering will have no effect.\n\n        :param img_source: PIL image or filename to load: `jpg`, `gif`, `png` or `bmp`\n        :param high_density_vertical: print in high density in vertical direction *default:* True\n        :param high_density_horizontal: print in high density in horizontal direction *default:* True\n        :param impl: choose image printing mode between `bitImageRaster`, `graphics` or `bitImageColumn`\n        :param fragment_height: Images larger than this will be split into multiple fragments *default:* 960\n        :param center: Center image horizontally *default:* False\n\n        \&quot;\&quot;\&quot;\n        im = EscposImage(img_source)\n\n        try:\n            if self.profile.profile_data['media']['width']['pixels'] == \&quot;Unknown\&quot;:\n                print(\&quot;The media.width.pixel field of the printer profile is not set. \&quot; +\n                      \&quot;The center flag will have no effect.\&quot;)\n\n            max_width = int(self.profile.profile_data['media']['width']['pixels'])\n\n            if im.width > max_width:\n                raise ImageWidthError('{} > {}'.format(im.width, max_width))\n\n            if center:\n                im.center(max_width)\n        except KeyError:\n            # If the printer's pixel width is not known, print anyways...\n            pass\n        except ValueError:\n            # If the max_width cannot be converted to an int, print anyways...\n            pass\n\n        if im.height > fragment_height:\n            fragments = im.split(fragment_height)\n            for fragment in fragments:\n                self.image(fragment,\n                           high_density_vertical=high_density_vertical,\n                           high_density_horizontal=high_density_horizontal,\n                           impl=impl,\n                           fragment_height=fragment_height)\n            return\n\n        if impl == \&quot;bitImageRaster\&quot;:\n            # GS v 0, raster format bit image\n            density_byte = (0 if high_density_horizontal else 1) + (0 if high_density_vertical else 2)\n            header = GS + b\&quot;v0\&quot; + six.int2byte(density_byte) + self._int_low_high(im.width_bytes, 2) +\\\n                self._int_low_high(im.height, 2)\n            self._raw(header + im.to_raster_format())\n\n        if impl == \&quot;graphics\&quot;:\n            # GS ( L raster format graphics\n            img_header = self._int_low_high(im.width, 2) + self._int_low_high(im.height, 2)\n            tone = b'0'\n            colors = b'1'\n            ym = six.int2byte(1 if high_density_vertical else 2)\n            xm = six.int2byte(1 if high_density_horizontal else 2)\n            header = tone + xm + ym + colors + img_header\n            raster_data = im.to_raster_format()\n            self._image_send_graphics_data(b'0', b'p', header + raster_data)\n            self._image_send_graphics_data(b'0', b'2', b'')\n\n        if impl == \&quot;bitImageColumn\&quot;:\n            # ESC *, column format bit image\n            density_byte = (1 if high_density_horizontal else 0) + (32 if high_density_vertical else 0)\n            header = ESC + b\&quot;*\&quot; + six.int2byte(density_byte) + self._int_low_high(im.width, 2)\n            outp = [ESC + b\&quot;3\&quot; + six.int2byte(16)]  # Adjust line-feed size\n            for blob in im.to_column_format(high_density_vertical):\n                outp.append(header + blob + b\&quot;\\n\&quot;)\n            outp.append(ESC + b\&quot;2\&quot;)  # Reset line-feed size\n            self._raw(b''.join(outp))\n\n    def _image_send_graphics_data(self, m, fn, data):\n        \&quot;\&quot;\&quot;\n        Wrapper for GS ( L, to calculate and send correct data length.\n\n        :param m: Modifier//variant for function. Usually '0'\n        :param fn: Function number to use, as byte\n        :param data: Data to send\n        \&quot;\&quot;\&quot;\n        header = self._int_low_high(len(data) + 2, 2)\n        self._raw(GS + b'(L' + header + m + fn + data)\n\n    def qr(self, content, ec=QR_ECLEVEL_L, size=3, model=QR_MODEL_2,\n           native=False, center=False, impl=\&quot;bitImageRaster\&quot;):\n        \&quot;\&quot;\&quot; Print QR Code for the provided string\n\n        :param content: The content of the code. Numeric data will be more efficiently compacted.\n        :param ec: Error-correction level to use. One of QR_ECLEVEL_L (default), QR_ECLEVEL_M, QR_ECLEVEL_Q or\n            QR_ECLEVEL_H.\n            Higher error correction results in a less compact code.\n        :param size: Pixel size to use. Must be 1-16 (default 3)\n        :param model: QR code model to use. Must be one of QR_MODEL_1, QR_MODEL_2 (default) or QR_MICRO (not supported\n            by all printers).\n        :param native: True to render the code on the printer, False to render the code as an image and send it to the\n            printer (Default)\n        :param center: Centers the code *default:* False\n        :param impl: Image-printing-implementation, refer to :meth:`.image()` for details\n        \&quot;\&quot;\&quot;\n        # Basic validation\n        if ec not in [QR_ECLEVEL_L, QR_ECLEVEL_M, QR_ECLEVEL_H, QR_ECLEVEL_Q]:\n            raise ValueError(\&quot;Invalid error correction level\&quot;)\n        if not 1 <= size <= 16:\n            raise ValueError(\&quot;Invalid block size (must be 1-16)\&quot;)\n        if model not in [QR_MODEL_1, QR_MODEL_2, QR_MICRO]:\n            raise ValueError(\&quot;Invalid QR model (must be one of QR_MODEL_1, QR_MODEL_2, QR_MICRO)\&quot;)\n        if content == \&quot;\&quot;:\n            # Handle edge case by printing nothing.\n            return\n        if not native:\n            # Map ESC/POS error correction levels to python 'qrcode' library constant and render to an image\n            if model != QR_MODEL_2:\n                raise ValueError(\&quot;Invalid QR model for qrlib rendering (must be QR_MODEL_2)\&quot;)\n            python_qr_ec = {\n                QR_ECLEVEL_H: qrcode.constants.ERROR_CORRECT_H,\n                QR_ECLEVEL_L: qrcode.constants.ERROR_CORRECT_L,\n                QR_ECLEVEL_M: qrcode.constants.ERROR_CORRECT_M,\n                QR_ECLEVEL_Q: qrcode.constants.ERROR_CORRECT_Q\n            }\n            qr_code = qrcode.QRCode(version=None, box_size=size, border=1, error_correction=python_qr_ec[ec])\n            qr_code.add_data(content)\n            qr_code.make(fit=True)\n            qr_img = qr_code.make_image()\n            im = qr_img._img.convert(\&quot;RGB\&quot;)\n\n            # Convert the RGB image in printable image\n            self.text('\\n')\n            self.image(im, center=center, impl=impl)\n            self.text('\\n')\n            self.text('\\n')\n            return\n\n        if center:\n            raise NotImplementedError(\&quot;Centering not implemented for native QR rendering\&quot;)\n\n        # Native 2D code printing\n        cn = b'1'  # Code type for QR code\n        # Select model: 1, 2 or micro.\n        self._send_2d_code_data(six.int2byte(65), cn, six.int2byte(48 + model) + six.int2byte(0))\n        # Set dot size.\n        self._send_2d_code_data(six.int2byte(67), cn, six.int2byte(size))\n        # Set error correction level: L, M, Q, or H\n        self._send_2d_code_data(six.int2byte(69), cn, six.int2byte(48 + ec))\n        # Send content &amp; print\n        self._send_2d_code_data(six.int2byte(80), cn, content.encode('utf-8'), b'0')\n        self._send_2d_code_data(six.int2byte(81), cn, b'', b'0')\n\n    def _send_2d_code_data(self, fn, cn, data, m=b''):\n        \&quot;\&quot;\&quot; Wrapper for GS ( k, to calculate and send correct data length.\n\n        :param fn: Function to use.\n        :param cn: Output code type. Affects available data.\n        :param data: Data to send.\n        :param m: Modifier/variant for function. Often '0' where used.\n        \&quot;\&quot;\&quot;\n        if len(m) > 1 or len(cn) != 1 or len(fn) != 1:\n            raise ValueError(\&quot;cn and fn must be one byte each.\&quot;)\n        header = self._int_low_high(len(data) + len(m) + 2, 2)\n        self._raw(GS + b'(k' + header + cn + fn + m + data)\n\n    @staticmethod\n    def _int_low_high(inp_number, out_bytes):\n        \&quot;\&quot;\&quot; Generate multiple bytes for a number: In lower and higher parts, or more parts as needed.\n\n        :param inp_number: Input number\n        :param out_bytes: The number of bytes to output (1 - 4).\n        \&quot;\&quot;\&quot;\n        max_input = (256 << (out_bytes * 8) - 1)\n        if not 1 <= out_bytes <= 4:\n            raise ValueError(\&quot;Can only output 1-4 bytes\&quot;)\n        if not 0 <= inp_number <= max_input:\n            raise ValueError(\&quot;Number too large. Can only output up to {0} in {1} bytes\&quot;.format(max_input, out_bytes))\n        outp = b''\n        for _ in range(0, out_bytes):\n            outp += six.int2byte(inp_number % 256)\n            inp_number //= 256\n        return outp\n\n    def charcode(self, code=\&quot;AUTO\&quot;):\n        \&quot;\&quot;\&quot; Set Character Code Table\n\n        Sets the control sequence from ``CHARCODE`` in :py:mod:`escpos.constants` as active. It will be sent with\n        the next text sequence. If you set the variable code to ``AUTO`` it will try to automatically guess the\n        right codepage. (This is the standard behaviour.)\n\n        :param code: Name of CharCode\n        :raises: :py:exc:`~escpos.exceptions.CharCodeError`\n        \&quot;\&quot;\&quot;\n        if code.upper() == \&quot;AUTO\&quot;:\n            self.magic.force_encoding(False)\n        else:\n            self.magic.force_encoding(code)\n\n    @staticmethod\n    def check_barcode(bc, code):\n        \&quot;\&quot;\&quot;\n        This method checks if the barcode is in the proper format.\n        The validation concerns the barcode length and the set of characters, but won't compute/validate any checksum.\n        The full set of requirement for each barcode type is available in the ESC/POS documentation.\n\n        As an example, using EAN13, the barcode `12345678901` will be correct, because it can be rendered by the\n        printer. But it does not suit the EAN13 standard, because the checksum digit is missing. Adding a wrong\n        checksum in the end will also be considered correct, but adding a letter won't (EAN13 is numeric only).\n\n        .. todo:: Add a method to compute the checksum for the different standards\n\n        .. todo:: For fixed-length standards with mandatory checksum (EAN, UPC),\n            compute and add the checksum automatically if missing.\n\n        :param bc: barcode format, see :py:meth:`.barcode()`\n        :param code: alphanumeric data to be printed as bar code, see :py:meth:`.barcode()`\n        :return: bool\n        \&quot;\&quot;\&quot;\n        if bc not in BARCODE_FORMATS:\n            return False\n\n        bounds, regex = BARCODE_FORMATS[bc]\n        return any(bound[0] <= len(code) <= bound[1] for bound in bounds) and re_match(regex, code)\n\n    def barcode(self, code, bc, height=64, width=3, pos=\&quot;BELOW\&quot;, font=\&quot;A\&quot;,\n                align_ct=True, function_type=None, check=True):\n        \&quot;\&quot;\&quot; Print Barcode\n\n        This method allows to print barcodes. The rendering of the barcode is done by the printer and therefore has to\n        be supported by the unit. By default, this method will check whether your barcode text is correct, that is\n        the characters and lengths are supported by ESCPOS. Call the method with `check=False` to disable the check, but\n        note that uncorrect barcodes may lead to unexpected printer behaviour.\n        There are two forms of the barcode function. Type A is default but has fewer barcodes,\n        while type B has some more to choose from.\n\n        Use the parameters `height` and `width` for adjusting of the barcode size. Please take notice that the barcode\n        will not be printed if it is outside of the printable area. (Which should be impossible with this method, so\n        this information is probably more useful for debugging purposes.)\n\n        .. todo:: On TM-T88II width from 1 to 6 is accepted. Try to acquire command reference and correct the code.\n        .. todo:: Supplying pos does not have an effect for every barcode type. Check and document for which types this\n                  is true.\n\n        If you do not want to center the barcode you can call the method with `align_ct=False`, which will disable\n        automatic centering. Please note that when you use center alignment, then the alignment of text will be changed\n        automatically to centered. You have to manually restore the alignment if necessary.\n\n        .. todo:: If further barcode-types are needed they could be rendered transparently as an image. (This could also\n                  be of help if the printer does not support types that others do.)\n\n        :param code: alphanumeric data to be printed as bar code\n        :param bc: barcode format, possible values are for type A are:\n\n            * UPC-A\n            * UPC-E\n            * EAN13\n            * EAN8\n            * CODE39\n            * ITF\n            * NW7\n\n            Possible values for type B:\n\n            * All types from function type A\n            * CODE93\n            * CODE128\n            * GS1-128\n            * GS1 DataBar Omnidirectional\n            * GS1 DataBar Truncated\n            * GS1 DataBar Limited\n            * GS1 DataBar Expanded\n\n            If none is specified, the method raises :py:exc:`~escpos.exceptions.BarcodeTypeError`.\n        :param height: barcode height, has to be between 1 and 255\n            *default*: 64\n        :type height: int\n        :param width: barcode width, has to be between 2 and 6\n            *default*: 3\n        :type width: int\n        :param pos: where to place the text relative to the barcode, *default*: BELOW\n\n            * ABOVE\n            * BELOW\n            * BOTH\n            * OFF\n\n        :param font: select font (see ESC/POS-documentation, the device often has two fonts), *default*: A\n\n            * A\n            * B\n\n        :param align_ct: If this parameter is True the barcode will be centered. Otherwise no alignment command will be\n                         issued.\n        :type align_ct: bool\n\n        :param function_type: Choose between ESCPOS function type A or B,\n            depending on printer support and desired barcode. If not given,\n            the printer will attempt to automatically choose the correct\n            function based on the current profile.\n            *default*: A\n\n        :param check: If this parameter is True, the barcode format will be checked to ensure it meets the bc\n            requirements as definged in the ESC/POS documentation. See :py:meth:`.check_barcode()`\n            for more information. *default*: True.\n\n        :raises: :py:exc:`~escpos.exceptions.BarcodeSizeError`,\n                 :py:exc:`~escpos.exceptions.BarcodeTypeError`,\n                 :py:exc:`~escpos.exceptions.BarcodeCodeError`\n        \&quot;\&quot;\&quot;\n        if function_type is None:\n            # Choose the function type automatically.\n            if bc in BARCODE_TYPES['A']:\n                function_type = 'A'\n            else:\n                if bc in BARCODE_TYPES['B']:\n                    if not self.profile.supports(BARCODE_B):\n                        raise BarcodeTypeError((\n                            \&quot;Barcode type '{bc} not supported for \&quot;\n                            \&quot;the current printer profile\&quot;).format(bc=bc))\n                    function_type = 'B'\n                else:\n                    raise BarcodeTypeError((\n                        \&quot;Barcode type '{bc} is not valid\&quot;).format(bc=bc))\n\n        bc_types = BARCODE_TYPES[function_type.upper()]\n        if bc.upper() not in bc_types.keys():\n            raise BarcodeTypeError((\n                \&quot;Barcode '{bc}' not valid for barcode function type \&quot;\n                \&quot;{function_type}\&quot;).format(\n                    bc=bc,\n                    function_type=function_type,\n                ))\n\n        if check and not self.check_barcode(bc, code):\n            raise BarcodeCodeError((\n                \&quot;Barcode '{code}' not in a valid format for type '{bc}'\&quot;).format(\n                code=code,\n                bc=bc,\n            ))\n\n        # Align Bar Code()\n        if align_ct:\n            self._raw(TXT_STYLE['align']['center'])\n        # Height\n        if 1 <= height <= 255:\n            self._raw(BARCODE_HEIGHT + six.int2byte(height))\n        else:\n            raise BarcodeSizeError(\&quot;height = {height}\&quot;.format(height=height))\n        # Width\n        if 2 <= width <= 6:\n            self._raw(BARCODE_WIDTH + six.int2byte(width))\n        else:\n            raise BarcodeSizeError(\&quot;width = {width}\&quot;.format(width=width))\n        # Font\n        if font.upper() == \&quot;B\&quot;:\n            self._raw(BARCODE_FONT_B)\n        else:  # DEFAULT FONT: A\n            self._raw(BARCODE_FONT_A)\n        # Position\n        if pos.upper() == \&quot;OFF\&quot;:\n            self._raw(BARCODE_TXT_OFF)\n        elif pos.upper() == \&quot;BOTH\&quot;:\n            self._raw(BARCODE_TXT_BTH)\n        elif pos.upper() == \&quot;ABOVE\&quot;:\n            self._raw(BARCODE_TXT_ABV)\n        else:  # DEFAULT POSITION: BELOW\n            self._raw(BARCODE_TXT_BLW)\n\n        self._raw(bc_types[bc.upper()])\n\n        if function_type.upper() == \&quot;B\&quot;:\n            self._raw(six.int2byte(len(code)))\n\n        # Print Code\n        if code:\n            self._raw(code.encode())\n        else:\n            raise BarcodeCodeError()\n\n        if function_type.upper() == \&quot;A\&quot;:\n            self._raw(NUL)\n\n    def soft_barcode(self, barcode_type, data, impl='bitImageColumn',\n                     module_height=5, module_width=0.2, text_distance=1,\n                     center=True):\n\n        image_writer = ImageWriter()\n\n        # Check if barcode type exists\n        if barcode_type not in barcode.PROVIDED_BARCODES:\n            raise BarcodeTypeError(\n                'Barcode type {} not supported by software barcode renderer'\n                .format(barcode_type))\n\n        # Render the barcode to a fake file\n        barcode_class = barcode.get_barcode_class(barcode_type)\n        my_code = barcode_class(data, writer=image_writer)\n\n        with open(os.devnull, \&quot;wb\&quot;) as nullfile:\n            my_code.write(nullfile, {\n                'module_height': module_height,\n                'module_width': module_width,\n                'text_distance': text_distance\n            })\n\n        # Retrieve the Pillow image and print it\n        image = my_code.writer._image\n        self.image(image, impl=impl, center=center)\n\n    def text(self, txt):\n        \&quot;\&quot;\&quot; Print alpha-numeric text\n\n        The text has to be encoded in the currently selected codepage.\n        The input text has to be encoded in unicode.\n\n        :param txt: text to be printed\n        :raises: :py:exc:`~escpos.exceptions.TextError`\n        \&quot;\&quot;\&quot;\n        txt = six.text_type(txt)\n        self.magic.write(txt)\n\n    def textln(self, txt=''):\n        \&quot;\&quot;\&quot;Print alpha-numeric text with a newline\n\n        The text has to be encoded in the currently selected codepage.\n        The input text has to be encoded in unicode.\n\n        :param txt: text to be printed with a newline\n        :raises: :py:exc:`~escpos.exceptions.TextError`\n        \&quot;\&quot;\&quot;\n        self.text('{}\\n'.format(txt))\n\n    def ln(self, count=1):\n        \&quot;\&quot;\&quot;Print a newline or more\n\n        :param count: number of newlines to print\n        :raises: :py:exc:`ValueError` if count < 0\n        \&quot;\&quot;\&quot;\n        if count < 0:\n            raise ValueError('Count cannot be lesser than 0')\n        if count > 0:\n            self.text('\\n' * count)\n\n    def block_text(self, txt, font=None, columns=None):\n        \&quot;\&quot;\&quot; Text is printed wrapped to specified columns\n\n        Text has to be encoded in unicode.\n\n        :param txt: text to be printed\n        :param font: font to be used, can be :code:`a` or :code:`b`\n        :param columns: amount of columns\n        :return: None\n        \&quot;\&quot;\&quot;\n        col_count = self.profile.get_columns(font) if columns is None else columns\n        self.text(textwrap.fill(txt, col_count))\n\n    def set(self, align='left', font='a', bold=False, underline=0, width=1,\n            height=1, density=9, invert=False, smooth=False, flip=False,\n            double_width=False, double_height=False, custom_size=False):\n        \&quot;\&quot;\&quot; Set text properties by sending them to the printer\n\n        :param align: horizontal position for text, possible values are:\n\n            * 'center'\n            * 'left'\n            * 'right'\n\n            *default*: 'left'\n\n        :param font: font given as an index, a name, or one of the\n            special values 'a' or 'b', referring to fonts 0 and 1.\n        :param bold: text in bold, *default*: False\n        :param underline: underline mode for text, decimal range 0-2,  *default*: 0\n        :param double_height: doubles the height of the text\n        :param double_width: doubles the width of the text\n        :param custom_size: uses custom size specified by width and height\n            parameters. Cannot be used with double_width or double_height.\n        :param width: text width multiplier when custom_size is used, decimal range 1-8,  *default*: 1\n        :param height: text height multiplier when custom_size is used, decimal range 1-8, *default*: 1\n        :param density: print density, value from 0-8, if something else is supplied the density remains unchanged\n        :param invert: True enables white on black printing, *default*: False\n        :param smooth: True enables text smoothing. Effective on 4x4 size text and larger, *default*: False\n        :param flip: True enables upside-down printing, *default*: False\n\n        :type font: str\n        :type invert: bool\n        :type bold: bool\n        :type underline: bool\n        :type smooth: bool\n        :type flip: bool\n        :type custom_size: bool\n        :type double_width: bool\n        :type double_height: bool\n        :type align: str\n        :type width: int\n        :type height: int\n        :type density: int\n        \&quot;\&quot;\&quot;\n\n        if custom_size:\n            if 1 <= width <= 8 and 1 <= height <= 8 and isinstance(width, int) and\\\n              isinstance(height, int):\n                size_byte = TXT_STYLE['width'][width] + TXT_STYLE['height'][height]\n                self._raw(TXT_SIZE + six.int2byte(size_byte))\n            else:\n                raise SetVariableError()\n        else:\n            self._raw(TXT_NORMAL)\n            if double_width and double_height:\n                self._raw(TXT_STYLE['size']['2x'])\n            elif double_width:\n                self._raw(TXT_STYLE['size']['2w'])\n            elif double_height:\n                self._raw(TXT_STYLE['size']['2h'])\n            else:\n                self._raw(TXT_STYLE['size']['normal'])\n\n        self._raw(TXT_STYLE['flip'][flip])\n        self._raw(TXT_STYLE['smooth'][smooth])\n        self._raw(TXT_STYLE['bold'][bold])\n        self._raw(TXT_STYLE['underline'][underline])\n        self._raw(SET_FONT(six.int2byte(self.profile.get_font(font))))\n        self._raw(TXT_STYLE['align'][align])\n\n        if density != 9:\n            self._raw(TXT_STYLE['density'][density])\n\n        self._raw(TXT_STYLE['invert'][invert])\n\n    def line_spacing(self, spacing=None, divisor=180):\n        \&quot;\&quot;\&quot; Set line character spacing.\n\n        If no spacing is given, we reset it to the default.\n\n        There are different commands for setting the line spacing, using\n        a different denominator:\n\n        '+'' line_spacing/360 of an inch, 0 <= line_spacing <= 255\n        '3' line_spacing/180 of an inch, 0 <= line_spacing <= 255\n        'A' line_spacing/60 of an inch, 0 <= line_spacing <= 85\n\n        Some printers may not support all of them. The most commonly\n        available command (using a divisor of 180) is chosen.\n        \&quot;\&quot;\&quot;\n        if spacing is None:\n            self._raw(LINESPACING_RESET)\n            return\n\n        if divisor not in LINESPACING_FUNCS:\n            raise ValueError(\&quot;divisor must be either 360, 180 or 60\&quot;)\n        if (divisor in [360, 180]\n                and (not(0 <= spacing <= 255))):\n            raise ValueError(\&quot;spacing must be a int between 0 and 255 when divisor is 360 or 180\&quot;)\n        if divisor == 60 and (not(0 <= spacing <= 85)):\n            raise ValueError(\&quot;spacing must be a int between 0 and 85 when divisor is 60\&quot;)\n\n        self._raw(LINESPACING_FUNCS[divisor] + six.int2byte(spacing))\n\n    def cut(self, mode='FULL', feed=True):\n        \&quot;\&quot;\&quot; Cut paper.\n\n        Without any arguments the paper will be cut completely. With 'mode=PART' a partial cut will\n        be attempted. Note however, that not all models can do a partial cut. See the documentation of\n        your printer for details.\n\n        :param mode: set to 'PART' for a partial cut. default: 'FULL'\n        :param feed: print and feed before cutting. default: true\n        :raises ValueError: if mode not in ('FULL', 'PART')\n        \&quot;\&quot;\&quot;\n\n        if not feed:\n            self._raw(GS + b'V' + six.int2byte(66) + b'\\x00')\n            return\n\n        self.print_and_feed(6)\n\n        mode = mode.upper()\n        if mode not in ('FULL', 'PART'):\n            raise ValueError(\&quot;Mode must be one of ('FULL', 'PART')\&quot;)\n\n        if mode == \&quot;PART\&quot;:\n            if self.profile.supports('paperPartCut'):\n                self._raw(PAPER_PART_CUT)\n            elif self.profile.supports('paperFullCut'):\n                self._raw(PAPER_FULL_CUT)\n        elif mode == \&quot;FULL\&quot;:\n            if self.profile.supports('paperFullCut'):\n                self._raw(PAPER_FULL_CUT)\n            elif self.profile.supports('paperPartCut'):\n                self._raw(PAPER_PART_CUT)\n\n    def cashdraw(self, pin):\n        \&quot;\&quot;\&quot; Send pulse to kick the cash drawer\n\n        Kick cash drawer on pin 2 or pin 5 according to default parameter.\n        For non default parameter send a decimal sequence i.e. [27,112,48] or [27,112,0,25,255]\n\n        :param pin: pin number, 2 or 5 or list of decimals\n        :raises: :py:exc:`~escpos.exceptions.CashDrawerError`\n        \&quot;\&quot;\&quot;\n        if pin == 2:\n            self._raw(CD_KICK_2)\n        elif pin == 5:\n            self._raw(CD_KICK_5)\n        else:\n            try:\n                self._raw(CD_KICK_DEC_SEQUENCE(*pin))\n            except TypeError as err:\n                raise CashDrawerError(err)\n\n    def linedisplay_select(self, select_display=False):\n        \&quot;\&quot;\&quot; Selects the line display or the printer\n\n        This method is used for line displays that are daisy-chained between your computer and printer.\n        If you set `select_display` to true, only the display is selected and if you set it to false,\n        only the printer is selected.\n\n        :param select_display: whether the display should be selected or the printer\n        :type select_display: bool\n        \&quot;\&quot;\&quot;\n        if select_display:\n            self._raw(LINE_DISPLAY_OPEN)\n        else:\n            self._raw(LINE_DISPLAY_CLOSE)\n\n    def linedisplay_clear(self):\n        \&quot;\&quot;\&quot; Clears the line display and resets the cursor\n\n        This method is used for line displays that are daisy-chained between your computer and printer.\n        \&quot;\&quot;\&quot;\n        self._raw(LINE_DISPLAY_CLEAR)\n\n    def linedisplay(self, text):\n        \&quot;\&quot;\&quot;\n        Display text on a line display connected to your printer\n\n        You should connect a line display to your printer. You can do this by daisy-chaining\n        the display between your computer and printer.\n\n        :param text: Text to display\n        \&quot;\&quot;\&quot;\n        self.linedisplay_select(select_display=True)\n        self.linedisplay_clear()\n        self.text(text)\n        self.linedisplay_select(select_display=False)\n\n    def hw(self, hw):\n        \&quot;\&quot;\&quot; Hardware operations\n\n        :param hw: hardware action, may be:\n\n            * INIT\n            * SELECT\n            * RESET\n        \&quot;\&quot;\&quot;\n        if hw.upper() == \&quot;INIT\&quot;:\n            self._raw(HW_INIT)\n        elif hw.upper() == \&quot;SELECT\&quot;:\n            self._raw(HW_SELECT)\n        elif hw.upper() == \&quot;RESET\&quot;:\n            self._raw(HW_RESET)\n        else:  # DEFAULT: DOES NOTHING\n            pass\n\n    def print_and_feed(self, n=1):\n        \&quot;\&quot;\&quot; Print data in print buffer and feed *n* lines\n\n            if n not in range (0, 255) then ValueError will be raised\n\n            :param n: number of n to feed. 0 <= n <= 255. default: 1\n            :raises ValueError: if not 0 <= n <= 255\n        \&quot;\&quot;\&quot;\n        if 0 <= n <= 255:\n            # ESC d n\n            self._raw(ESC + b\&quot;d\&quot; + six.int2byte(n))\n        else:\n            raise ValueError(\&quot;n must be betwen 0 and 255\&quot;)\n\n    def control(self, ctl, count=5, tab_size=8):\n        \&quot;\&quot;\&quot; Feed control sequences\n\n        :param ctl: string for the following control sequences:\n\n            * LF *for Line Feed*\n            * FF *for Form Feed*\n            * CR *for Carriage Return*\n            * HT *for Horizontal Tab*\n            * VT *for Vertical Tab*\n\n        :param count: integer between 1 and 32, controls the horizontal tab count. Defaults to 5.\n        :param tab_size: integer between 1 and 255, controls the horizontal tab size in characters. Defaults to 8\n        :raises: :py:exc:`~escpos.exceptions.TabPosError`\n        \&quot;\&quot;\&quot;\n        # Set position\n        if ctl.upper() == \&quot;LF\&quot;:\n            self._raw(CTL_LF)\n        elif ctl.upper() == \&quot;FF\&quot;:\n            self._raw(CTL_FF)\n        elif ctl.upper() == \&quot;CR\&quot;:\n            self._raw(CTL_CR)\n        elif ctl.upper() == \&quot;HT\&quot;:\n            if not (0 <= count <= 32 and\n                    1 <= tab_size <= 255 and\n                    count * tab_size < 256):\n                raise TabPosError()\n            else:\n                # Set tab positions\n                self._raw(CTL_SET_HT)\n                for iterator in range(1, count):\n                    self._raw(six.int2byte(iterator * tab_size))\n                self._raw(NUL)\n        elif ctl.upper() == \&quot;VT\&quot;:\n            self._raw(CTL_VT)\n\n    def panel_buttons(self, enable=True):\n        \&quot;\&quot;\&quot; Controls the panel buttons on the printer (e.g. FEED)\n\n        When enable is set to False the panel buttons on the printer will be disabled. Calling the method with\n        enable=True or without argument will enable the panel buttons.\n\n        If panel buttons are enabled, the function of the panel button, such as feeding, will be executed upon pressing\n        the button. If the panel buttons are disabled, pressing them will not have any effect.\n\n        This command is effective until the printer is initialized, reset or power-cycled. The default is enabled panel\n        buttons.\n\n        Some panel buttons will always work, especially when printer is opened. See for more information the manual\n        of your printer and the escpos-command-reference.\n\n        :param enable: controls the panel buttons\n        :rtype: None\n        \&quot;\&quot;\&quot;\n        if enable:\n            self._raw(PANEL_BUTTON_ON)\n        else:\n            self._raw(PANEL_BUTTON_OFF)\n\n    def query_status(self, mode):\n        \&quot;\&quot;\&quot;\n        Queries the printer for its status, and returns an array of integers containing it.\n\n        :param mode: Integer that sets the status mode queried to the printer.\n            - RT_STATUS_ONLINE: Printer status.\n            - RT_STATUS_PAPER: Paper sensor.\n        :rtype: array(integer)\n        \&quot;\&quot;\&quot;\n        self._raw(mode)\n        time.sleep(1)\n        status = self._read()\n        return status\n\n    def is_online(self):\n        \&quot;\&quot;\&quot;\n        Queries the online status of the printer.\n\n        :returns: When online, returns ``True``; ``False`` otherwise.\n        :rtype: bool\n        \&quot;\&quot;\&quot;\n        status = self.query_status(RT_STATUS_ONLINE)\n        if len(status) == 0:\n            return False\n        return not (status[0] &amp; RT_MASK_ONLINE)\n\n    def paper_status(self):\n        \&quot;\&quot;\&quot;\n        Queries the paper status of the printer.\n\n        Returns 2 if there is plenty of paper, 1 if the paper has arrived to\n        the near-end sensor and 0 if there is no paper.\n\n        :returns: 2: Paper is adequate. 1: Paper ending. 0: No paper.\n        :rtype: int\n        \&quot;\&quot;\&quot;\n        status = self.query_status(RT_STATUS_PAPER)\n        if len(status) == 0:\n            return 2\n        if (status[0] &amp; RT_MASK_NOPAPER == RT_MASK_NOPAPER):\n            return 0\n        if (status[0] &amp; RT_MASK_LOWPAPER == RT_MASK_LOWPAPER):\n            return 1\n        if (status[0] &amp; RT_MASK_PAPER == RT_MASK_PAPER):\n            return 2\n\n\nclass EscposIO(object):\n    \&quot;\&quot;\&quot;ESC/POS Printer IO object\n\n    Allows the class to be used together with the `with`-statement. You have to define a printer instance\n    and assign it to the EscposIO class.\n    This example explains the usage:\n\n    .. code-block:: Python\n\n        with EscposIO(printer.Serial('/dev/ttyUSB0')) as p:\n            p.set(font='a', height=2, align='center', text_type='bold')\n            p.printer.set(align='left')\n            p.printer.image('logo.gif')\n            p.writelines('Big line\\\\n', font='b')\n            p.writelines('Привет')\n            p.writelines('BIG TEXT', width=2)\n\n    After the `with`-statement the printer automatically cuts the paper if `autocut` is `True`.\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, printer, autocut=True, autoclose=True, **kwargs):\n        \&quot;\&quot;\&quot;\n        :param printer: An EscPos-printer object\n        :type printer: escpos.Escpos\n        :param autocut: If True, paper is automatically cut after the `with`-statement *default*: True\n        :param kwargs: These arguments will be passed to :py:meth:`escpos.Escpos.set()`\n        \&quot;\&quot;\&quot;\n        self.printer = printer\n        self.params = kwargs\n        self.autocut = autocut\n        self.autoclose = autoclose\n\n    def set(self, **kwargs):\n        \&quot;\&quot;\&quot; Set the printer-parameters\n\n        Controls which parameters will be passed to :py:meth:`Escpos.set() <escpos.escpos.Escpos.set()>`.\n        For more information on the parameters see the :py:meth:`set() <escpos.escpos.Escpos.set()>`-methods\n        documentation. These parameters can also be passed with this class' constructor or the\n        :py:meth:`~escpos.escpos.EscposIO.writelines()`-method.\n\n        :param kwargs: keyword-parameters that will be passed to :py:meth:`Escpos.set() <escpos.escpos.Escpos.set()>`\n        \&quot;\&quot;\&quot;\n        self.params.update(kwargs)\n\n    def writelines(self, text, **kwargs):\n        params = dict(self.params)\n        params.update(kwargs)\n\n        if isinstance(text, six.text_type):\n            lines = text.split('\\n')\n        elif isinstance(text, list) or isinstance(text, tuple):\n            lines = text\n        else:\n            lines = [\&quot;{0}\&quot;.format(text), ]\n\n        # TODO check unicode handling\n        # TODO flush? or on print? (this should prob rather be handled by the _raw-method)\n        for line in lines:\n            self.printer.set(**params)\n            if isinstance(text, six.text_type):\n                self.printer.text(u\&quot;{0}\\n\&quot;.format(line))\n            else:\n                self.printer.text(\&quot;{0}\\n\&quot;.format(line))\n\n    def close(self):\n        \&quot;\&quot;\&quot; called upon closing the `with`-statement\n        \&quot;\&quot;\&quot;\n        self.printer.close()\n\n    def __enter__(self, **kwargs):\n        return self\n\n    def __exit__(self, type, value, traceback):\n        \&quot;\&quot;\&quot;\n\n        If :py:attr:`autocut <escpos.escpos.EscposIO.autocut>` is `True` (set by this class' constructor),\n        then :py:meth:`printer.cut() <escpos.escpos.Escpos.cut()>` will be called here.\n        \&quot;\&quot;\&quot;\n        if not (type is not None and issubclass(type, Exception)):\n            if self.autocut:\n                self.printer.cut()\n\n        if self.autoclose:\n            self.close()\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:6429261240211131000,&quot;string&quot;:&quot;6,429,261,240,211,131,000&quot;}}},{&quot;rowIdx&quot;:19,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot; Magic Encode\n\nThis module tries to convert an UTF-8 string to an encoded string for the printer.\nIt uses trial and error in order to guess the right codepage.\nThe code is based on the encoding-code in py-xml-escpos by @fvdsn.\n\n:author: `Patrick Kanzler <dev@pkanzler.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 Patrick Kanzler and Frédéric van der Essen\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nfrom builtins import bytes\nfrom .constants import CODEPAGE_CHANGE\nfrom .exceptions import Error\nfrom .codepages import CodePages\nimport six\n\n\nclass Encoder(object):\n    \&quot;\&quot;\&quot;Takes a list of available code spaces. Picks the right one for a\n    given character.\n\n    Note: To determine the code page, it needs to do the conversion, and\n    thus already knows what the final byte in the target encoding would\n    be. Nevertheless, the API of this class doesn't return the byte.\n\n    The caller use to do the character conversion itself.\n\n        $ python -m timeit -s \&quot;{u'ö':'a'}.get(u'ö')\&quot;\n        100000000 loops, best of 3: 0.0133 usec per loop\n\n        $ python -m timeit -s \&quot;u'ö'.encode('latin1')\&quot;\n        100000000 loops, best of 3: 0.0141 usec per loop\n    \&quot;\&quot;\&quot;\n\n    def __init__(self, codepage_map):\n        self.codepages = codepage_map\n        self.available_encodings = set(codepage_map.keys())\n        self.available_characters = {}\n        self.used_encodings = set()\n\n    def get_sequence(self, encoding):\n        return int(self.codepages[encoding])\n\n    def get_encoding_name(self, encoding):\n        \&quot;\&quot;\&quot;Given an encoding provided by the user, will return a\n        canonical encoding name; and also validate that the encoding\n        is supported.\n\n        TODO: Support encoding aliases: pc437 instead of cp437.\n        \&quot;\&quot;\&quot;\n        encoding = CodePages.get_encoding_name(encoding)\n        if encoding not in self.codepages:\n            raise ValueError((\n                'Encoding \&quot;{}\&quot; cannot be used for the current profile. '\n                'Valid encodings are: {}'\n                ).format(encoding, ','.join(self.codepages.keys())))\n        return encoding\n\n    @staticmethod\n    def _get_codepage_char_list(encoding):\n        \&quot;\&quot;\&quot;Get codepage character list\n\n        Gets characters 128-255 for a given code page, as an array.\n\n        :param encoding: The name of the encoding. This must appear in the CodePage list\n        \&quot;\&quot;\&quot;\n        codepage = CodePages.get_encoding(encoding)\n        if 'data' in codepage:\n            encodable_chars = list(\&quot;\&quot;.join(codepage['data']))\n            assert(len(encodable_chars) == 128)\n            return encodable_chars\n        elif 'python_encode' in codepage:\n            encodable_chars = [u\&quot; \&quot;] * 128\n            for i in range(0, 128):\n                codepoint = i + 128\n                try:\n                    encodable_chars[i] = bytes([codepoint]).decode(codepage['python_encode'])\n                except UnicodeDecodeError:\n                    # Non-encodable character, just skip it\n                    pass\n            return encodable_chars\n        raise LookupError(\&quot;Can't find a known encoding for {}\&quot;.format(encoding))\n\n    def _get_codepage_char_map(self, encoding):\n        \&quot;\&quot;\&quot; Get codepage character map\n\n        Process an encoding and return a map of UTF-characters to code points\n        in this encoding.\n\n        This is generated once only, and returned from a cache.\n\n        :param encoding: The name of the encoding.\n        \&quot;\&quot;\&quot;\n        # Skip things that were loaded previously\n        if encoding in self.available_characters:\n            return self.available_characters[encoding]\n        codepage_char_list = self._get_codepage_char_list(encoding)\n        codepage_char_map = dict((utf8, i + 128) for (i, utf8) in enumerate(codepage_char_list))\n        self.available_characters[encoding] = codepage_char_map\n        return codepage_char_map\n\n    def can_encode(self, encoding, char):\n        \&quot;\&quot;\&quot;Determine if a character is encodeable in the given code page.\n\n        :param encoding: The name of the encoding.\n        :param char: The character to attempt to encode.\n        \&quot;\&quot;\&quot;\n        available_map = {}\n        try:\n            available_map = self._get_codepage_char_map(encoding)\n        except LookupError:\n            return False\n\n        # Decide whether this character is encodeable in this code page\n        is_ascii = ord(char) < 128\n        is_encodable = char in available_map\n        return is_ascii or is_encodable\n\n    @staticmethod\n    def _encode_char(char, charmap, defaultchar):\n        \&quot;\&quot;\&quot; Encode a single character with the given encoding map\n\n        :param char: char to encode\n        :param charmap: dictionary for mapping characters in this code page\n        \&quot;\&quot;\&quot;\n        if ord(char) < 128:\n            return ord(char)\n        if char in charmap:\n            return charmap[char]\n        return ord(defaultchar)\n\n    def encode(self, text, encoding, defaultchar='?'):\n        \&quot;\&quot;\&quot; Encode text under the given encoding\n\n        :param text: Text to encode\n        :param encoding: Encoding name to use (must be defined in capabilities)\n        :param defaultchar: Fallback for non-encodable characters\n        \&quot;\&quot;\&quot;\n        codepage_char_map = self._get_codepage_char_map(encoding)\n        output_bytes = bytes([self._encode_char(char, codepage_char_map, defaultchar) for char in text])\n        return output_bytes\n\n    def __encoding_sort_func(self, item):\n        key, index = item\n        return (\n            key in self.used_encodings,\n            index\n        )\n\n    def find_suitable_encoding(self, char):\n        \&quot;\&quot;\&quot;The order of our search is a specific one:\n\n        1. code pages that we already tried before; there is a good\n           chance they might work again, reducing the search space,\n           and by re-using already used encodings we might also\n           reduce the number of codepage change instructiosn we have\n           to send. Still, any performance gains will presumably be\n           fairly minor.\n\n        2. code pages in lower ESCPOS slots first. Presumably, they\n           are more likely to be supported, so if a printer profile\n           is missing or incomplete, we might increase our change\n           that the code page we pick for this character is actually\n           supported.\n        \&quot;\&quot;\&quot;\n        sorted_encodings = sorted(\n            self.codepages.items(),\n            key=self.__encoding_sort_func)\n\n        for encoding, _ in sorted_encodings:\n            if self.can_encode(encoding, char):\n                # This encoding worked; at it to the set of used ones.\n                self.used_encodings.add(encoding)\n                return encoding\n\n\ndef split_writable_text(encoder, text, encoding):\n    \&quot;\&quot;\&quot;Splits off as many characters from the begnning of text as\n    are writable with \&quot;encoding\&quot;. Returns a 2-tuple (writable, rest).\n    \&quot;\&quot;\&quot;\n    if not encoding:\n        return None, text\n\n    for idx, char in enumerate(text):\n        if encoder.can_encode(encoding, char):\n            continue\n        return text[:idx], text[idx:]\n\n    return text, None\n\n\nclass MagicEncode(object):\n    \&quot;\&quot;\&quot;A helper that helps us to automatically switch to the right\n    code page to encode any given Unicode character.\n\n    This will consider the printers supported codepages, according\n    to the printer profile, and if a character cannot be encoded\n    with the current profile, it will attempt to find a suitable one.\n\n    If the printer does not support a suitable code page, it can\n    insert an error character.\n    \&quot;\&quot;\&quot;\n    def __init__(self, driver, encoding=None, disabled=False,\n                 defaultsymbol='?', encoder=None):\n        \&quot;\&quot;\&quot;\n\n        :param driver:\n        :param encoding: If you know the current encoding of the printer\n        when initializing this class, set it here. If the current\n        encoding is unknown, the first character emitted will be a\n        codepage switch.\n        :param disabled:\n        :param defaultsymbol:\n        :param encoder:\n        \&quot;\&quot;\&quot;\n        if disabled and not encoding:\n            raise Error('If you disable magic encode, you need to define an encoding!')\n\n        self.driver = driver\n        self.encoder = encoder or Encoder(driver.profile.get_code_pages())\n\n        self.encoding = self.encoder.get_encoding_name(encoding) if encoding else None\n        self.defaultsymbol = defaultsymbol\n        self.disabled = disabled\n\n    def force_encoding(self, encoding):\n        \&quot;\&quot;\&quot;Sets a fixed encoding. The change is emitted right away.\n\n        From now one, this buffer will switch the code page anymore.\n        However, it will still keep track of the current code page.\n        \&quot;\&quot;\&quot;\n        if not encoding:\n            self.disabled = False\n        else:\n            self.write_with_encoding(encoding, None)\n            self.disabled = True\n\n    def write(self, text):\n        \&quot;\&quot;\&quot;Write the text, automatically switching encodings.\n        \&quot;\&quot;\&quot;\n\n        if self.disabled:\n            self.write_with_encoding(self.encoding, text)\n            return\n\n        # See how far we can go into the text with the current encoding\n        to_write, text = split_writable_text(self.encoder, text, self.encoding)\n        if to_write:\n            self.write_with_encoding(self.encoding, to_write)\n\n        while text:\n            # See if any of the code pages that the printer profile\n            # supports can encode this character.\n            encoding = self.encoder.find_suitable_encoding(text[0])\n            if not encoding:\n                self._handle_character_failed(text[0])\n                text = text[1:]\n                continue\n\n            # Write as much text as possible with the encoding found.\n            to_write, text = split_writable_text(self.encoder, text, encoding)\n            if to_write:\n                self.write_with_encoding(encoding, to_write)\n\n    def _handle_character_failed(self, char):\n        \&quot;\&quot;\&quot;Called when no codepage was found to render a character.\n        \&quot;\&quot;\&quot;\n        # Writing the default symbol via write() allows us to avoid\n        # unnecesary codepage switches.\n        self.write(self.defaultsymbol)\n\n    def write_with_encoding(self, encoding, text):\n        if text is not None and type(text) is not six.text_type:\n            raise Error(\&quot;The supplied text has to be unicode, but is of type {type}.\&quot;.format(\n                type=type(text)\n            ))\n\n        # We always know the current code page; if the new codepage\n        # is different, emit a change command.\n        if encoding != self.encoding:\n            self.encoding = encoding\n            self.driver._raw(\n                CODEPAGE_CHANGE +\n                six.int2byte(self.encoder.get_sequence(encoding)))\n\n        if text:\n            self.driver._raw(self.encoder.encode(text, encoding))\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-9031240873397623000,&quot;string&quot;:&quot;-9,031,240,873,397,623,000&quot;}}},{&quot;rowIdx&quot;:20,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;# -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot;\npython-escpos enables you to manipulate escpos-printers\n\&quot;\&quot;\&quot;\n\n__all__ = [\&quot;constants\&quot;, \&quot;escpos\&quot;, \&quot;exceptions\&quot;, \&quot;printer\&quot;]\n\ntry:\n    from .version import version as __version__  # noqa\nexcept ImportError:  # pragma: no cover\n    raise ImportError(\n        'Failed to find (autogenerated) version.py. '\n        'This might be because you are installing from GitHub\\'s tarballs, '\n        'use the PyPI ones.'\n    )\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:7219379503758235000,&quot;string&quot;:&quot;7,219,379,503,758,235,000&quot;}}},{&quot;rowIdx&quot;:21,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/env python\n# PYTHON_ARGCOMPLETE_OK\n\&quot;\&quot;\&quot; CLI\n\nThis module acts as a command line interface for python-escpos. It mirrors\nclosely the available ESCPOS commands while adding a couple extra ones for convenience.\n\nIt requires you to have a configuration file. See documentation for details.\n\n\&quot;\&quot;\&quot;\n\n\nimport argparse\ntry:\n    import argcomplete\nexcept ImportError:\n    # this CLI works nevertheless without argcomplete\n    pass  # noqa\nimport sys\nimport six\nfrom . import config\nfrom . import version\n\n\n# Must be defined before it's used in DEMO_FUNCTIONS\ndef str_to_bool(string):\n    \&quot;\&quot;\&quot; Used as a type in argparse so that we get back a proper\n    bool instead of always True\n    \&quot;\&quot;\&quot;\n    return string.lower() in ('y', 'yes', '1', 'true')\n\n\n# A list of functions that work better with a newline to be sent after them.\nREQUIRES_NEWLINE = ('qr', 'barcode', 'text', 'block_text')\n\n\n# Used in demo method\n# Key: The name of escpos function and the argument passed on the CLI. Some\n#   manual translation is done in the case of barcodes_a -> barcode.\n# Value: A list of dictionaries to pass to the escpos function as arguments.\nDEMO_FUNCTIONS = {\n    'text': [\n        {'txt': 'Hello, World!\\n', }\n    ],\n    'qr': [\n        {'content': 'This tests a QR code'},\n        {'content': 'https://en.wikipedia.org/'}\n    ],\n    'barcodes_a': [\n        {'bc': 'UPC-A', 'code': '13243546576'},\n        {'bc': 'UPC-E', 'code': '132435'},\n        {'bc': 'EAN13', 'code': '1324354657687'},\n        {'bc': 'EAN8', 'code': '1324354'},\n        {'bc': 'CODE39', 'code': 'TEST'},\n        {'bc': 'ITF', 'code': '55867492279103'},\n        {'bc': 'NW7', 'code': 'A00000000A'},\n    ],\n    'barcodes_b': [\n        {'bc': 'UPC-A', 'code': '13243546576', 'function_type': 'B'},\n        {'bc': 'UPC-E', 'code': '132435', 'function_type': 'B'},\n        {'bc': 'EAN13', 'code': '1324354657687', 'function_type': 'B'},\n        {'bc': 'EAN8', 'code': '1324354', 'function_type': 'B'},\n        {'bc': 'CODE39', 'code': 'TEST', 'function_type': 'B'},\n        {'bc': 'ITF', 'code': '55867492279103', 'function_type': 'B'},\n        {'bc': 'NW7', 'code': 'A00000000A', 'function_type': 'B'},\n        {'bc': 'CODE93', 'code': 'A00000000A', 'function_type': 'B'},\n        {'bc': 'CODE93', 'code': '1324354657687', 'function_type': 'B'},\n        {'bc': 'CODE128A', 'code': 'TEST', 'function_type': 'B'},\n        {'bc': 'CODE128B', 'code': 'TEST', 'function_type': 'B'},\n        {'bc': 'CODE128C', 'code': 'TEST', 'function_type': 'B'},\n        {'bc': 'GS1-128', 'code': '00123456780000000001', 'function_type': 'B'},\n        {'bc': 'GS1 DataBar Omnidirectional', 'code': '0000000000000', 'function_type': 'B'},\n        {'bc': 'GS1 DataBar Truncated', 'code': '0000000000000', 'function_type': 'B'},\n        {'bc': 'GS1 DataBar Limited', 'code': '0000000000000', 'function_type': 'B'},\n        {'bc': 'GS1 DataBar Expanded', 'code': '00AAAAAAA', 'function_type': 'B'},\n    ],\n}\n\n# Used to build the CLI\n# A list of dictionaries. Each dict is a CLI argument.\n# Keys:\n# parser: A dict of args for command_parsers.add_parser\n# defaults: A dict of args for subparser.set_defaults\n# arguments: A list of dicts of args for subparser.add_argument\nESCPOS_COMMANDS = [\n    {\n        'parser': {\n            'name': 'qr',\n            'help': 'Print a QR code',\n        },\n        'defaults': {\n            'func': 'qr',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--content',),\n                'help': 'Text to print as a qr code',\n                'required': True,\n            },\n            {\n                'option_strings': ('--size',),\n                'help': 'QR code size (1-16) [default:3]',\n                'required': False,\n                'type': int,\n            }\n        ],\n    },\n    {\n        'parser': {\n            'name': 'barcode',\n            'help': 'Print a barcode',\n        },\n        'defaults': {\n            'func': 'barcode',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--code',),\n                'help': 'Barcode data to print',\n                'required': True,\n            },\n            {\n                'option_strings': ('--bc',),\n                'help': 'Barcode format',\n                'required': True,\n            },\n            {\n                'option_strings': ('--height',),\n                'help': 'Barcode height in px',\n                'type': int,\n            },\n            {\n                'option_strings': ('--width',),\n                'help': 'Barcode width',\n                'type': int,\n            },\n            {\n                'option_strings': ('--pos',),\n                'help': 'Label position',\n                'choices': ['BELOW', 'ABOVE', 'BOTH', 'OFF'],\n            },\n            {\n                'option_strings': ('--font',),\n                'help': 'Label font',\n                'choices': ['A', 'B'],\n            },\n            {\n                'option_strings': ('--align_ct',),\n                'help': 'Align barcode center',\n                'type': str_to_bool,\n            },\n            {\n                'option_strings': ('--function_type',),\n                'help': 'ESCPOS function type',\n                'choices': ['A', 'B'],\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'text',\n            'help': 'Print plain text',\n        },\n        'defaults': {\n            'func': 'text',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--txt',),\n                'help': 'Plain text to print',\n                'required': True,\n            }\n        ],\n    },\n    {\n        'parser': {\n            'name': 'block_text',\n            'help': 'Print wrapped text',\n        },\n        'defaults': {\n            'func': 'block_text',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--txt',),\n                'help': 'block_text to print',\n                'required': True,\n            },\n            {\n                'option_strings': ('--columns',),\n                'help': 'Number of columns',\n                'type': int,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'cut',\n            'help': 'Cut the paper',\n        },\n        'defaults': {\n            'func': 'cut',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--mode',),\n                'help': 'Type of cut',\n                'choices': ['FULL', 'PART'],\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'cashdraw',\n            'help': 'Kick the cash drawer',\n        },\n        'defaults': {\n            'func': 'cashdraw',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--pin',),\n                'help': 'Which PIN to kick',\n                'choices': [2, 5],\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'image',\n            'help': 'Print an image',\n        },\n        'defaults': {\n            'func': 'image',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--img_source',),\n                'help': 'Path to image',\n                'required': True,\n            },\n            {\n                'option_strings': ('--impl',),\n                'help': 'Implementation to use',\n                'choices': ['bitImageRaster', 'bitImageColumn', 'graphics'],\n            },\n            {\n                'option_strings': ('--high_density_horizontal',),\n                'help': 'Image density (horizontal)',\n                'type': str_to_bool,\n            },\n            {\n                'option_strings': ('--high_density_vertical',),\n                'help': 'Image density (vertical)',\n                'type': str_to_bool,\n            },\n\n        ],\n    },\n    {\n        'parser': {\n            'name': 'fullimage',\n            'help': 'Print a fullimage',\n        },\n        'defaults': {\n            'func': 'fullimage',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--img',),\n                'help': 'Path to img',\n                'required': True,\n            },\n            {\n                'option_strings': ('--max_height',),\n                'help': 'Max height of image in px',\n                'type': int,\n            },\n            {\n                'option_strings': ('--width',),\n                'help': 'Max width of image in px',\n                'type': int,\n            },\n            {\n                'option_strings': ('--histeq',),\n                'help': 'Equalize the histrogram',\n                'type': str_to_bool,\n            },\n            {\n                'option_strings': ('--bandsize',),\n                'help': 'Size of bands to divide into when printing',\n                'type': int,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'charcode',\n            'help': 'Set character code table',\n        },\n        'defaults': {\n            'func': 'charcode',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--code',),\n                'help': 'Character code',\n                'required': True,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'set',\n            'help': 'Set text properties',\n        },\n        'defaults': {\n            'func': 'set',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--align',),\n                'help': 'Horizontal alignment',\n                'choices': ['left', 'center', 'right'],\n            },\n            {\n                'option_strings': ('--font',),\n                'help': 'Font choice',\n                'choices': ['left', 'center', 'right'],\n            },\n            {\n                'option_strings': ('--text_type',),\n                'help': 'Text properties',\n                'choices': ['B', 'U', 'U2', 'BU', 'BU2', 'NORMAL'],\n            },\n            {\n                'option_strings': ('--width',),\n                'help': 'Width multiplier',\n                'type': int,\n            },\n            {\n                'option_strings': ('--height',),\n                'help': 'Height multiplier',\n                'type': int,\n            },\n            {\n                'option_strings': ('--density',),\n                'help': 'Print density',\n                'type': int,\n            },\n            {\n                'option_strings': ('--invert',),\n                'help': 'White on black printing',\n                'type': str_to_bool,\n            },\n            {\n                'option_strings': ('--smooth',),\n                'help': 'Text smoothing. Effective on >:  4x4 text',\n                'type': str_to_bool,\n            },\n            {\n                'option_strings': ('--flip',),\n                'help': 'Text smoothing. Effective on >:  4x4 text',\n                'type': str_to_bool,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'hw',\n            'help': 'Hardware operations',\n        },\n        'defaults': {\n            'func': 'hw',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--hw',),\n                'help': 'Operation',\n                'choices': ['INIT', 'SELECT', 'RESET'],\n                'required': True,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'control',\n            'help': 'Control sequences',\n        },\n        'defaults': {\n            'func': 'control',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--ctl',),\n                'help': 'Control sequence',\n                'choices': ['LF', 'FF', 'CR', 'HT', 'VT'],\n                'required': True,\n            },\n            {\n                'option_strings': ('--pos',),\n                'help': 'Horizontal tab position (1-4)',\n                'type': int,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'panel_buttons',\n            'help': 'Controls panel buttons',\n        },\n        'defaults': {\n            'func': 'panel_buttons',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--enable',),\n                'help': 'Feed button enabled',\n                'type': str_to_bool,\n                'required': True,\n            },\n        ],\n    },\n    {\n        'parser': {\n            'name': 'raw',\n            'help': 'Raw data',\n        },\n        'defaults': {\n            'func': '_raw',\n        },\n        'arguments': [\n            {\n                'option_strings': ('--msg',),\n                'help': 'Raw data to send',\n                'required': True,\n            },\n        ],\n    },\n]\n\n\ndef main():\n    \&quot;\&quot;\&quot;\n\n    Handles loading of configuration and creating and processing of command\n    line arguments. Called when run from a CLI.\n\n    \&quot;\&quot;\&quot;\n\n    parser = argparse.ArgumentParser(\n        description='CLI for python-escpos',\n        epilog='Printer configuration is defined in the python-escpos config'\n        'file. See documentation for details.',\n    )\n\n    parser.register('type', 'bool', str_to_bool)\n\n    # Allow config file location to be passed\n    parser.add_argument(\n        '-c', '--config',\n        help='Alternate path to the configuration file',\n    )\n\n    # Everything interesting runs off of a subparser so we can use the format\n    # cli [subparser] -args\n    command_subparsers = parser.add_subparsers(\n        title='ESCPOS Command',\n        dest='parser',\n    )\n    # fix inconsistencies in the behaviour of some versions of argparse\n    command_subparsers.required = False   # force 'required' testing\n\n    # Build the ESCPOS command arguments\n    for command in ESCPOS_COMMANDS:\n        parser_command = command_subparsers.add_parser(**command['parser'])\n        parser_command.set_defaults(**command['defaults'])\n        for argument in command['arguments']:\n            option_strings = argument.pop('option_strings')\n            parser_command.add_argument(*option_strings, **argument)\n\n    # Build any custom arguments\n    parser_command_demo = command_subparsers.add_parser('demo',\n                                                        help='Demonstrates various functions')\n    parser_command_demo.set_defaults(func='demo')\n    demo_group = parser_command_demo.add_mutually_exclusive_group()\n    demo_group.add_argument(\n        '--barcodes-a',\n        help='Print demo barcodes for function type A',\n        action='store_true',\n    )\n    demo_group.add_argument(\n        '--barcodes-b',\n        help='Print demo barcodes for function type B',\n        action='store_true',\n    )\n    demo_group.add_argument(\n        '--qr',\n        help='Print some demo QR codes',\n        action='store_true',\n    )\n    demo_group.add_argument(\n        '--text',\n        help='Print some demo text',\n        action='store_true',\n    )\n\n    parser_command_version = command_subparsers.add_parser('version',\n                                                           help='Print the version of python-escpos')\n    parser_command_version.set_defaults(version=True)\n\n    # hook in argcomplete\n    if 'argcomplete' in globals():\n        argcomplete.autocomplete(parser)\n\n    # Get only arguments actually passed\n    args_dict = vars(parser.parse_args())\n    if not args_dict:\n        parser.print_help()\n        sys.exit()\n    command_arguments = dict([k, v] for k, v in six.iteritems(args_dict) if v is not None)\n\n    # If version should be printed, do this, then exit\n    print_version = command_arguments.pop('version', None)\n    if print_version:\n        print(version.version)\n        sys.exit()\n\n    # If there was a config path passed, grab it\n    config_path = command_arguments.pop('config', None)\n\n    # Load the configuration and defined printer\n    saved_config = config.Config()\n    saved_config.load(config_path)\n    printer = saved_config.printer()\n\n    if not printer:\n        raise Exception('No printers loaded from config')\n\n    target_command = command_arguments.pop('func')\n\n    # remove helper-argument 'parser' from dict\n    command_arguments.pop('parser', None)\n\n    if hasattr(printer, target_command):\n        # print command with args\n        getattr(printer, target_command)(**command_arguments)\n        if target_command in REQUIRES_NEWLINE:\n            printer.text(\&quot;\\n\&quot;)\n    else:\n        command_arguments['printer'] = printer\n        globals()[target_command](**command_arguments)\n\n\ndef demo(printer, **kwargs):\n    \&quot;\&quot;\&quot;\n    Prints demos. Called when CLI is passed `demo`. This function\n    uses the DEMO_FUNCTIONS dictionary.\n\n    :param printer: A printer from escpos.printer\n    :param kwargs: A dict with a key for each function you want to test. It's\n        in this format since it usually comes from argparse.\n    \&quot;\&quot;\&quot;\n    for demo_choice in kwargs.keys():\n        command = getattr(\n            printer,\n            demo_choice\n            .replace('barcodes_a', 'barcode')\n            .replace('barcodes_b', 'barcode')\n        )\n        for params in DEMO_FUNCTIONS[demo_choice]:\n            command(**params)\n        printer.cut()\n\n\nif __name__ == '__main__':\n    main()\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-3533310156973077500,&quot;string&quot;:&quot;-3,533,310,156,973,077,500&quot;}}},{&quot;rowIdx&quot;:22,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot; ESC/POS Exceptions classes\n\nResult/Exit codes:\n\n    - `0`  = success\n    - `10` = No Barcode type defined :py:exc:`~escpos.exceptions.BarcodeTypeError`\n    - `20` = Barcode size values are out of range :py:exc:`~escpos.exceptions.BarcodeSizeError`\n    - `30` = Barcode text not supplied :py:exc:`~escpos.exceptions.BarcodeCodeError`\n    - `40` = Image height is too large :py:exc:`~escpos.exceptions.ImageSizeError`\n    - `41` = Image width is too large :py:exc:`~escpos.exceptions.ImageWidthError`\n    - `50` = No string supplied to be printed :py:exc:`~escpos.exceptions.TextError`\n    - `60` = Invalid pin to send Cash Drawer pulse :py:exc:`~escpos.exceptions.CashDrawerError`\n    - `70` = Invalid number of tab positions :py:exc:`~escpos.exceptions.TabPosError`\n    - `80` = Invalid char code :py:exc:`~escpos.exceptions.CharCodeError`\n    - `90` = USB device not found :py:exc:`~escpos.exceptions.USBNotFoundError`\n    - `100` = Set variable out of range :py:exc:`~escpos.exceptions.SetVariableError`\n    - `200` = Configuration not found :py:exc:`~escpos.exceptions.ConfigNotFoundError`\n    - `210` = Configuration syntax error :py:exc:`~escpos.exceptions.ConfigSyntaxError`\n    - `220` = Configuration section not found :py:exc:`~escpos.exceptions.ConfigSectionMissingError`\n\n:author: `Manuel F Martinez <manpaz@bashlinux.com>`_ and others\n:organization: Bashlinux and `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nclass Error(Exception):\n    \&quot;\&quot;\&quot; Base class for ESC/POS errors \&quot;\&quot;\&quot;\n    def __init__(self, msg, status=None):\n        Exception.__init__(self)\n        self.msg = msg\n        self.resultcode = 1\n        if status is not None:\n            self.resultcode = status\n\n    def __str__(self):\n        return self.msg\n\n\nclass BarcodeTypeError(Error):\n    \&quot;\&quot;\&quot; No Barcode type defined.\n\n    This exception indicates that no known barcode-type has been entered. The barcode-type has to be\n    one of those specified in :py:meth:`escpos.escpos.Escpos.barcode`.\n    The returned error code is `10`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 10\n\n    def __str__(self):\n        return \&quot;No Barcode type is defined ({msg})\&quot;.format(msg=self.msg)\n\n\nclass BarcodeSizeError(Error):\n    \&quot;\&quot;\&quot; Barcode size is out of range.\n\n    This exception indicates that the values for the barcode size are out of range.\n    The size of the barcode has to be in the range that is specified in :py:meth:`escpos.escpos.Escpos.barcode`.\n    The resulting returncode is `20`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 20\n\n    def __str__(self):\n        return \&quot;Barcode size is out of range ({msg})\&quot;.format(msg=self.msg)\n\n\nclass BarcodeCodeError(Error):\n    \&quot;\&quot;\&quot; No Barcode code was supplied, or it is incorrect.\n\n    No data for the barcode has been supplied in :py:meth:`escpos.escpos.Escpos.barcode` or the the `check` parameter\n    was True and the check failed.\n    The returncode for this exception is `30`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 30\n\n    def __str__(self):\n        return \&quot;No Barcode code was supplied ({msg})\&quot;.format(msg=self.msg)\n\n\nclass ImageSizeError(Error):\n    \&quot;\&quot;\&quot; Image height is longer than 255px and can't be printed.\n\n    The returncode for this exception is `40`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 40\n\n    def __str__(self):\n        return \&quot;Image height is longer than 255px and can't be printed ({msg})\&quot;.format(msg=self.msg)\n\n\nclass ImageWidthError(Error):\n    \&quot;\&quot;\&quot; Image width is too large.\n\n    The return code for this exception is `41`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 41\n\n    def __str__(self):\n        return \&quot;Image width is too large ({msg})\&quot;.format(msg=self.msg)\n\n\nclass TextError(Error):\n    \&quot;\&quot;\&quot; Text string must be supplied to the `text()` method.\n\n    This exception is raised when an empty string is passed to :py:meth:`escpos.escpos.Escpos.text`.\n    The returncode for this exception is `50`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 50\n\n    def __str__(self):\n        return \&quot;Text string must be supplied to the text() method ({msg})\&quot;.format(msg=self.msg)\n\n\nclass CashDrawerError(Error):\n    \&quot;\&quot;\&quot; Valid pin must be set in order to send pulse.\n\n    A valid pin number has to be passed onto the method :py:meth:`escpos.escpos.Escpos.cashdraw`.\n    The returncode for this exception is `60`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 60\n\n    def __str__(self):\n        return \&quot;Valid pin must be set to send pulse ({msg})\&quot;.format(msg=self.msg)\n\n\nclass TabPosError(Error):\n    \&quot;\&quot;\&quot; Valid tab positions must be set by using from 1 to 32 tabs, and between 1 and 255 tab size values.\n    Both values multiplied must not exceed 255, since it is the maximum tab value.\n\n    This exception is raised by :py:meth:`escpos.escpos.Escpos.control`.\n    The returncode for this exception is `70`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 70\n\n    def __str__(self):\n        return \&quot;Valid tab positions must be in the range 0 to 16 ({msg})\&quot;.format(msg=self.msg)\n\n\nclass CharCodeError(Error):\n    \&quot;\&quot;\&quot; Valid char code must be set.\n\n    The supplied charcode-name in :py:meth:`escpos.escpos.Escpos.charcode` is unknown.\n    Ths returncode for this exception is `80`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 80\n\n    def __str__(self):\n        return \&quot;Valid char code must be set ({msg})\&quot;.format(msg=self.msg)\n\n\nclass USBNotFoundError(Error):\n    \&quot;\&quot;\&quot; Device wasn't found (probably not plugged in)\n\n    The USB device seems to be not plugged in.\n    Ths returncode for this exception is `90`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 90\n\n    def __str__(self):\n        return \&quot;USB device not found ({msg})\&quot;.format(msg=self.msg)\n\n\nclass SetVariableError(Error):\n    \&quot;\&quot;\&quot; A set method variable was out of range\n\n    Check set variables against minimum and maximum values\n    Ths returncode for this exception is `100`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 100\n\n    def __str__(self):\n        return \&quot;Set variable out of range ({msg})\&quot;.format(msg=self.msg)\n\n\n# Configuration errors\n\nclass ConfigNotFoundError(Error):\n    \&quot;\&quot;\&quot; The configuration file was not found\n\n    The default or passed configuration file could not be read\n    Ths returncode for this exception is `200`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 200\n\n    def __str__(self):\n        return \&quot;Configuration not found ({msg})\&quot;.format(msg=self.msg)\n\n\nclass ConfigSyntaxError(Error):\n    \&quot;\&quot;\&quot; The configuration file is invalid\n\n    The syntax is incorrect\n    Ths returncode for this exception is `210`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 210\n\n    def __str__(self):\n        return \&quot;Configuration syntax is invalid ({msg})\&quot;.format(msg=self.msg)\n\n\nclass ConfigSectionMissingError(Error):\n    \&quot;\&quot;\&quot; The configuration file is missing a section\n\n    The part of the config asked for doesn't exist in the loaded configuration\n    Ths returncode for this exception is `220`.\n    \&quot;\&quot;\&quot;\n    def __init__(self, msg=\&quot;\&quot;):\n        Error.__init__(self, msg)\n        self.msg = msg\n        self.resultcode = 220\n\n    def __str__(self):\n        return \&quot;Configuration section is missing ({msg})\&quot;.format(msg=self.msg)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-3009662063839996400,&quot;string&quot;:&quot;-3,009,662,063,839,996,400&quot;}}},{&quot;rowIdx&quot;:23,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot; Set of ESC/POS Commands (Constants)\n\nThis module contains constants that are described in the esc/pos-documentation.\nSince there is no definitive and unified specification for all esc/pos-like printers the constants could later be\nmoved to `capabilities` as in `escpos-php by @mike42 <https://github.com/mike42/escpos-php>`_.\n\n:author: `Manuel F Martinez <manpaz@bashlinux.com>`_ and others\n:organization: Bashlinux and `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport six\n\n# Control characters\n# as labelled in https://www.novopos.ch/client/EPSON/TM-T20/TM-T20_eng_qr.pdf\nNUL = b'\\x00'\nEOT = b'\\x04'\nENQ = b'\\x05'\nDLE = b'\\x10'\nDC4 = b'\\x14'\nCAN = b'\\x18'\nESC = b'\\x1b'\nFS  = b'\\x1c'\nGS  = b'\\x1d'\n\n# Feed control sequences\nCTL_LF = b'\\n'              # Print and line feed\nCTL_FF = b'\\f'              # Form feed\nCTL_CR = b'\\r'              # Carriage return\nCTL_HT = b'\\t'              # Horizontal tab\nCTL_SET_HT = ESC + b'\\x44'  # Set horizontal tab positions\nCTL_VT = b'\\v'              # Vertical tab\n\n# Printer hardware\nHW_INIT   = ESC + b'@'             # Clear data in buffer and reset modes\nHW_SELECT = ESC + b'=\\x01'         # Printer select\n\nHW_RESET  = ESC + b'\\x3f\\x0a\\x00'   # Reset printer hardware\n                                    # (TODO: Where is this specified?)\n\n# Cash Drawer (ESC p <pin> <on time: 2*ms> <off time: 2*ms>)\n_CASH_DRAWER = lambda m, t1='', t2='': ESC + b'p' + m + six.int2byte(t1) + six.int2byte(t2)\nCD_KICK_DEC_SEQUENCE = lambda esc, p, m, t1=50, t2=50: six.int2byte(esc) + six.int2byte(p) + six.int2byte(m) + six.int2byte(t1) + six.int2byte(t2)\nCD_KICK_2 = _CASH_DRAWER(b'\\x00', 50, 50)  # Sends a pulse to pin 2 []\nCD_KICK_5 = _CASH_DRAWER(b'\\x01', 50, 50)  # Sends a pulse to pin 5 []\n\n# Paper Cutter\n_CUT_PAPER = lambda m: GS + b'V' + m\nPAPER_FULL_CUT = _CUT_PAPER(b'\\x00')  # Full cut paper\nPAPER_PART_CUT = _CUT_PAPER(b'\\x01')  # Partial cut paper\n\n# Beep\nBEEP = b'\\x07'\n\n# Panel buttons (e.g. the FEED button)\n_PANEL_BUTTON = lambda n: ESC + b'c5' + six.int2byte(n)\nPANEL_BUTTON_ON = _PANEL_BUTTON(0)  # enable all panel buttons\nPANEL_BUTTON_OFF = _PANEL_BUTTON(1)  # disable all panel buttons\n\n# Line display printing\nLINE_DISPLAY_OPEN = ESC + b'\\x3d\\x02'\nLINE_DISPLAY_CLEAR = ESC + b'\\x40'\nLINE_DISPLAY_CLOSE = ESC + b'\\x3d\\x01'\n\n# Sheet modes\nSHEET_SLIP_MODE = ESC + b'\\x63\\x30\\x04'  # slip paper\nSHEET_ROLL_MODE = ESC + b'\\x63\\x30\\x01'  # paper roll\n\n# Text format\n# TODO: Acquire the \&quot;ESC/POS Application Programming Guide for Paper Roll\n#       Printers\&quot; and tidy up this stuff too.\nTXT_SIZE       = GS + b'!'\n\nTXT_NORMAL     = ESC + b'!\\x00'     # Normal text\n\n\nTXT_STYLE = {\n    'bold': {\n        False: ESC + b'\\x45\\x00',               # Bold font OFF\n        True: ESC + b'\\x45\\x01'                 # Bold font ON\n    },\n    'underline': {\n        0: ESC + b'\\x2d\\x00',                   # Underline font OFF\n        1: ESC + b'\\x2d\\x01',                   # Underline font 1-dot ON\n        2: ESC + b'\\x2d\\x02'                    # Underline font 2-dot ON\n    },\n    'size': {\n        'normal': TXT_NORMAL + ESC + b'!\\x00',  # Normal text\n        '2h': TXT_NORMAL + ESC + b'!\\x10',      # Double height text\n        '2w': TXT_NORMAL + ESC + b'!\\x20',      # Double width text\n        '2x': TXT_NORMAL + ESC + b'!\\x30'       # Quad area text\n    },\n    'font': {\n        'a': ESC + b'\\x4d\\x00',                 # Font type A\n        'b': ESC + b'\\x4d\\x00'                  # Font type B\n    },\n    'align': {\n        'left': ESC + b'\\x61\\x00',              # Left justification\n        'center': ESC + b'\\x61\\x01',            # Centering\n        'right': ESC + b'\\x61\\x02'              # Right justification\n    },\n    'invert': {\n        True: GS  + b'\\x42\\x01',                # Inverse Printing ON\n        False: GS  + b'\\x42\\x00'                # Inverse Printing OFF\n    },\n    'color': {\n        'black': ESC + b'\\x72\\x00',             # Default Color\n        'red': ESC + b'\\x72\\x01'                # Alternative Color, Usually Red\n    },\n    'flip': {\n        True: ESC + b'\\x7b\\x01',                # Flip ON\n        False: ESC + b'\\x7b\\x00'                # Flip OFF\n    },\n    'density': {\n        0: GS + b'\\x7c\\x00',                    # Printing Density -50%\n        1: GS + b'\\x7c\\x01',                    # Printing Density -37.5%\n        2: GS + b'\\x7c\\x02',                    # Printing Density -25%\n        3: GS + b'\\x7c\\x03',                    # Printing Density -12.5%\n        4: GS + b'\\x7c\\x04',                    # Printing Density  0%\n        5: GS + b'\\x7c\\x08',                    # Printing Density +50%\n        6: GS + b'\\x7c\\x07',                    # Printing Density +37.5%\n        7: GS + b'\\x7c\\x06',                    # Printing Density +25%\n        8: GS + b'\\x7c\\x05'                     # Printing Density +12.5%\n    },\n    'smooth': {\n        True: GS + b'\\x62\\x01',                 # Smooth ON\n        False: GS + b'\\x62\\x00'                 # Smooth OFF\n    },\n    'height': {                                 # Custom text height\n        1: 0x00,\n        2: 0x01,\n        3: 0x02,\n        4: 0x03,\n        5: 0x04,\n        6: 0x05,\n        7: 0x06,\n        8: 0x07\n    },\n    'width': {                                  # Custom text width\n        1: 0x00,\n        2: 0x10,\n        3: 0x20,\n        4: 0x30,\n        5: 0x40,\n        6: 0x50,\n        7: 0x60,\n        8: 0x70\n    }\n}\n\n# Fonts\nSET_FONT = lambda n: ESC + b'\\x4d' + n\nTXT_FONT_A     = SET_FONT(b'\\x00')  # Font type A\nTXT_FONT_B     = SET_FONT(b'\\x01')  # Font type B\n\n# Spacing\nLINESPACING_RESET = ESC + b'2'\nLINESPACING_FUNCS = {\n  60: ESC + b'A',  # line_spacing/60 of an inch, 0 <= line_spacing <= 85\n  360: ESC + b'+', # line_spacing/360 of an inch, 0 <= line_spacing <= 255\n  180: ESC + b'3', # line_spacing/180 of an inch, 0 <= line_spacing <= 255\n}\n\n# Prefix to change the codepage. You need to attach a byte to indicate\n# the codepage to use. We use escpos-printer-db as the data source.\nCODEPAGE_CHANGE = ESC + b'\\x74'\n\n# Barcode format\n_SET_BARCODE_TXT_POS = lambda n: GS + b'H' + n\nBARCODE_TXT_OFF = _SET_BARCODE_TXT_POS(b'\\x00')  # HRI barcode chars OFF\nBARCODE_TXT_ABV = _SET_BARCODE_TXT_POS(b'\\x01')  # HRI barcode chars above\nBARCODE_TXT_BLW = _SET_BARCODE_TXT_POS(b'\\x02')  # HRI barcode chars below\nBARCODE_TXT_BTH = _SET_BARCODE_TXT_POS(b'\\x03')  # HRI both above and below\n\n_SET_HRI_FONT = lambda n: GS + b'f' + n\nBARCODE_FONT_A = _SET_HRI_FONT(b'\\x00')  # Font type A for HRI barcode chars\nBARCODE_FONT_B = _SET_HRI_FONT(b'\\x01')  # Font type B for HRI barcode chars\n\nBARCODE_HEIGHT = GS + b'h'  # Barcode Height [1-255]\nBARCODE_WIDTH  = GS + b'w'  # Barcode Width  [2-6]\n\n# NOTE: This isn't actually an ESC/POS command. It's the common prefix to the\n#      two \&quot;print bar code\&quot; commands:\n#      -  Type A: \&quot;GS k <type as integer> <data> NUL\&quot;\n#      -  TYPE B: \&quot;GS k <type as letter> <data length> <data>\&quot;\n#      The latter command supports more barcode types\n_SET_BARCODE_TYPE = lambda m: GS + b'k' + six.int2byte(m)\n\n# Barcodes for printing function type A\nBARCODE_TYPE_A = {\n    'UPC-A':   _SET_BARCODE_TYPE(0),\n    'UPC-E':   _SET_BARCODE_TYPE(1),\n    'EAN13':   _SET_BARCODE_TYPE(2),\n    'EAN8':    _SET_BARCODE_TYPE(3),\n    'CODE39':  _SET_BARCODE_TYPE(4),\n    'ITF':     _SET_BARCODE_TYPE(5),\n    'NW7':     _SET_BARCODE_TYPE(6),\n    'CODABAR': _SET_BARCODE_TYPE(6),  # Same as NW7\n}\n\n# Barcodes for printing function type B\n# The first 8 are the same barcodes as type A\nBARCODE_TYPE_B = {\n    'UPC-A':                       _SET_BARCODE_TYPE(65),\n    'UPC-E':                       _SET_BARCODE_TYPE(66),\n    'EAN13':                       _SET_BARCODE_TYPE(67),\n    'EAN8':                        _SET_BARCODE_TYPE(68),\n    'CODE39':                      _SET_BARCODE_TYPE(69),\n    'ITF':                         _SET_BARCODE_TYPE(70),\n    'NW7':                         _SET_BARCODE_TYPE(71),\n    'CODABAR':                     _SET_BARCODE_TYPE(71),  # Same as NW7\n    'CODE93':                      _SET_BARCODE_TYPE(72),\n    'CODE128':                     _SET_BARCODE_TYPE(73),\n    'GS1-128':                     _SET_BARCODE_TYPE(74),\n    'GS1 DATABAR OMNIDIRECTIONAL': _SET_BARCODE_TYPE(75),\n    'GS1 DATABAR TRUNCATED':       _SET_BARCODE_TYPE(76),\n    'GS1 DATABAR LIMITED':         _SET_BARCODE_TYPE(77),\n    'GS1 DATABAR EXPANDED':        _SET_BARCODE_TYPE(78),\n}\n\nBARCODE_FORMATS = {\n    'UPC-A':                       ([(11, 12)], \&quot;^[0-9]{11,12}$\&quot;),\n    'UPC-E':                       ([(7, 8), (11, 12)], \&quot;^([0-9]{7,8}|[0-9]{11,12})$\&quot;),\n    'EAN13':                       ([(12, 13)], \&quot;^[0-9]{12,13}$\&quot;),\n    'EAN8':                        ([(7, 8)], \&quot;^[0-9]{7,8}$\&quot;),\n    'CODE39':                      ([(1, 255)], \&quot;^([0-9A-Z \\$\\%\\+\\-\\.\\/]+|\\*[0-9A-Z \\$\\%\\+\\-\\.\\/]+\\*)$\&quot;),\n    'ITF':                         ([(2, 255)], \&quot;^([0-9]{2})+$\&quot;),\n    'NW7':                         ([(1, 255)], \&quot;^[A-Da-d][0-9\\$\\+\\-\\.\\/\\:]+[A-Da-d]$\&quot;),\n    'CODABAR':                     ([(1, 255)], \&quot;^[A-Da-d][0-9\\$\\+\\-\\.\\/\\:]+[A-Da-d]$\&quot;),  # Same as NW7\n    'CODE93':                      ([(1, 255)], \&quot;^[\\\\x00-\\\\x7F]+$\&quot;),\n    'CODE128':                     ([(2, 255)], \&quot;^\\{[A-C][\\\\x00-\\\\x7F]+$\&quot;),\n    'GS1-128':                     ([(2, 255)], \&quot;^\\{[A-C][\\\\x00-\\\\x7F]+$\&quot;), # same as CODE128\n    'GS1 DATABAR OMNIDIRECTIONAL': ([(13,13)], \&quot;^[0-9]{13}$\&quot;),\n    'GS1 DATABAR TRUNCATED':       ([(13,13)], \&quot;^[0-9]{13}$\&quot;), # same as GS1 omnidirectional\n    'GS1 DATABAR LIMITED':         ([(13,13)], \&quot;^[01][0-9]{12}$\&quot;),\n    'GS1 DATABAR EXPANDED':        ([(2,255)], \&quot;^\\([0-9][A-Za-z0-9 \\!\\\&quot;\\%\\&amp;\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\_\\{]+$\&quot;),\n}\n\nBARCODE_TYPES = {\n    'A': BARCODE_TYPE_A,\n    'B': BARCODE_TYPE_B,\n}\n\n# QRCode error correction levels\nQR_ECLEVEL_L = 0\nQR_ECLEVEL_M = 1\nQR_ECLEVEL_Q = 2\nQR_ECLEVEL_H = 3\n\n# QRcode models\nQR_MODEL_1 = 1\nQR_MODEL_2 = 2\nQR_MICRO = 3\n\n# Image format\n# NOTE: _PRINT_RASTER_IMG is the obsolete ESC/POS \&quot;print raster bit image\&quot;\n#       command. The constants include a fragment of the data's header.\n_PRINT_RASTER_IMG = lambda data: GS + b'v0' + data\nS_RASTER_N  = _PRINT_RASTER_IMG(b'\\x00')  # Set raster image normal size\nS_RASTER_2W = _PRINT_RASTER_IMG(b'\\x01')  # Set raster image double width\nS_RASTER_2H = _PRINT_RASTER_IMG(b'\\x02')  # Set raster image double height\nS_RASTER_Q  = _PRINT_RASTER_IMG(b'\\x03')  # Set raster image quadruple\n\n# Status Command\nRT_STATUS = DLE + EOT\nRT_STATUS_ONLINE = RT_STATUS +  b'\\x01'\nRT_STATUS_PAPER = RT_STATUS +  b'\\x04'\nRT_MASK_ONLINE = 8\nRT_MASK_PAPER = 18\nRT_MASK_LOWPAPER = 30\nRT_MASK_NOPAPER = 114&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:5072701997978484000,&quot;string&quot;:&quot;5,072,701,997,978,484,000&quot;}}},{&quot;rowIdx&quot;:24,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\n\n# Adapted script from Adafruit\n# Weather forecast for Raspberry Pi w/Adafruit Mini Thermal Printer.\n# Retrieves data from DarkSky.net's API, prints current conditions and\n# forecasts for next two days.\n# Weather example using nice bitmaps.\n# Written by Adafruit Industries.  MIT license.\n# Adapted and enhanced for escpos library by MrWunderbar666\n\n# Icons taken from https://adamwhitcroft.com/climacons/\n# Check out his github: https://github.com/AdamWhitcroft/climacons\n\n\nfrom datetime import datetime\nimport calendar\nimport urllib\nimport json\nimport time\nimport os\n\nfrom escpos.printer import Usb\n\n\&quot;\&quot;\&quot; Setting up the main pathing \&quot;\&quot;\&quot;\nthis_dir, this_filename = os.path.split(__file__)\nGRAPHICS_PATH = os.path.join(this_dir, \&quot;graphics/climacons/\&quot;)\n\n# Adapt to your needs\nprinter = Usb(0x0416, 0x5011, profile=\&quot;POS-5890\&quot;)\n\n# You can get your API Key on www.darksky.net and register a dev account.\n# Technically you can use any other weather service, of course :)\nAPI_KEY = \&quot;YOUR API KEY\&quot;\n\nLAT = \&quot;22.345490\&quot;       # Your Location\nLONG = \&quot;114.189945\&quot;     # Your Location\n\n\ndef forecast_icon(idx):\n    icon = data['daily']['data'][idx]['icon']\n    image = GRAPHICS_PATH + icon + \&quot;.png\&quot;\n    return image\n\n\n# Dumps one forecast line to the printer\ndef forecast(idx):\n    date = datetime.fromtimestamp(int(data['daily']['data'][idx]['time']))\n    day = calendar.day_name[date.weekday()]\n    lo = data['daily']['data'][idx]['temperatureMin']\n    hi = data['daily']['data'][idx]['temperatureMax']\n    cond = data['daily']['data'][idx]['summary']\n    print(date)\n    print(day)\n    print(lo)\n    print(hi)\n    print(cond)\n    time.sleep(1)\n    printer.set(\n        font='a',\n        height=2,\n        align='left',\n        bold=False,\n        double_height=False)\n    printer.text(day + ' \\n ')\n    time.sleep(5)           # Sleep to prevent printer buffer overflow\n    printer.text('\\n')\n    printer.image(forecast_icon(idx))\n    printer.text('low ' + str(lo))\n    printer.text(deg)\n    printer.text('\\n')\n    printer.text(' high ' + str(hi))\n    printer.text(deg)\n    printer.text('\\n')\n    # take care of pesky unicode dash\n    printer.text(cond.replace(u'\\u2013', '-').encode('utf-8'))\n    printer.text('\\n \\n')\n\n\ndef icon():\n    icon = data['currently']['icon']\n    image = GRAPHICS_PATH + icon + \&quot;.png\&quot;\n    return image\n\n\ndeg = ' C'      # Degree symbol on thermal printer, need to find a better way to use a proper degree symbol\n\n# if you want Fahrenheit change units= to 'us'\nurl = \&quot;https://api.darksky.net/forecast/\&quot; + API_KEY + \&quot;/\&quot; + LAT + \&quot;,\&quot; + LONG + \\\n    \&quot;?exclude=[alerts,minutely,hourly,flags]&amp;units=si\&quot;  # change last bit to 'us' for Fahrenheit\nresponse = urllib.urlopen(url)\ndata = json.loads(response.read())\n\nprinter.print_and_feed(n=1)\nprinter.control(\&quot;LF\&quot;)\nprinter.set(font='a', height=2, align='center', bold=True, double_height=True)\nprinter.text(\&quot;Weather Forecast\&quot;)\nprinter.text(\&quot;\\n\&quot;)\nprinter.set(align='center')\n\n\n# Print current conditions\nprinter.set(font='a', height=2, align='center', bold=True, double_height=False)\nprinter.text('Current conditions: \\n')\nprinter.image(icon())\nprinter.text(\&quot;\\n\&quot;)\n\nprinter.set(font='a', height=2, align='left', bold=False, double_height=False)\ntemp = data['currently']['temperature']\ncond = data['currently']['summary']\nprinter.text(temp)\nprinter.text(' ')\nprinter.text(deg)\nprinter.text(' ')\nprinter.text('\\n')\nprinter.text('Sky: ' + cond)\nprinter.text('\\n')\nprinter.text('\\n')\n\n# Print forecast\nprinter.set(font='a', height=2, align='center', bold=True, double_height=False)\nprinter.text('Forecast: \\n')\nforecast(0)\nforecast(1)\nprinter.cut()\nprinter.control(\&quot;LF\&quot;)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-7359232004411034000,&quot;string&quot;:&quot;-7,359,232,004,411,034,000&quot;}}},{&quot;rowIdx&quot;:25,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\&quot;\&quot;\&quot;Prints code page tables.\n\&quot;\&quot;\&quot;\n\n\nimport six\nimport sys\n\nfrom escpos import printer\nfrom escpos.constants import CODEPAGE_CHANGE, ESC, CTL_LF, CTL_FF, CTL_CR, CTL_HT, CTL_VT\n\n\ndef main():\n    dummy = printer.Dummy()\n\n    dummy.hw('init')\n\n    for codepage in sys.argv[1:] or ['USA']:\n        dummy.set(height=2, width=2)\n        dummy._raw(codepage + \&quot;\\n\\n\\n\&quot;)\n        print_codepage(dummy, codepage)\n        dummy._raw(\&quot;\\n\\n\&quot;)\n\n    dummy.cut()\n\n    print(dummy.output)\n\n\ndef print_codepage(printer, codepage):\n    if codepage.isdigit():\n        codepage = int(codepage)\n        printer._raw(CODEPAGE_CHANGE + six.int2byte(codepage))\n        printer._raw(\&quot;after\&quot;)\n    else:\n        printer.charcode(codepage)\n\n    sep = \&quot;\&quot;\n\n    # Table header\n    printer.set(font='b')\n    printer._raw(\&quot;  {}\\n\&quot;.format(sep.join(map(lambda s: hex(s)[2:], range(0, 16)))))\n    printer.set()\n\n    # The table\n    for x in range(0, 16):\n        # First column\n        printer.set(font='b')\n        printer._raw(\&quot;{} \&quot;.format(hex(x)[2:]))\n        printer.set()\n\n        for y in range(0, 16):\n            byte = six.int2byte(x * 16 + y)\n\n            if byte in (ESC, CTL_LF, CTL_FF, CTL_CR, CTL_HT, CTL_VT):\n                byte = ' '\n\n            printer._raw(byte)\n            printer._raw(sep)\n        printer._raw('\\n')\n\n\nif __name__ == '__main__':\n    main()\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:2195612550887496200,&quot;string&quot;:&quot;2,195,612,550,887,496,200&quot;}}},{&quot;rowIdx&quot;:26,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;from escpos.printer import Usb\n\n\n# Adapt to your needs\np = Usb(0x0416, 0x5011, profile=\&quot;POS-5890\&quot;)\n\n# Some software barcodes\np.soft_barcode('code128', 'Hello')\np.soft_barcode('code39', '1234')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:7126506646709017000,&quot;string&quot;:&quot;7,126,506,646,709,017,000&quot;}}},{&quot;rowIdx&quot;:27,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;from escpos.printer import Usb\n\n\n# Adapt to your needs\np = Usb(0x0416, 0x5011, profile=\&quot;POS-5890\&quot;)\n\n# Print software and then hardware barcode with the same content\np.soft_barcode('code39', '123456')\np.text('\\n')\np.text('\\n')\np.barcode('123456', 'CODE39')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:6584835139268658000,&quot;string&quot;:&quot;6,584,835,139,268,658,000&quot;}}},{&quot;rowIdx&quot;:28,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;import sys\n\nfrom escpos.printer import Usb\n\n\ndef usage():\n    print(\&quot;usage: qr_code.py <content>\&quot;)\n\n\nif __name__ == '__main__':\n    if len(sys.argv) != 2:\n        usage()\n        sys.exit(1)\n\n    content = sys.argv[1]\n\n    # Adapt to your needs\n    p = Usb(0x0416, 0x5011, profile=\&quot;POS-5890\&quot;)\n    p.qr(content, center=True)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-3492899907880992000,&quot;string&quot;:&quot;-3,492,899,907,880,992,000&quot;}}},{&quot;rowIdx&quot;:29,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;# Climacons by Adam Whitcroft\n\n75 climatically categorised pictographs for web and UI design by [@adamwhitcroft](https://www.twitter.com/#!/adamwhitcroft).\n\nVisit the [Climacons](https://adamwhitcroft.com/climacons/) website for more information.\n\nVisit [Adam Whitcroft on GitHub](https://github.com/AdamWhitcroft)\n\n## License\nYou are free to use any of the Climacons Icons (the \&quot;icons\&quot;) in any personal or commercial work without obligation of payment (monetary or otherwise) or attribution, however a credit for the work would be appreciated. **Do not** redistribute or sell and **do not** claim creative credit. Intellectual property rights are not transferred with the download of the icons.\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:8882995023653125000,&quot;string&quot;:&quot;8,882,995,023,653,125,000&quot;}}},{&quot;rowIdx&quot;:30,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot;tests for the File printer\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport six\n\nimport pytest\nfrom hypothesis import given, settings\nfrom hypothesis.strategies import text\n\nimport escpos.printer as printer\n\nif six.PY3:\n    mock_open_call = 'builtins.open'\nelse:\n    mock_open_call = '__builtin__.open'\n\n\n@pytest.mark.skip(\&quot;this test is broken and has to be fixed or discarded\&quot;)\n@given(path=text())\ndef test_load_file_printer(mocker, path):\n    \&quot;\&quot;\&quot;test the loading of the file-printer\&quot;\&quot;\&quot;\n    mock_escpos = mocker.patch('escpos.escpos.Escpos.__init__')\n    mock_open = mocker.patch(mock_open_call)\n    printer.File(devfile=path)\n    assert mock_escpos.called\n    mock_open.assert_called_with(path, \&quot;wb\&quot;)\n\n\n@pytest.mark.skip(\&quot;this test is broken and has to be fixed or discarded\&quot;)\n@given(txt=text())\ndef test_auto_flush(mocker, txt):\n    \&quot;\&quot;\&quot;test auto_flush in file-printer\&quot;\&quot;\&quot;\n    mock_escpos = mocker.patch('escpos.escpos.Escpos.__init__')\n    mock_open = mocker.patch(mock_open_call)\n    mock_device = mocker.patch.object(printer.File, 'device')\n\n    p = printer.File(auto_flush=False)\n    # inject the mocked device-object\n    p.device = mock_device\n    p._raw(txt)\n    assert not mock_device.flush.called\n    mock_device.reset_mock()\n    p = printer.File(auto_flush=True)\n    # inject the mocked device-object\n    p.device = mock_device\n    p._raw(txt)\n    assert mock_device.flush.called\n\n\n@pytest.mark.skip(\&quot;this test is broken and has to be fixed or discarded\&quot;)\n@given(txt=text())\ndef test_flush_on_close(mocker, txt):\n    \&quot;\&quot;\&quot;test flush on close in file-printer\&quot;\&quot;\&quot;\n    mock_open = mocker.patch(mock_open_call)\n    mock_device = mocker.patch.object(printer.File, 'device')\n\n    p = printer.File(auto_flush=False)\n    # inject the mocked device-object\n    p.device = mock_device\n    p._raw(txt)\n    assert not mock_device.flush.called\n    p.close()\n    assert mock_device.flush.called\n    assert mock_device.close.called\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-5437537316387406000,&quot;string&quot;:&quot;-5,437,537,316,387,406,000&quot;}}},{&quot;rowIdx&quot;:31,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;from nose.tools import assert_raises\nfrom escpos.printer import Dummy\n\ndef test_printer_dummy_clear():\n    printer = Dummy()\n    printer.text(\&quot;Hello\&quot;)\n    printer.clear()\n    assert(printer.output == b'')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:6691484971770623000,&quot;string&quot;:&quot;6,691,484,971,770,623,000&quot;}}},{&quot;rowIdx&quot;:32,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;test the raising of errors with the error module\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2017 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport pytest\nimport escpos\nimport escpos.exceptions\n\n\ndef test_raise_error_wrongly():\n    \&quot;\&quot;\&quot;raise error the wrong way\n\n    should reproduce https://github.com/python-escpos/python-escpos/issues/257\n    \&quot;\&quot;\&quot;\n    with pytest.raises(AttributeError):\n        raise escpos.Error(\&quot;This should raise an AttributeError.\&quot;)\n\n\ndef tests_raise_error():\n    \&quot;\&quot;\&quot;raise error the right way\&quot;\&quot;\&quot;\n    with pytest.raises(escpos.exceptions.Error):\n        raise escpos.exceptions.Error(\&quot;This should raise an error.\&quot;)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-2295423314651021800,&quot;string&quot;:&quot;-2,295,423,314,651,021,800&quot;}}},{&quot;rowIdx&quot;:33,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;tests for the text printing function\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport pytest\nimport mock\nfrom hypothesis import given, assume\nimport hypothesis.strategies as st\nfrom escpos.printer import Dummy\n\n\ndef get_printer():\n    return Dummy(magic_encode_args={'disabled': True, 'encoding': 'CP437'})\n\n\n@given(text=st.text())\ndef test_text(text):\n    \&quot;\&quot;\&quot;Test that text() calls the MagicEncode object.\n    \&quot;\&quot;\&quot;\n    instance = get_printer()\n    instance.magic.write = mock.Mock()\n    instance.text(text)\n    instance.magic.write.assert_called_with(text)\n\n\ndef test_block_text():\n    printer = get_printer()\n    printer.block_text(\n        \&quot;All the presidents men were eating falafel for breakfast.\&quot;, font='a')\n    assert printer.output == \\\n        b'All the presidents men were eating falafel\\nfor breakfast.'\n\n\ndef test_textln():\n    printer = get_printer()\n    printer.textln('hello, world')\n    assert printer.output == b'hello, world\\n'\n\n\ndef test_textln_empty():\n    printer = get_printer()\n    printer.textln()\n    assert printer.output == b'\\n'\n\n\ndef test_ln():\n    printer = get_printer()\n    printer.ln()\n    assert printer.output == b'\\n'\n\n\ndef test_multiple_ln():\n    printer = get_printer()\n    printer.ln(3)\n    assert printer.output == b'\\n\\n\\n'\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:6338380797784481000,&quot;string&quot;:&quot;6,338,380,797,784,481,000&quot;}}},{&quot;rowIdx&quot;:34,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\&quot;\&quot;\&quot;Test for the CLI\n\n\&quot;\&quot;\&quot;\n\n\nimport os\nimport sys\nfrom scripttest import TestFileEnvironment\nfrom nose.tools import assert_equals, nottest\nimport escpos\n\nTEST_DIR = os.path.abspath('test/test-cli-output')\n\nDEVFILE_NAME = 'testfile'\n\nDEVFILE = os.path.join(TEST_DIR, DEVFILE_NAME)\nCONFIGFILE = 'testconfig.yaml'\nCONFIG_YAML = '''\n---\n\nprinter:\n    type: file\n    devfile: {testfile}\n'''.format(\n    testfile=DEVFILE,\n)\n\n\nclass TestCLI:\n    \&quot;\&quot;\&quot; Contains setups, teardowns, and tests for CLI\n    \&quot;\&quot;\&quot;\n\n    @classmethod\n    def setup_class(cls):\n        \&quot;\&quot;\&quot; Create a config file to read from \&quot;\&quot;\&quot;\n        with open(CONFIGFILE, 'w') as config:\n            config.write(CONFIG_YAML)\n\n    @classmethod\n    def teardown_class(cls):\n        \&quot;\&quot;\&quot; Remove config file \&quot;\&quot;\&quot;\n        os.remove(CONFIGFILE)\n\n    def setup(self):\n        \&quot;\&quot;\&quot; Create a file to print to and set up env\&quot;\&quot;\&quot;\n        self.env = None\n        self.default_args = None\n\n        self.env = TestFileEnvironment(\n            base_path=TEST_DIR,\n            cwd=os.getcwd(),\n        )\n\n        self.default_args = (\n            'python-escpos',\n            '-c',\n            CONFIGFILE,\n        )\n\n        fhandle = open(DEVFILE, 'a')\n        try:\n            os.utime(DEVFILE, None)\n        finally:\n            fhandle.close()\n\n    def teardown(self):\n        \&quot;\&quot;\&quot; Destroy printer file and env \&quot;\&quot;\&quot;\n        os.remove(DEVFILE)\n        self.env.clear()\n\n    def test_cli_help(self):\n        \&quot;\&quot;\&quot; Test getting help from cli \&quot;\&quot;\&quot;\n        result = self.env.run('python-escpos', '-h')\n        assert not result.stderr\n        assert 'usage' in result.stdout\n\n    def test_cli_version(self):\n        \&quot;\&quot;\&quot; Test the version string \&quot;\&quot;\&quot;\n        result = self.env.run('python-escpos', 'version')\n        assert not result.stderr\n        assert_equals(escpos.__version__, result.stdout.strip())\n\n    @nottest  # disable this test as it is not that easy anymore to predict the outcome of this call\n    def test_cli_text(self):\n        \&quot;\&quot;\&quot; Make sure text returns what we sent it \&quot;\&quot;\&quot;\n        test_text = 'this is some text'\n        result = self.env.run(\n            *(self.default_args + (\n                'text',\n                '--txt',\n                test_text,\n            ))\n        )\n        assert not result.stderr\n        assert DEVFILE_NAME in result.files_updated.keys()\n        assert_equals(\n            result.files_updated[DEVFILE_NAME].bytes,\n            test_text + '\\n'\n        )\n\n    def test_cli_text_inavlid_args(self):\n        \&quot;\&quot;\&quot; Test a failure to send valid arguments \&quot;\&quot;\&quot;\n        result = self.env.run(\n            *(self.default_args + (\n                'text',\n                '--invalid-param',\n                'some data'\n            )),\n            expect_error=True,\n            expect_stderr=True\n        )\n        assert_equals(result.returncode, 2)\n        assert 'error:' in result.stderr\n        assert not result.files_updated\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:5770274282975849000,&quot;string&quot;:&quot;5,770,274,282,975,849,000&quot;}}},{&quot;rowIdx&quot;:35,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\n\nimport escpos.printer as printer\nimport pytest\n\n\n@pytest.mark.parametrize(\&quot;bctype,data\&quot;, [\n    ('UPC-A', '01234567890'),\n    ('UPC-A', '012345678905'),\n    ('UPC-E', '01234567'),\n    ('UPC-E', '0123456'),\n    ('UPC-E', '012345678905'),\n    ('EAN13', '0123456789012'),\n    ('EAN13', '012345678901'),\n    ('EAN8', '01234567'),\n    ('EAN8', '0123456'),\n    ('CODE39', 'ABC-1234'),\n    ('CODE39', 'ABC-1234-$$-+A'),\n    ('CODE39', '*WIKIPEDIA*'),\n    ('ITF', '010203040506070809'),\n    ('ITF', '11221133113344556677889900'),\n    ('CODABAR', 'A2030405060B'),\n    ('CODABAR', 'C11221133113344556677889900D'),\n    ('CODABAR', 'D0D'),\n    ('NW7', 'A2030405060B'),\n    ('NW7', 'C11221133113344556677889900D'),\n    ('NW7', 'D0D'),\n    ('CODE93', 'A2030405060B'),\n    ('CODE93', '+:$&amp;23-7@$'),\n    ('CODE93', 'D0D'),\n    ('CODE128', '{A2030405060B'),\n    ('CODE128', '{C+:$&amp;23-7@$'),\n    ('CODE128', '{B0D'),\n    ('GS1-128', '{A2030405060B'),\n    ('GS1-128', '{C+:$&amp;23-7@$'),\n    ('GS1-128', '{B0D'),\n    ('GS1 DATABAR OMNIDIRECTIONAL', '0123456789123'),\n    ('GS1 DATABAR TRUNCATED', '0123456789123'),\n    ('GS1 DATABAR LIMITED', '0123456789123'),\n    ('GS1 DATABAR EXPANDED', '(9A{A20304+-%&amp;06a0B'),\n    ('GS1 DATABAR EXPANDED', '(1 {C+:&amp;23-7%'),\n    ('GS1 DATABAR EXPANDED', '(00000001234567678'),\n])\ndef test_check_valid_barcode(bctype, data):\n    assert (printer.Escpos.check_barcode(bctype, data))\n\n\n@pytest.mark.parametrize(\&quot;bctype,data\&quot;, [\n    ('UPC-A', '01234567890123'),  # too long\n    ('UPC-A', '0123456789'),  # too short\n    ('UPC-A', '72527273-711'),  # invalid '-'\n    ('UPC-A', 'A12345678901'),  # invalid 'A'\n    ('UPC-E', '01234567890123'),  # too long\n    ('UPC-E', '012345'),  # too short\n    ('UPC-E', '72527-2'),  # invalid '-'\n    ('UPC-E', 'A123456'),  # invalid 'A'\n    ('EAN13', '0123456789'),  # too short\n    ('EAN13', 'A123456789012'),  # invalid 'A'\n    ('EAN13', '012345678901234'),  # too long\n    ('EAN8', '012345'),  # too short\n    ('EAN8', 'A123456789012'),  # invalid 'A'\n    ('EAN8', '012345678901234'),  # too long\n    ('CODE39', 'ALKJ_34'),  # invalid '_'\n    ('CODE39', 'A' * 256),  # too long\n    ('ITF', '010203040'),  # odd length\n    ('ITF', '0' * 256),  # too long\n    ('ITF', 'AB01'),  # invalid 'A'\n    ('CODABAR', '010203040'),  # no start/stop\n    ('CODABAR', '0' * 256),  # too long\n    ('CODABAR', 'AB-01F'),  # invalid 'B'\n    ('NW7', '010203040'),  # no start/stop\n    ('NW7', '0' * 256),  # too long\n    ('NW7', 'AB-01F'),  # invalid 'B'\n    ('CODE93', 'é010203040'),  # invalid 'é'\n    ('CODE93', '0' * 256),  # too long\n    ('CODE128', '010203040'),  # missing leading {\n    ('CODE128', '{D2354AA'),  # second char not between A-C\n    ('CODE128', '0' * 256),  # too long\n    ('GS1-128', '010203040'),  # missing leading {\n    ('GS1-128', '{D2354AA'),  # second char not between A-C\n    ('GS1-128', '0' * 256),  # too long\n    ('GS1 DATABAR OMNIDIRECTIONAL', '01234567891234'),  # too long\n    ('GS1 DATABAR OMNIDIRECTIONAL', '012345678912'),  # too short\n    ('GS1 DATABAR OMNIDIRECTIONAL', '012345678A1234'),  # invalid 'A'\n    ('GS1 DATABAR TRUNCATED', '01234567891234'),  # too long\n    ('GS1 DATABAR TRUNCATED', '012345678912'),  # too short\n    ('GS1 DATABAR TRUNCATED', '012345678A1234'),  # invalid 'A'\n    ('GS1 DATABAR LIMITED', '01234567891234'),  # too long\n    ('GS1 DATABAR LIMITED', '012345678912'),  # too short\n    ('GS1 DATABAR LIMITED', '012345678A1234'),  # invalid 'A'\n    ('GS1 DATABAR LIMITED', '02345678912341'),  # invalid start (should be 01)\n    ('GS1 DATABAR EXPANDED', '010203040'),  # missing leading (\n    ('GS1-128', '(' + ('0' * 256)),  # too long\n    ('GS1 DATABAR EXPANDED', '(a{D2354AA'),  # second char not between 0-9\n    ('GS1 DATABAR EXPANDED', 'IT will fail'),  # first char not '('\n])\ndef test_check_invalid_barcode(bctype, data):\n    assert (not printer.Escpos.check_barcode(bctype, data))\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-1642696723374885000,&quot;string&quot;:&quot;-1,642,696,723,374,885,000&quot;}}},{&quot;rowIdx&quot;:36,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;import pytest\nfrom escpos.capabilities import get_profile, NotSupported, BARCODE_B, Profile\n\n\n@pytest.fixture\ndef profile():\n    return get_profile('default')\n\n\nclass TestBaseProfile:\n    \&quot;\&quot;\&quot;Test the `BaseProfile` class.\n    \&quot;\&quot;\&quot;\n\n    def test_get_font(self, profile):\n        with pytest.raises(NotSupported):\n            assert profile.get_font('3')\n        assert profile.get_font(1) == 1\n        assert profile.get_font('a') == 0\n\n    def test_supports(self, profile):\n        assert not profile.supports('asdf asdf')\n        assert profile.supports(BARCODE_B)\n\n    def test_get_columns(self, profile):\n        assert profile.get_columns('a') > 5\n        with pytest.raises(NotSupported):\n            assert profile.get_columns('asdfasdf')\n\n\nclass TestCustomProfile:\n    \&quot;\&quot;\&quot;Test custom profile options with the `Profile` class.\n    \&quot;\&quot;\&quot;\n\n    def test_columns(self):\n        assert Profile(columns=10).get_columns('sdfasdf') == 10\n\n    def test_features(self):\n        assert Profile(features={'foo': True}).supports('foo')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:3847475499428417500,&quot;string&quot;:&quot;3,847,475,499,428,417,500&quot;}}},{&quot;rowIdx&quot;:37,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;test the facility which enables usage of the with-statement\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport escpos.printer as printer\nimport escpos.escpos as escpos\n\n\ndef test_with_statement():\n    \&quot;\&quot;\&quot;Use with statement\&quot;\&quot;\&quot;\n    dummy_printer = printer.Dummy()\n    with escpos.EscposIO(dummy_printer) as p:\n            p.writelines('Some text.\\n')\n    # TODO extend these tests as they don't really do anything at the moment\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:3906324460314315000,&quot;string&quot;:&quot;3,906,324,460,314,315,000&quot;}}},{&quot;rowIdx&quot;:38,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;verifies that the metaclass abc is properly used by ESC/POS\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 Patrick Kanzler\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nfrom nose.tools import raises\n\nimport escpos.escpos as escpos\nfrom abc import ABCMeta\n\n\n@raises(TypeError)\ndef test_abstract_base_class_raises():\n    \&quot;\&quot;\&quot;test whether the abstract base class raises an exception for ESC/POS\&quot;\&quot;\&quot;\n    escpos.Escpos()  # This call should raise TypeError because of abstractmethod _raw()\n\n\ndef test_abstract_base_class():\n    \&quot;\&quot;\&quot; test whether Escpos has the metaclass ABCMeta \&quot;\&quot;\&quot;\n    assert issubclass(escpos.Escpos, object)\n    assert type(escpos.Escpos) is ABCMeta\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-4230022437427917300,&quot;string&quot;:&quot;-4,230,022,437,427,917,300&quot;}}},{&quot;rowIdx&quot;:39,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\nimport six\n\nimport escpos.printer as printer\nfrom escpos.constants import TXT_NORMAL, TXT_STYLE, SET_FONT\nfrom escpos.constants import TXT_SIZE\n\n\n# Default test, please copy and paste this block to test set method calls\n\ndef test_default_values():\n    instance = printer.Dummy()\n    instance.set()\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert(instance.output == b''.join(expected_sequence))\n\n# Size tests\n\ndef test_set_size_2h():\n    instance = printer.Dummy()\n    instance.set(double_height=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['2h'],  # Double height text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\ndef test_set_size_2w():\n    instance = printer.Dummy()\n    instance.set(double_width=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['2w'],  # Double width text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\ndef test_set_size_2x():\n    instance = printer.Dummy()\n    instance.set(double_height=True, double_width=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['2x'],  # Double text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\ndef test_set_size_custom():\n    instance = printer.Dummy()\n    instance.set(custom_size=True, width=8, height=7)\n\n    expected_sequence = (\n        TXT_SIZE,  # Custom text size, no normal reset\n        six.int2byte(TXT_STYLE['width'][8] + TXT_STYLE['height'][7]),\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n# Flip\n\ndef test_set_flip():\n    instance = printer.Dummy()\n    instance.set(flip=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][True],  # Flip ON\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n# Smooth\n\ndef test_smooth():\n    instance = printer.Dummy()\n    instance.set(smooth=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][True],  # Smooth ON\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert(instance.output == b''.join(expected_sequence))\n\n\n# Type\n\n\ndef test_set_bold():\n    instance = printer.Dummy()\n    instance.set(bold=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][True],  # Bold ON\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\ndef test_set_underline():\n    instance = printer.Dummy()\n    instance.set(underline=1)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][1],  # Underline ON, type 1\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\ndef test_set_underline2():\n    instance = printer.Dummy()\n    instance.set(underline=2)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][2],  # Underline ON, type 2\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert (instance.output == b''.join(expected_sequence))\n\n\n# Align\n\ndef test_align_center():\n    instance = printer.Dummy()\n    instance.set(align='center')\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['center'],  # Align center\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert(instance.output == b''.join(expected_sequence))\n\n\ndef test_align_right():\n    instance = printer.Dummy()\n    instance.set(align='right')\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['right'],  # Align right\n        TXT_STYLE['invert'][False]  # Inverted OFF\n    )\n\n    assert(instance.output == b''.join(expected_sequence))\n\n\n# Densities\n\ndef test_densities():\n\n    for density in range(8):\n        instance = printer.Dummy()\n        instance.set(density=density)\n\n        expected_sequence = (\n            TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n            TXT_STYLE['flip'][False],  # Flip OFF\n            TXT_STYLE['smooth'][False],  # Smooth OFF\n            TXT_STYLE['bold'][False],  # Bold OFF\n            TXT_STYLE['underline'][0],  # Underline OFF\n            SET_FONT(b'\\x00'),  # Default font\n            TXT_STYLE['align']['left'],  # Align left\n            TXT_STYLE['density'][density],  # Custom density from 0 to 8\n            TXT_STYLE['invert'][False]  # Inverted OFF\n        )\n\n        assert(instance.output == b''.join(expected_sequence))\n\n\n# Invert\n\ndef test_invert():\n    instance = printer.Dummy()\n    instance.set(invert=True)\n\n    expected_sequence = (\n        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size\n        TXT_STYLE['flip'][False],  # Flip OFF\n        TXT_STYLE['smooth'][False],  # Smooth OFF\n        TXT_STYLE['bold'][False],  # Bold OFF\n        TXT_STYLE['underline'][0],  # Underline OFF\n        SET_FONT(b'\\x00'),  # Default font\n        TXT_STYLE['align']['left'],  # Align left\n        TXT_STYLE['invert'][True]  # Inverted ON\n    )\n\n    assert(instance.output == b''.join(expected_sequence))&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:4783461750514812000,&quot;string&quot;:&quot;4,783,461,750,514,812,000&quot;}}},{&quot;rowIdx&quot;:40,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/env python\n\&quot;\&quot;\&quot; Image tests- Check that images from different source formats are correctly\nconverted to ESC/POS column &amp; raster formats.\n\n:author: `Michael Billington <michael.billington@gmail.com>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `Michael Billington <michael.billington@gmail.com>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\nfrom escpos.image import EscposImage\n\n\ndef test_image_black():\n    \&quot;\&quot;\&quot;\n    Test rendering solid black image\n    \&quot;\&quot;\&quot;\n    for img_format in ['png', 'jpg', 'gif']:\n        _load_and_check_img('canvas_black.' + img_format, 1, 1, b'\\x80', [b'\\x80'])\n\n\ndef test_image_black_transparent():\n    \&quot;\&quot;\&quot;\n    Test rendering black/transparent image\n    \&quot;\&quot;\&quot;\n    for img_format in ['png', 'gif']:\n        _load_and_check_img('black_transparent.' + img_format, 2, 2, b'\\xc0\\x00', [b'\\x80\\x80'])\n\n\ndef test_image_black_white():\n    \&quot;\&quot;\&quot;\n    Test rendering black/white image\n    \&quot;\&quot;\&quot;\n    for img_format in ['png', 'jpg', 'gif']:\n        _load_and_check_img('black_white.' + img_format, 2, 2, b'\\xc0\\x00', [b'\\x80\\x80'])\n\n\ndef test_image_white():\n    \&quot;\&quot;\&quot;\n    Test rendering solid white image\n    \&quot;\&quot;\&quot;\n    for img_format in ['png', 'jpg', 'gif']:\n        _load_and_check_img('canvas_white.' + img_format, 1, 1, b'\\x00', [b'\\x00'])\n\n\ndef test_split():\n    \&quot;\&quot;\&quot;\n    test whether the split-function works as expected\n    \&quot;\&quot;\&quot;\n    im = EscposImage('test/resources/black_white.png')\n    (upper_part, lower_part) = im.split(1)\n    upper_part = EscposImage(upper_part)\n    lower_part = EscposImage(lower_part)\n    assert(upper_part.width == lower_part.width == 2)\n    assert(upper_part.height == lower_part.height == 1)\n    assert(upper_part.to_raster_format() == b'\\xc0')\n    assert(lower_part.to_raster_format() == b'\\x00')\n\n\ndef _load_and_check_img(filename, width_expected, height_expected, raster_format_expected, column_format_expected):\n    \&quot;\&quot;\&quot;\n    Load an image, and test whether raster &amp; column formatted output, sizes, etc match expectations.\n    \&quot;\&quot;\&quot;\n    im = EscposImage('test/resources/' + filename)\n    assert(im.width == width_expected)\n    assert(im.height == height_expected)\n    assert(im.to_raster_format() == raster_format_expected)\n    i = 0 \n    for row in im.to_column_format(False):\n        assert(row == column_format_expected[i])\n        i += 1\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-4467554894755001300,&quot;string&quot;:&quot;-4,467,554,894,755,001,300&quot;}}},{&quot;rowIdx&quot;:41,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;tests for panel button function\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport escpos.printer as printer\n\n\ndef test_function_panel_button_on():\n    \&quot;\&quot;\&quot;test the panel button function (enabling) by comparing output\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.panel_buttons()\n    assert(instance.output == b'\\x1B\\x63\\x35\\x00')\n\n\ndef test_function_panel_button_off():\n    \&quot;\&quot;\&quot;test the panel button function (disabling) by comparing output\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.panel_buttons(False)\n    assert(instance.output == b'\\x1B\\x63\\x35\\x01')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-8930760248319078000,&quot;string&quot;:&quot;-8,930,760,248,319,078,000&quot;}}},{&quot;rowIdx&quot;:42,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;\nimport six\n\nimport escpos.printer as printer\nfrom escpos.constants import GS\n\n\ndef test_cut_without_feed():\n    \&quot;\&quot;\&quot;Test cut without feeding paper\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.cut(feed=False)\n    expected = GS + b'V' + six.int2byte(66) + b'\\x00'\n    assert(instance.output == expected)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-7600016127120299000,&quot;string&quot;:&quot;-7,600,016,127,120,299,000&quot;}}},{&quot;rowIdx&quot;:43,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot;tests for the non-native part of qr()\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport pytest\nimport mock\n\nfrom escpos.printer import Dummy\nfrom PIL import Image\n\n\n@mock.patch('escpos.printer.Dummy.image', spec=Dummy)\ndef test_type_of_object_passed_to_image_function(img_function):\n    \&quot;\&quot;\&quot;\n    Test the type of object that is passed to the image function during non-native qr-printing.\n\n    The type should be PIL.Image\n    \&quot;\&quot;\&quot;\n    d = Dummy()\n    d.qr(\&quot;LoremIpsum\&quot;)\n    args, kwargs = img_function.call_args\n    assert isinstance(args[0], Image.Image)\n\n\n@pytest.fixture\ndef instance():\n    return Dummy()\n\n\ndef test_center(instance):\n    instance.qr(\&quot;LoremIpsum\&quot;, center=True)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:8695044394095764000,&quot;string&quot;:&quot;8,695,044,394,095,764,000&quot;}}},{&quot;rowIdx&quot;:44,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\nimport escpos.printer as printer\nimport pytest\n\n\n@pytest.fixture\ndef instance():\n    return printer.Dummy()\n\n\ndef test_soft_barcode_ean8(instance):\n    instance.soft_barcode(\&quot;ean8\&quot;, \&quot;1234\&quot;)\n\n\ndef test_soft_barcode_ean8_nocenter(instance):\n    instance.soft_barcode(\&quot;ean8\&quot;, \&quot;1234\&quot;, center=False)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:596092055490086800,&quot;string&quot;:&quot;596,092,055,490,086,800&quot;}}},{&quot;rowIdx&quot;:45,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n#  -*- coding: utf-8 -*-\n\&quot;\&quot;\&quot;tests for the magic encode module\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport pytest\nfrom nose.tools import raises, assert_raises\nfrom hypothesis import given, example\nimport hypothesis.strategies as st\nfrom escpos.magicencode import MagicEncode, Encoder\nfrom escpos.katakana import encode_katakana\nfrom escpos.exceptions import CharCodeError, Error\n\n\nclass TestEncoder:\n    \&quot;\&quot;\&quot;\n    Tests the single encoders.\n    \&quot;\&quot;\&quot;\n\n    def test_can_encode(self):\n        assert not Encoder({'CP437': 1}).can_encode('CP437', u'€')\n        assert Encoder({'CP437': 1}).can_encode('CP437', u'á')\n        assert not Encoder({'foobar': 1}).can_encode('foobar', 'a')\n\n    def test_find_suitable_encoding(self):\n        assert not Encoder({'CP437': 1}).find_suitable_encoding(u'€')\n        assert Encoder({'CP858': 1}).find_suitable_encoding(u'€') == 'CP858'\n\n    @raises(ValueError)\n    def test_get_encoding(self):\n        Encoder({}).get_encoding_name('latin1')\n\n\nclass TestMagicEncode:\n    \&quot;\&quot;\&quot;\n    Tests the magic encode functionality.\n    \&quot;\&quot;\&quot;\n\n    class TestInit:\n        \&quot;\&quot;\&quot;\n        Test initialization.\n        \&quot;\&quot;\&quot;\n\n        def test_disabled_requires_encoding(self, driver):\n            \&quot;\&quot;\&quot;\n            Test that disabled without encoder raises an error.\n\n            :param driver:\n            \&quot;\&quot;\&quot;\n            with pytest.raises(Error):\n                MagicEncode(driver, disabled=True)\n\n    class TestWriteWithEncoding:\n\n        def test_init_from_none(self, driver):\n            encode = MagicEncode(driver, encoding=None)\n            encode.write_with_encoding('CP858', '€ ist teuro.')\n            assert driver.output == b'\\x1bt\\x13\\xd5 ist teuro.'\n\n        def test_change_from_another(self, driver):\n            encode = MagicEncode(driver, encoding='CP437')\n            encode.write_with_encoding('CP858', '€ ist teuro.')\n            assert driver.output == b'\\x1bt\\x13\\xd5 ist teuro.'\n\n        def test_no_change(self, driver):\n            encode = MagicEncode(driver, encoding='CP858')\n            encode.write_with_encoding('CP858', '€ ist teuro.')\n            assert driver.output == b'\\xd5 ist teuro.'\n\n    class TestWrite:\n\n        def test_write(self, driver):\n            encode = MagicEncode(driver)\n            encode.write('€ ist teuro.')\n            assert driver.output == b'\\x1bt\\x0f\\xa4 ist teuro.'\n\n        def test_write_disabled(self, driver):\n            encode = MagicEncode(driver, encoding='CP437', disabled=True)\n            encode.write('€ ist teuro.')\n            assert driver.output == b'? ist teuro.'\n\n        def test_write_no_codepage(self, driver):\n            encode = MagicEncode(\n                driver, defaultsymbol=\&quot;_\&quot;, encoder=Encoder({'CP437': 1}),\n                encoding='CP437')\n            encode.write(u'€ ist teuro.')\n            assert driver.output == b'_ ist teuro.'\n\n    class TestForceEncoding:\n\n        def test(self, driver):\n            encode = MagicEncode(driver)\n            encode.force_encoding('CP437')\n            assert driver.output == b'\\x1bt\\x00'\n\n            encode.write('€ ist teuro.')\n            assert driver.output == b'\\x1bt\\x00? ist teuro.'\n\n\ntry:\n    import jaconv\nexcept ImportError:\n    jaconv = None\n\n\n@pytest.mark.skipif(not jaconv, reason=\&quot;jaconv not installed\&quot;)\nclass TestKatakana:\n    @given(st.text())\n    @example(\&quot;カタカナ\&quot;)\n    @example(\&quot;あいうえお\&quot;)\n    @example(\&quot;ﾊﾝｶｸｶﾀｶﾅ\&quot;)\n    def test_accept(self, text):\n        encode_katakana(text)\n\n    def test_result(self):\n        assert encode_katakana('カタカナ') == b'\\xb6\\xc0\\xb6\\xc5'\n        assert encode_katakana(\&quot;あいうえお\&quot;) == b'\\xb1\\xb2\\xb3\\xb4\\xb5'\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-1910306052007714300,&quot;string&quot;:&quot;-1,910,306,052,007,714,300&quot;}}},{&quot;rowIdx&quot;:46,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;very basic test cases that load the classes\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2016 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport escpos.printer as printer\n\n\ndef test_instantiation():\n    \&quot;\&quot;\&quot;test the instantiation of a escpos-printer class and basic printing\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.text('This is a test\\n')\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-7852153827620509000,&quot;string&quot;:&quot;-7,852,153,827,620,509,000&quot;}}},{&quot;rowIdx&quot;:47,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\nimport escpos.printer as printer\nfrom escpos.capabilities import Profile, BARCODE_B\nfrom escpos.exceptions import BarcodeTypeError, BarcodeCodeError\nimport pytest\n\n\n@pytest.mark.parametrize(\&quot;bctype,data,expected\&quot;, [\n    ('EAN13', '4006381333931',\n        b'\\x1ba\\x01\\x1dh@\\x1dw\\x03\\x1df\\x00\\x1dH\\x02\\x1dk\\x024006381333931\\x00')\n])\ndef test_barcode(bctype, data, expected):\n    \&quot;\&quot;\&quot;should generate different barcode types correctly.\n    \&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.barcode(data, bctype)\n    assert instance.output == expected\n\n\n@pytest.mark.parametrize(\&quot;bctype,supports_b\&quot;, [\n    ('invalid', True),\n    ('CODE128', False),\n])\ndef test_lacks_support(bctype, supports_b):\n    \&quot;\&quot;\&quot;should raise an error if the barcode type is not supported.\n    \&quot;\&quot;\&quot;\n    profile = Profile(features={BARCODE_B: supports_b})\n    instance = printer.Dummy(profile=profile)\n    with pytest.raises(BarcodeTypeError):\n        instance.barcode('test', bctype)\n\n    assert instance.output == b''\n\n\n@pytest.mark.parametrize(\&quot;bctype,data\&quot;, [\n    ('EAN13', 'AA'),\n    ('CODE128', '{D2354AA'),\n])\ndef test_code_check(bctype, data):\n    \&quot;\&quot;\&quot;should raise an error if the barcode code is invalid.\n    \&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    with pytest.raises(BarcodeCodeError):\n        instance.barcode(data, bctype)\n\n    assert instance.output == b''\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:5103487404884939000,&quot;string&quot;:&quot;5,103,487,404,884,939,000&quot;}}},{&quot;rowIdx&quot;:48,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\nimport escpos.printer as printer\nfrom escpos.exceptions import CashDrawerError\nimport pytest\n\n\ndef test_raise_CashDrawerError():\n    \&quot;\&quot;\&quot;should raise an error if the sequence is invalid.\n    \&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    with pytest.raises(CashDrawerError):\n        # call with sequence that is too long\n        instance.cashdraw([1,1,1,1,1,1])\n\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-5764068517118490000,&quot;string&quot;:&quot;-5,764,068,517,118,490,000&quot;}}},{&quot;rowIdx&quot;:49,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;from nose.tools import assert_raises\nfrom escpos.printer import Dummy\n\n\ndef test_line_spacing_code_gen():\n    printer = Dummy()\n    printer.line_spacing(10)\n    assert printer.output == b'\\x1b3\\n'\n\n\ndef test_line_spacing_rest():\n    printer = Dummy()\n    printer.line_spacing()\n    assert printer.output == b'\\x1b2'\n\n\ndef test_line_spacing_error_handling():\n    printer = Dummy()\n    with assert_raises(ValueError):\n        printer.line_spacing(99, divisor=44)\n    with assert_raises(ValueError):\n        printer.line_spacing(divisor=80, spacing=86)\n    with assert_raises(ValueError):\n        printer.line_spacing(divisor=360, spacing=256)\n    with assert_raises(ValueError):\n        printer.line_spacing(divisor=180, spacing=256)\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:5316616200875841000,&quot;string&quot;:&quot;5,316,616,200,875,841,000&quot;}}},{&quot;rowIdx&quot;:50,&quot;cells&quot;:{&quot;text&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;#!/usr/bin/python\n\&quot;\&quot;\&quot;tests for line display\n\n:author: `Patrick Kanzler <patrick.kanzler@fablab.fau.de>`_\n:organization: `python-escpos <https://github.com/python-escpos>`_\n:copyright: Copyright (c) 2017 `python-escpos <https://github.com/python-escpos>`_\n:license: MIT\n\&quot;\&quot;\&quot;\n\n\nimport escpos.printer as printer\n\n\ndef test_function_linedisplay_select_on():\n    \&quot;\&quot;\&quot;test the linedisplay_select function (activate)\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.linedisplay_select(select_display=True)\n    assert(instance.output == b'\\x1B\\x3D\\x02')\n\ndef test_function_linedisplay_select_off():\n    \&quot;\&quot;\&quot;test the linedisplay_select function (deactivate)\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.linedisplay_select(select_display=False)\n    assert(instance.output == b'\\x1B\\x3D\\x01')\n\ndef test_function_linedisplay_clear():\n    \&quot;\&quot;\&quot;test the linedisplay_clear function\&quot;\&quot;\&quot;\n    instance = printer.Dummy()\n    instance.linedisplay_clear()\n    assert(instance.output == b'\\x1B\\x40')\n\n&quot;},&quot;repo_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;python-escpos/python-escpos&quot;},&quot;stars&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;535&quot;},&quot;repo_language&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;Python&quot;},&quot;file_name&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;constants.rst&quot;},&quot;mime_type&quot;:{&quot;kind&quot;:&quot;string&quot;,&quot;value&quot;:&quot;text/plain&quot;},&quot;hash&quot;:{&quot;kind&quot;:&quot;number&quot;,&quot;value&quot;:-3669681068453013500,&quot;string&quot;:&quot;-3,669,681,068,453,013,500&quot;}}}],&quot;truncated&quot;:true},&quot;paginationData&quot;:{&quot;pageIndex&quot;:0,&quot;numItemsPerPage&quot;:100,&quot;numTotalItems&quot;:35559527,&quot;offset&quot;:0,&quot;length&quot;:100}},&quot;jwt&quot;:&quot;eyJhbGciOiJFZERTQSJ9.eyJyZWFkIjp0cnVlLCJwZXJtaXNzaW9ucyI6eyJyZXBvLmNvbnRlbnQucmVhZCI6dHJ1ZX0sImlhdCI6MTc0MjkyMzAxNiwic3ViIjoiL2RhdGFzZXRzL3RldmVuL2dpdGh1Yl9hbGxfbGFuZ19maWx0ZXJlZCIsImV4cCI6MTc0MjkyNjYxNiwiaXNzIjoiaHR0cHM6Ly9odWdnaW5nZmFjZS5jbyJ9.NpIEdjxEktfyrS_wmOTdLpSnm8_XnZZ-NUCkFJdccvWgplikrZHZ9hY1Ky3rmItJIdQCYsboht5yLr6u7q5FBQ&quot;,&quot;displayUrls&quot;:true},&quot;dataset&quot;:&quot;teven/github_all_lang_filtered&quot;,&quot;isGated&quot;:false,&quot;isPrivate&quot;:false,&quot;hasParquetFormat&quot;:true,&quot;author&quot;:{&quot;_id&quot;:&quot;5e67bed6100906368940747b&quot;,&quot;avatarUrl&quot;:&quot;https://cdn-avatars.huggingface.co/v1/production/uploads/1583858339980-5e67bed6100906368940747b.jpeg&quot;,&quot;fullname&quot;:&quot;Teven Le Scao&quot;,&quot;name&quot;:&quot;teven&quot;,&quot;type&quot;:&quot;user&quot;,&quot;isPro&quot;:false,&quot;isHf&quot;:false,&quot;isHfAdmin&quot;:false,&quot;isMod&quot;:false,&quot;followerCount&quot;:64},&quot;compact&quot;:true}"><div class="flex flex-col overflow-hidden shadow-xs mx-auto mb-10 rounded-lg border pt-2  px-2.5"><div class="mb-2 flex flex-wrap items-center gap-2"><div class="mr-auto flex items-center"><svg class="mr-1 flex-none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
	<div class="whitespace-nowrap font-semibold">Dataset Viewer</div>
	</div>
				<a href="/datasets/teven/github_all_lang_filtered/tree/refs%2Fconvert%2Fparquet/default" class="group mr-1 text-xs text-gray-400 max-sm:hidden"><svg class="text-[.6rem] mr-1 inline -translate-y-px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M12 10H6.78A11 11 0 0 1 27 16h2A13 13 0 0 0 6 7.68V4H4v8h8zm8 12h5.22A11 11 0 0 1 5 16H3a13 13 0 0 0 23 8.32V28h2v-8h-8z"></path></svg>
						<span class="underline decoration-gray-300 group-hover:decoration-gray-400 dark:decoration-gray-500 dark:group-hover:decoration-gray-300">Auto-converted</span> to Parquet
					</a>
				<button class="btn shadow-xs flex cursor-pointer items-center rounded-sm border px-1 py-0.5 text-xs font-normal text-gray-700 hover:text-gray-800 hover:shadow-inner dark:hover:text-gray-200"><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" style="transform: rotate(360deg);"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg>API</button>
					<button class="btn shadow-xs flex cursor-pointer items-center rounded-sm border px-1 py-0.5 text-xs font-normal text-gray-700 hover:text-gray-800 hover:shadow-inner dark:hover:text-gray-200"><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path d="M9.80603 2.86737H3.56107C3.37704 2.86737 3.20055 2.94048 3.07042 3.0706C2.94029 3.20073 2.86719 3.37723 2.86719 3.56126V9.80622C2.86719 9.99025 2.94029 10.1667 3.07042 10.2969C3.20055 10.427 3.37704 10.5001 3.56107 10.5001H9.80603C9.99006 10.5001 10.1666 10.427 10.2967 10.2969C10.4268 10.1667 10.4999 9.99025 10.4999 9.80622V3.56126C10.4999 3.37723 10.4268 3.20073 10.2967 3.0706C10.1666 2.94048 9.99006 2.86737 9.80603 2.86737Z" fill="currentColor" fill-opacity="0.3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.40942 1.66191C2.05175 1.66191 1.7618 1.95186 1.7618 2.30953V6.76191H1.43799V2.30953C1.43799 1.77303 1.87291 1.3381 2.40942 1.3381H6.45704V1.66191H2.40942Z" fill="currentColor"></path></svg>Embed</button>

					<button class="bg-linear-to-b shadow-xs flex items-center gap-1.5 rounded-full border from-white to-red-100/90 px-2 py-0.5 text-xs font-medium text-[#2D3648] transition-shadow hover:shadow-inner dark:from-gray-900 dark:to-red-800/30 dark:text-gray-100 dark:hover:shadow-inner dark:hover:shadow-red-800/30" ><svg class="h-3.5 w-3.5 text-red-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>
						<span>Data Studio</span></button></div>
		<div class="flex flex-1 flex-col overflow-hidden -mx-2.5"><div class="flex flex-1 flex-col overflow-hidden"><div class="flex min-h-0 flex-1"><div class="flex flex-1 flex-col overflow-hidden"><div class="md:-mx-2.5 flex min-w-0 flex-wrap border-t"><div class="flex min-w-0 flex-1 flex-wrap"><div class="grid flex-1 grid-cols-1 overflow-hidden text-sm md:grid-cols-2 md:place-content-center sm:mx-2.5"><label class="relative block flex-1 px-3 py-2 hover:bg-gray-50 dark:border-gray-850 dark:hover:bg-gray-950 md:border-r md:border-r-0 hidden" title="default"><span class="text-gray-500">Subset (1)</span>
			<div class="flex items-center whitespace-nowrap"><span class="truncate">default</span>
				<span class="mx-2 text-gray-500">·</span>
					<span class="text-gray-500">35.6M rows</span>
				<svg class="ml-auto min-w-6 pl-2" width="1em" height="1em" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L6 6L11 1" stroke="currentColor"></path></svg></div>
			<select class="absolute inset-0 z-10 w-full cursor-pointer border-0 bg-white text-base opacity-0"><optgroup label="Subset (1)"><option value="default" selected>default (35.6M rows)</option></optgroup></select></label>
		<label class="relative block flex-1 px-3 py-2 hover:bg-gray-50 dark:border-gray-850 dark:hover:bg-gray-900 md:border-r md:border-r" title="train"><div class="text-gray-500">Split (1)</div>
				<div class="flex items-center overflow-hidden whitespace-nowrap"><span class="truncate">train</span>
					<span class="mx-2 text-gray-500">·</span>
						<span class="text-gray-500">35.6M rows</span>
					<svg class="ml-auto min-w-6 pl-2" width="1em" height="1em" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L6 6L11 1" stroke="currentColor"></path></svg></div>
				<select class="absolute inset-0 z-10 w-full cursor-pointer border-0 bg-white text-base opacity-0"><optgroup label="Split (1)"><option value="train" selected>train (35.6M rows)</option></optgroup></select></label></div></div>
								</div>

							<div class="flex min-h-0 flex-1 flex-col ">
	<div class="bg-linear-to-r text-smd relative flex items-center dark:border-gray-900 dark:bg-gray-950 false border-t [&amp;:has(:focus)]:from-gray-50 [&amp;:has(:focus)]:to-transparent [&amp;:has(:focus)]:to-20% dark:[&amp;:has(:focus)]:from-gray-900"><form class="flex-1"><svg class="absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M30 28.59L22.45 21A11 11 0 1 0 21 22.45L28.59 30zM5 14a9 9 0 1 1 9 9a9 9 0 0 1-9-9z" fill="currentColor"></path></svg>
				<input disabled class="outline-hidden h-9 w-full border-none bg-transparent px-1 pl-9 pr-3 placeholder:text-gray-400 " placeholder="Search this dataset" dir="auto"></form>
			<div class="flex items-center gap-2 px-2 py-1"><button type="button" class="hover:bg-yellow-200/70 flex items-center gap-1 rounded-md border border-yellow-200 bg-yellow-100 pl-0.5 pr-1 text-[.8rem] leading-normal text-gray-700 dark:border-orange-500/25 dark:bg-orange-500/20 dark:text-gray-300 dark:hover:brightness-110 hidden"><div class="rounded-sm bg-yellow-300 px-1 font-mono text-[.7rem] font-bold text-black dark:bg-yellow-700 dark:text-gray-200">SQL
	</div>
	Console
</button></div></div>


<div class="flex flex-1 flex-col overflow-hidden min-h-64 border-t">
		

<div class="max-h-96 relative overflow-auto"><table class="w-full table-auto rounded-lg font-mono text-xs text-gray-900"><thead class="shadow-xs sticky left-0 right-0 top-0 z-1 bg-white align-top"><tr class="space-y-54 h-full min-w-fit divide-x border-b text-left"><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">text
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="0" width="11.2" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="13.2" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="26.4" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="39.599999999999994" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="52.8" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="79.19999999999999" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="92.39999999999999" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="105.6" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="118.8" y="25" width="11.2" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="12.2" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="25.4" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="38.599999999999994" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="51.8" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="78.19999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="91.39999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="104.6" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="117.8" y="0" width="13.2" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">101</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">200k</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">repo_name
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="19.54675877655392" width="11.2" height="10.453241223446081" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="13.2" y="0" width="11.2" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="26.4" y="4.525189452408274" width="11.2" height="25.474810547591726" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="39.599999999999994" y="15.104637142574223" width="11.2" height="14.895362857425777" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="52.8" y="23.09171768241893" width="11.2" height="6.908282317581067" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="79.19999999999999" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="92.39999999999999" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="105.6" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="118.8" y="25" width="11.2" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="12.2" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="25.4" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="38.599999999999994" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="51.8" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="78.19999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="91.39999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="104.6" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="117.8" y="0" width="13.2" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">5</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">73</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">stars
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="0" width="31" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="33" y="17.13982836489526" width="31" height="12.860171635104743" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="24.73826256026428" width="31" height="5.261737439735721" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="99" y="25" width="31" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="33" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="32" y="0" width="33" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="33" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="98" y="0" width="33" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">3</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">6</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">repo_language
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="0" width="14.5" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="16.5" y="7.093591244251716" width="14.5" height="22.906408755748284" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="33" y="23.53036786634658" width="14.5" height="6.469632133653418" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="49.5" y="17.340420003194485" width="14.5" height="12.659579996805515" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="25" width="14.5" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="82.5" y="25" width="14.5" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="99" y="26" width="14.5" height="4" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="115.5" y="25" width="14.5" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="15.5" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="32" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="48.5" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="81.5" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="98" y="0" width="16.5" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="114.5" y="0" width="16.5" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">1</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">24</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">file_name
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">lengths</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="0" y="19.420639371845205" width="11.2" height="10.579360628154795" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="13.2" y="0" width="11.2" height="30" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="26.4" y="4.514061373287397" width="11.2" height="25.485938626712603" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="39.599999999999994" y="14.889912667254226" width="11.2" height="15.110087332745774" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="52.8" y="22.0952648024998" width="11.2" height="7.9047351975002" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="66" y="24.11473439628235" width="11.2" height="5.8852656037176505" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="79.19999999999999" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="92.39999999999999" y="24.21504687124429" width="11.2" height="5.784953128755709" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="105.6" y="25" width="11.2" height="5" fill-opacity="1"></rect><rect class="fill-gray-400 dark:fill-gray-500/80" rx="2" x="118.8" y="25" width="11.2" height="5" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="12.2" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="25.4" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="38.599999999999994" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="51.8" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="78.19999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="91.39999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="104.6" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="117.8" y="0" width="13.2" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">2</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">57</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">mime_type
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>string</span><span class="italic text-gray-400 before:mx-1 before:content-['·']">classes</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><defs><clipPath id="rounded-bar"><rect x="0" y="0" width="130" height="8" rx="4"></rect></clipPath><pattern id="hatching" patternUnits="userSpaceOnUse" patternTransform="rotate(-45)" height="1" width="5"><line y1="0" class="stroke-gray-400 dark:stroke-gray-500/80" stroke-width="3" y2="1" x1="2" x2="2"></line></pattern><pattern id="hatching-faded" patternUnits="userSpaceOnUse" patternTransform="rotate(-45)" height="1" width="5"><line y1="0" class="stroke-gray-100 dark:stroke-gray-500/20" stroke-width="3" y2="1" x1="2" x2="2"></line></pattern></defs><g height="8" style="transform: translateY(20px)" clip-path="url(#rounded-bar)"><g style="transform: scaleX(1.0153846153846153) translateX(-1px)"><g><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="1" y="0" width="66.54374362517686" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="69.54374362517686" y="0" width="12.310422356024961" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="83.85416598120182" y="0" width="8.6787089132366" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="94.53287489443842" y="0" width="8.627238728215927" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="105.16011362265435" y="0" width="7.025817348292918" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="114.18593097094727" y="0" width="1.9723291547395783" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="118.15826012568685" y="0" width="1.6392700073481832" height="8" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" x="121.79753013303504" y="0" width="1.1663431272551792" height="8" fill-opacity="1"></rect></g></g></g><g style="transform: scaleX(1.0153846153846153) translateX(-1px)"><g><rect class="fill-white cursor-pointer" x="0" y="0" width="68.54374362517686" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="68.54374362517686" y="0" width="14.310422356024961" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="82.85416598120182" y="0" width="10.6787089132366" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="93.53287489443842" y="0" width="10.627238728215927" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="104.16011362265435" y="0" width="9.025817348292918" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="113.18593097094727" y="0" width="3.9723291547395783" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="117.15826012568685" y="0" width="3.639270007348183" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="120.79753013303504" y="0" width="3.166343127255179" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="123.96387326029021" y="0" width="1.9456015091194245" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="125.90947476940964" y="0" width="1.8867173362287368" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="127.79619210563838" y="0" width="0.8471906908388993" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="128.64338279647728" y="0" width="0.5901249191151471" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.23350771559242" y="0" width="0.1904824575834348" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.42399017317587" y="0" width="0.18720319371785168" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.61119336689373" y="0" width="0.16467607672819398" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.77586944362193" y="0" width="0.11078208798078504" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.88665153160272" y="0" width="0.038067976178725364" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.92471950778145" y="0" width="0.03635705590102984" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.96107656368247" y="0" width="0.029655951480055717" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.99073251516253" y="0" width="0.008554601388477611" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.99928711655102" y="0" width="0.0004277300694238805" height="28" fill-opacity="0"></rect><rect class="fill-white cursor-pointer" x="129.99971484662044" y="0" width="0.0002851533796159203" height="28" fill-opacity="0"></rect></g></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 max-w-full overflow-hidden text-ellipsis whitespace-nowrap">22
				values</div></div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th><th class="h-full max-w-sm p-2 text-left  relative w-auto"><div class="flex h-full flex-col flex-nowrap justify-between"><div><div class="flex items-center justify-between">hash
				<form class="flex flex-col"><button id="asc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="-rotate-180 transform text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button>
						<button id="desc" class="-mr-1 ml-2 h-[0.4rem] w-[0.8rem] transition ease-in-out"><svg class="text-gray-300 hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 64 256 128" fill="currentColor" aria-hidden="true"><path d="M213.65674,101.657l-80,79.99976a7.99945,7.99945,0,0,1-11.31348,0l-80-79.99976A8,8,0,0,1,48,88H208a8,8,0,0,1,5.65674,13.657Z"></path></svg></button></form></div>

			<div class="mb-2 whitespace-nowrap text-xs font-normal text-gray-500"><span>int64</span></div></div>

		<div><div class="" style="height: 40px; padding-top: 2px"><svg width="130" height="28"><g><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="0" y="0.32554138948468747" width="11.2" height="29.674458610515313" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="13.2" y="0" width="11.2" height="30" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="26.4" y="0.19589099262904597" width="11.2" height="29.804109007370954" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="39.599999999999994" y="0.1576752642982342" width="11.2" height="29.842324735701766" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="52.8" y="0.29440264788180315" width="11.2" height="29.705597352118197" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="66" y="0.1452197676570819" width="11.2" height="29.854780232342918" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="79.19999999999999" y="0.18117086023495688" width="11.2" height="29.818829139765043" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="92.39999999999999" y="0.19645715156728016" width="11.2" height="29.80354284843272" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="105.6" y="0.18202009864230817" width="11.2" height="29.817979901357692" fill-opacity="1"></rect><rect class="fill-indigo-500 dark:fill-indigo-600/80" rx="2" x="118.8" y="0.21259268130695474" width="11.2" height="29.787407318693045" fill-opacity="1"></rect></g><rect class="fill-white dark:fill-gray-900" x="0" y="26" width="130" height="2" stroke-opacity="1"></rect><line class="stroke-gray-100 dark:stroke-gray-500/20" x1="0" y1="27.5" x2="130" y2="27.5" stroke-opacity="1"></line><g><rect class="fill-indigo-500 cursor-pointer" x="-1" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="12.2" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="25.4" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="38.599999999999994" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="51.8" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="65" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="78.19999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="91.39999999999999" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="104.6" y="0" width="13.2" height="30" fill-opacity="0"></rect><rect class="fill-indigo-500 cursor-pointer" x="117.8" y="0" width="13.2" height="30" fill-opacity="0"></rect></g></svg>
	<div class="relative font-light text-gray-400" style="height: 10px; width: 130px;"><div class="absolute left-0 overflow-hidden text-ellipsis whitespace-nowrap" style="max-width: 60px">-9,223,369,786,400,666,000</div>
			<div class="absolute overflow-hidden text-ellipsis whitespace-nowrap" style="right: 0px; max-width: 60px">9,223,339,290B</div>
			</div></div></div></div>
	<div class="absolute right-0 top-0 z-10 h-full w-1 cursor-col-resize hover:bg-indigo-100 active:bg-indigo-500 dark:hover:bg-indigo-800 dark:active:bg-indigo-600/80"><div class="absolute right-0 top-0 h-full w-1"></div>
								</div>
						</th></tr></thead>
			<tbody class="h-16 overflow-scroll"><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="0"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">include *.rst
include *.txt
include LICENSE
include INSTALL
include tox.ini
include capabilities-data/dist/capabilities.json
include src/escpos/capabilities.json
recursive-include doc *.bat
recursive-include doc *.ico
recursive-include doc *.py
recursive-include doc *.rst
recursive-include doc *.txt
recursive-include doc Makefile
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">8,751,525,123,829,401,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="1"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/env python

import os
import sys
from setuptools import find_packages, setup


base_dir = os.path.dirname(__file__)
src_dir = os.path.join(base_dir, "src")

# When executing the setup.py, we need to be able to import ourselves, this
# means that we need to add the src/ directory to the sys.path.
sys.path.insert(0, src_dir)


def read(fname):
    """read file from same path as setup.py"""
    return open(os.path.join(os.path.dirname(__file__), fname)).read()


setuptools_scm_template = """\
# coding: utf-8
# file generated by setuptools_scm
# don't change, don't track in version control

version = '{version}'
"""


setup(
    use_scm_version={
        "write_to": "src/escpos/version.py",
        "write_to_template": setuptools_scm_template,
    },
    platforms="any",
    package_dir={"": "src"},
    packages=find_packages(where="src", exclude=["tests", "tests.*"]),
    package_data={"escpos": ["capabilities.json"]},
    entry_points={"console_scripts": ["python-escpos = escpos.cli:main"]},
)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-8,966,421,625,955,614,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="2"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">*********
Changelog
*********
2020-05-12 - Version 3.0a8 - "Only Slightly Bent"
-------------------------------------------------
This release is the ninth alpha release of the new version 3.0.
Please be aware that the API is subject to change until v3.0 is
released.

This release drops support for Python 2, requiring at least
version 3.5 of Python.

changes
^^^^^^^
- Drop support for Python 2 and mark in setuptools as only supporting 3.5 and upwards
- remove landscape.io badge
- replace viivakoodi with python-barcode which is maintained
- add configuration for Visual Studio Code
- use pkg_resources for the retrieval of the capabilities.json

contributors
^^^^^^^^^^^^
- Romain Porte
- Patrick Kanzler

2020-05-09 - Version 3.0a7 - "No Fixed Abode"
---------------------------------------------
This release is the eight alpha release of the new version 3.0.
Please be aware that the API is subject to change until v3.0
is released.

This release also marks the point at which the project transitioned
to having only a master-branch (and not an additional development branch).

changes
^^^^^^^
- add Exception for NotImplementedError in detach_kernel_driver
- update installation information
- update and improve documentation
- add error handling to image centering flag
- update and fix tox and CI environment, preparing drop of support for Python 2

contributors
^^^^^^^^^^^^
- Alexander Bougakov
- Brian
- Yaisel Hurtado
- Maximilan Wagenbach
- Patrick Kanzler

2019-06-19 - Version 3.0a6 - "Mistake not..."
---------------------------------------------
This release is the seventh alpha release of the new version 3.0.
Please be aware that the API is subject to change until v3.0 is
released.

changes
^^^^^^^
- fix inclusion of the capabilities-file
- execute CI jobs also on Windows and macOS-targets
- improve documentation

contributors
^^^^^^^^^^^^
- Patrick Kanzler

2019-06-16 - Version 3.0a5 - "Lightly Seared On The Reality Grill"
------------------------------------------------------------------
This release is the sixth alpha release of the new version 3.0. Please
be aware that the API is subject to change until v3.0 is released.

changes
^^^^^^^
- allow arbitrary USB arguments in USB-class
- add Win32Raw-Printer on Windows-platforms
- add and improve Windows support of USB-class
- use pyyaml safe_load()
- improve doc
- implement _read method of Network printer class

contributors
^^^^^^^^^^^^
- Patrick Kanzler
- Gerard Marull-Paretas
- Ramon Poca
- akeonly
- Omer Akram
- Justin Vieira

2018-05-15 - Version 3.0a4 - "Kakistocrat"
------------------------------------------
This release is the fifth alpha release of the new version 3.0. Please
be aware that the API will still change until v3.0 is released.

changes
^^^^^^^
- raise exception when TypeError occurs in cashdraw (#268)
- Feature/clear content in dummy printer (#271)
- fix is_online() (#282)
- improve documentation
- Modified submodule to always pull from master branch (#283)
- parameter for implementation of nonnative qrcode (#289)
- improve platform independence (#296)

contributors
^^^^^^^^^^^^
- Christoph Heuel
- Patrick Kanzler
- kennedy
- primax79
- reck31
- Thijs Triemstra

2017-10-08 - Version 3.0a3 - "Just Testing"
-------------------------------------------
This release is the fourth alpha release of the new version 3.0. Please
be aware that the API will still change until v3.0 is released.

changes
^^^^^^^
- minor changes in documentation, tests and examples
- pickle capabilities for faster startup
- first implementation of centering images and QR
- check barcodes based on regex

contributors
^^^^^^^^^^^^
- Patrick Kanzler
- Lucy Linder
- Romain Porte
- Sergio Pulgarin

2017-08-04 - Version 3.0a2 - "It's My Party And I'll Sing If I Want To"
-----------------------------------------------------------------------
This release is the third alpha release of the new version 3.0. Please
be aware that the API will still change until v3.0 is released.

changes
^^^^^^^
- refactor of the set-method
- preliminary support of POS "line display" printing
- improvement of tests
- added ImageWidthError
- list authors in repository
- add support for software-based barcode-rendering
- fix SerialException when trying to close device on __del__
- added the DLE EOT querying command for USB and Serial
- ensure QR codes have a large enough border
- make feed for cut optional
- fix the behavior of horizontal tabs
- added test script for hard an soft barcodes
- implemented paper sensor querying command
- added weather forecast example script
- added a method for simpler newlines

contributors
^^^^^^^^^^^^
- csoft2k
- Patrick Kanzler
- mrwunderbar666
- Romain Porte
- Ahmed Tahri

2017-03-29 - Version 3.0a1 - "Headcrash"
----------------------------------------
This release is the second alpha release of the new version 3.0. Please
be aware that the API will still change until v3.0 is released.

changes
^^^^^^^
- automatically upload releases to GitHub
- add environment variable ESCPOS_CAPABILITIES_FILE
- automatically handle cases where full cut or partial cut is not available
- add print_and_feed

contributors
^^^^^^^^^^^^
- Sam Cheng
- Patrick Kanzler
- Dmytro Katyukha

2017-01-31 - Version 3.0a - "Grey Area"
---------------------------------------
This release is the first alpha release of the new version 3.0. Please
be aware that the API will still change until v3.0 is released.

changes
^^^^^^^
- change the project's license to MIT in accordance with the contributors (see python-escpos/python-escpos#171)
- feature: add "capabilities" which are shared with escpos-php, capabilities are stored in
  `escpos-printer-db &lt;https://github.com/receipt-print-hq/escpos-printer-db>`_
- feature: the driver tries now to guess the appropriate codepage and sets it automatically (called "magic encode")
- as an alternative you can force the codepage with the old API
- updated and improved documentation
- changed constructor of main class due to introduction of capablities
- changed interface of method `blocktext`, changed behavior of multiple methods, for details refer to the documentation
  on `python-escpos.readthedocs.io &lt;https://python-escpos.readthedocs.io>`_
- add support for custom cash drawer sequence
- enforce flake8 on the src-files, test py36 and py37 on travis

contributors
^^^^^^^^^^^^
- Michael Billington
- Michael Elsdörfer
- Patrick Kanzler (with code by Frédéric Van der Essen)
- Asuki Kono
- Benito López
- Curtis // mashedkeyboard
- Thijs Triemstra
- ysuolmai

2016-08-26 - Version 2.2.0 - "Fate Amenable To Change"
------------------------------------------------------

changes
^^^^^^^
- fix improper API-use in qrcode()
- change setup.py shebang to make it compatible with virtualenvs.
- add constants for sheet mode and colors
- support changing the linespacing

contributors
^^^^^^^^^^^^
- Michael Elsdörfer
- Patrick Kanzler

2016-08-10 - Version 2.1.3 - "Ethics Gradient"
----------------------------------------------

changes
^^^^^^^
- configure readthedocs and travis
- update doc with hint on image preprocessing
- add fix for printing large images (by splitting them into multiple images)

contributors
^^^^^^^^^^^^
- Patrick Kanzler

2016-08-02 - Version 2.1.2 - "Death and Gravity"
------------------------------------------------

changes
^^^^^^^
- fix File-printer: flush after every call of _raw()
- fix lists in documentation
- fix CODE128: by adding the control character to the barcode-selection-sequence the barcode became unusable

contributors
^^^^^^^^^^^^
- Patrick Kanzler

2016-08-02 - Version 2.1.1 - "Contents May Differ"
--------------------------------------------------

changes
^^^^^^^
- rename variable interface in USB-class to timeout
- add support for hypothesis and move pypy3 to the allowed failures (pypy3 is not supported by hypothesis)

contributors
^^^^^^^^^^^^
- Patrick Kanzler
- Renato Lorenzi

2016-07-23 - Version 2.1.0 - "But Who's Counting?"
--------------------------------------------------

changes
^^^^^^^
- packaging: configured the coverage-analysis codecov.io
- GitHub: improved issues-template
- documentation: add troubleshooting tip to network-interface
- the module, cli and documentation is now aware of the version of python-escpos
- the cli does now support basic tabcompletion

contributors
^^^^^^^^^^^^
- Patrick Kanzler

2016-06-24 - Version 2.0.0 - "Attitude Adjuster"
------------------------------------------------

This version is based on the original version of python-escpos by Manuel F Martinez. However, many contributions have
greatly improved the old codebase. Since this version does not completely match the interface of the version published
on PyPi and has many improvements, it will be released as version 2.0.0.

changes
^^^^^^^
- refactor complete code in order to be compatible with Python 2 and 3
- modernize packaging
- add testing and CI
- merge various forks into codebase, fixing multiple issues with barcode-, QR-printing, cashdraw and structure
- improve the documentation
- extend support of barcode-codes to type B
- add function to disable panel-buttons
- the text-functions are now intended for unicode, the driver will automatically encode the string based on the selected
  codepage
- the image-functions are now much more flexible
- added a CLI
- restructured the constants

contributors
^^^^^^^^^^^^
- Thomas van den Berg
- Michael Billington
- Nate Bookham
- Davis Goglin
- Christoph Heuel
- Patrick Kanzler
- Qian LinFeng

2016-01-24 - Version 1.0.9
--------------------------

- fix constant definition for PC1252
- move documentation to Sphinx

2015-10-27 - Version 1.0.8
--------------------------

- Merge pull request #59 from zouppen/master
    - Support for images vertically longer than 256 pixels
    - Sent by Joel Lehtonen &lt;joel.lehtonen@koodilehto.fi>
- Updated README

2015-08-22 - Version 1.0.7
--------------------------

- Issue #57: Fixed transparent images

2015-07-06 - Version 1.0.6
--------------------------

- Merge pull request #53 from ldos/master
    - Extended params for serial printers
    - Sent by ldos &lt;cafeteria.ldosalzira@gmail.com>

2015-04-21 - Version 1.0.5
--------------------------

- Merge pull request #45 from Krispy2009/master
    - Raising the right error when wrong charcode is used
    - Sent by Kristi &lt;Krispy2009@gmail.com>

2014-05-20 - Version 1.0.4
--------------------------

- Issue #20: Added Density support (Sent by thomas.erbacher@ragapack.de)
- Added charcode tables
- Fixed Horizontal Tab
- Fixed code tabulators

2014-02-23 - Version 1.0.3
--------------------------

- Issue #18: Added quad-area characters (Sent by syncman1x@gmail.com)
- Added exception for PIL import

2013-12-30 - Version 1.0.2
--------------------------

- Issue #5: Fixed vertical tab
- Issue #9: Fixed identation inconsistence

2013-03-14 - Version 1.0.1
--------------------------

- Issue #8: Fixed set font
- Added QR support

2012-11-15 - Version 1.0
------------------------

- Issue #2: Added ethernet support
- Issue #3: Added compatibility with libusb-1.0.1
- Issue #4: Fixed typo in escpos.py
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">7,764,559,013,503,989,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="3"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">[metadata]
name = python-escpos
url = https://github.com/python-escpos/python-escpos
description = Python library to manipulate ESC/POS Printers
long_description = file: README.rst
license = MIT
license_file = LICENSE
author = Manuel F Martinez and others
author_email = dev@pkanzler.de
maintainer = Patrick Kanzler
maintainer_email = dev@pkanzler.de
keywords = ESC/POS, thermoprinter, voucher printer, printing, receipt
classifiers =
    Development Status :: 4 - Beta
    Environment :: Console
    Intended Audience :: Developers
    License :: OSI Approved :: MIT License
    Operating System :: OS Independent
    Programming Language :: Python
    Programming Language :: Python :: 3
    Programming Language :: Python :: 3.5
    Programming Language :: Python :: 3.6
    Programming Language :: Python :: 3.7
    Programming Language :: Python :: 3.8
    Programming Language :: Python :: Implementation :: CPython
    Topic :: Software Development :: Libraries :: Python Modules
    Topic :: Office/Business :: Financial :: Point-Of-Sale
project_urls =
    Bug Tracker = https://github.com/python-escpos/python-escpos/issues
    Documentation = https://python-escpos.readthedocs.io/en/latest/
    Release Notes = https://github.com/python-escpos/python-escpos/releases

[options]
python_requires = >=3.5
zip_safe = false
include_package_data = true
install_requires =
    pyusb>=1.0.0
    Pillow>=2.0
    qrcode>=4.0
    pyserial
    python-barcode>=0.9.1,&lt;1
    setuptools
    six
    appdirs
    PyYAML
    argparse
    argcomplete
    future
    viivakoodi>=0.8
setup_requires = setuptools_scm
tests_require =
    jaconv
    tox
    pytest!=3.2.0,!=3.3.0
    pytest-cov
    pytest-mock
    nose
    scripttest
    mock
    hypothesis>4
    flake8
    sphinxcontrib-spelling>=5

[nosetests]
verbosity=3
with-doctest=1

[flake8]
exclude = .git,.tox,.github,.eggs,__pycache__,doc/conf.py,build,dist,capabilities-data,test,src/escpos/constants.py
max-line-length = 120
# future-imports = absolute_import, division, print_function, unicode_literals  # we are not there yet
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-2,162,109,519,123,499,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="4"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">formats:
  - pdf
  - epub
requirements_file: doc/requirements.txt
python:
  version: 3
  setup_py_install: true</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-2,597,302,186,761,692,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="5"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#############################################################
python-escpos - Python library to manipulate ESC/POS Printers
#############################################################

.. image:: https://travis-ci.org/python-escpos/python-escpos.svg?branch=master
    :target: https://travis-ci.org/python-escpos/python-escpos
    :alt: Continous Integration

.. image:: https://codecov.io/github/python-escpos/python-escpos/coverage.svg?branch=master
    :target: https://codecov.io/github/python-escpos/python-escpos?branch=master
    :alt: Code Coverage

.. image:: https://readthedocs.org/projects/python-escpos/badge/?version=latest
    :target: https://python-escpos.readthedocs.io/en/latest/?badge=latest
    :alt: Documentation Status


Description
-----------

Python ESC/POS is a library which lets the user have access to all those printers handled
by ESC/POS commands, as defined by Epson, from a Python application.

The library tries to implement the functions provided by the ESC/POS-commandset and supports sending text, images,
barcodes and qr-codes to the printer.

Text can be aligned/justified and fonts can be changed by size, type and weight.

Also, this module handles some hardware functionalities like cutting paper, control characters, printer reset
and similar functions.

Since supported commands differ from printer to printer the software tries to automatically apply the right
settings for the printer that you set. These settings are handled by
`escpos-printer-db &lt;https://github.com/receipt-print-hq/escpos-printer-db>`_ which is also used in
`escpos-php &lt;https://github.com/mike42/escpos-php>`_.

Dependencies
------------

This library makes use of:

* `pyusb &lt;https://github.com/walac/pyusb>`_ for USB-printers
* `Pillow &lt;https://github.com/python-pillow/Pillow>`_ for image printing
* `qrcode &lt;https://github.com/lincolnloop/python-qrcode>`_ for the generation of QR-codes
* `pyserial &lt;https://github.com/pyserial/pyserial>`_ for serial printers
* `python-barcode &lt;https://github.com/WhyNotHugo/python-barcode>`_ for the generation of barcodes

Documentation and Usage
-----------------------

The basic usage is:

.. code:: python

    from escpos.printer import Usb

    """ Seiko Epson Corp. Receipt Printer (EPSON TM-T88III) """
    p = Usb(0x04b8, 0x0202, 0, profile="TM-T88III")
    p.text("Hello World\n")
    p.image("logo.gif")
    p.barcode('1324354657687', 'EAN13', 64, 2, '', '')
    p.cut()


Another example based on the Network printer class:

.. code:: python

    from escpos.printer import Network

    kitchen = Network("192.168.1.100") #Printer IP Address
    kitchen.text("Hello World\n")
    kitchen.barcode('1324354657687', 'EAN13', 64, 2, '', '')
    kitchen.cut()

Another example based on the Serial printer class:

.. code:: python

    from escpos.printer import Serial

    """ 9600 Baud, 8N1, Flow Control Enabled """
    p = Serial(devfile='/dev/tty.usbserial',
               baudrate=9600,
               bytesize=8,
               parity='N',
               stopbits=1,
               timeout=1.00,
               dsrdtr=True)

    p.text("Hello World\n")
    p.qr("You can readme from your smartphone")
    p.cut()


The full project-documentation is available on `Read the Docs &lt;https://python-escpos.readthedocs.io>`_.

Contributing
------------

This project is open for any contribution! Please see `CONTRIBUTING.rst &lt;https://python-escpos.readthedocs.io/en/latest/dev/contributing.html>`_ for more information.


Disclaimer
----------

None of the vendors cited in this project agree or endorse any of the patterns or implementations.
Its names are used only to maintain context.
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-8,243,748,922,724,695,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="6"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">[tox]
envlist = py35, py36, py37, py38, docs, flake8

[gh-actions]
python =
    2.7: py27
    3.6: py36
    3.7: py37
    3.8: py38

[testenv]
deps = nose
       jaconv
       coverage
       scripttest
       mock
       pytest!=3.2.0,!=3.3.0
       pytest-cov
       pytest-mock
       hypothesis>4
       python-barcode
commands = pytest --cov escpos
passenv = ESCPOS_CAPABILITIES_PICKLE_DIR ESCPOS_CAPABILITIES_FILE CI TRAVIS TRAVIS_* APPVEYOR APPVEYOR_* CODECOV_*

[testenv:docs]
basepython = python
changedir = doc
deps = sphinx>=1.5.1
       setuptools_scm
       python-barcode
       sphinxcontrib-spelling>=5
commands = sphinx-build -W -b html -d {envtmpdir}/doctrees .  {envtmpdir}/html

[testenv:flake8]
basepython = python
# TODO add flake8-future
# TODO add flake8-docstrings
deps = flake8
commands = flake8
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-7,474,916,700,184,312,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="7"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos
=============

This library is available over pypi. So for most of the use-cases it should be sufficient to run

```
pip install python-escpos --user  # add --pre if you want to install pre-releases
```

For more information please read the documentation at https://python-escpos.readthedocs.io/en/latest/user/installation.html
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">3,373,681,124,774,981,600</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="8"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">************
Contributing
************

This project is open to any kind of contribution. You can help with improving the documentation, adding fixes to the
code, providing test cases in code or as a description or just spreading the word. Please feel free to create an
issue or pull request.
In order to reduce the amount of work for everyone please try to adhere to good practice.

The pull requests and issues will be prefilled with templates. Please fill in your information where applicable.

This project uses `semantic versioning &lt;https://semver.org/>`_ and tries to adhere to the proposed rules as
well as possible.

Author-list
-----------

This project keeps a list of authors. This can be auto-generated by calling `./doc/generate-authors.sh`.
When contributing the first time, please include a commit with the output of this script in place.
Otherwise the integration-check will fail.

When you change your username or mail-address, please also update the `.mailmap` and the authors-list.
You can find a good documentation on the mapping-feature in the `documentation of git-shortlog &lt;https://git-scm.com/docs/git-shortlog#_mapping_authors>`_.

Style-Guide
-----------

When writing code please try to stick to these rules.

PEP8
^^^^
The entire codebase adheres to the rules of PEP8.
These rules are enforced by running `flake8` in the integration-checks.
Please adhere to these rules as your contribution can only be merged if the check succeeds.
You can use flake8 or similar tools locally in order to check your code.
Apart from that the travis-log and the check by Landscape will provide you with hints.

GIT
^^^
The master-branch contains the main development of the project. A release to PyPi is marked with a tag
corresponding to the version. Issues are closed when they have been resolved by merging into the master-branch.
When you have a change to make, begin by creating a new branch from the HEAD of `python-escpos/master`.

Please try to group your commits into logical units. If you need to tidy up your branch, you can make use of a
git feature called an 'interactive rebase' before making a pull request. A small, self-contained change-set is
easier to review, and improves the chance of your code being merged.
Please also make sure that before creating your PR, your branch is rebased on a recent commit or you merged a recent
commit into your branch. This way you can ensure that your PR is without merge conflicts.

Docstrings
^^^^^^^^^^
This project tries to have a good documentation.
Please add a docstring to every method and class. Have a look at existing methods and classes for the style.
We use basically standard rst-docstrings for Sphinx.

Test
^^^^
Try to write tests whenever possible. Our goal for the future is 100% coverage.
We are currently using `nose` but might change in the future.
You can copy the structure from other testcases. Please remember to adapt the docstrings.

Further reading
^^^^^^^^^^^^^^^
For further best practices and hints on contributing please see the
`contribution-guide &lt;https://www.contribution-guide.org/>`_. Should there be any contradictions between this guide
and the linked one, please stick to this text.
Aside from that feel free to create an issue or write an email if anything is unclear.

Thank you for your contribution!
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-7,853,292,627,905,224,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="9"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">&lt;!--
Please feel free to delete any sections that aren't relevant.
-->

&lt;!-- mark with x between the [ ] -->
I have:
- [ ] searched open and closed issues for duplicates

### Bug description

### Steps to reproduce
- add your steps here
- as a list
- using hyphens

### Device info
&lt;!-- Replace examples with your info -->
 **Printer:** Manufacturer Model XVI

&lt;!-- since version 2.0.1 you can type 'python-escpos version' in your shell.
Alternatively you could use '__version__' in module escpos. -->
 **python-escpos version:** 0.0.0

 **python version:** 0.0

 **operating system:**
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">2,115,569,181,461,870,300</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="10"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">### Contributor checklist
&lt;!-- mark with x between the brackets -->
- [ ] I have read the CONTRIBUTING.rst
- [ ] I have tested my contribution on these devices:
 * e.g. Epson TM-T88II
- [ ] My contribution is ready to be merged as is

----------

### Description
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">2,569,003,023,291,297,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="11"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class=""># This workflow will install Python dependencies, run tests and lint with a variety of Python versions
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Python package

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.5, 3.6, 3.7, 3.8]

    steps:
    - uses: actions/checkout@v2
      with:
        submodules: 'recursive'
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v1
      with:
        python-version: ${{ matrix.python-version }}
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install flake8 pytest tox tox-gh-actions
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
    - name: Lint with flake8
      run: |
        # stop the build if there are Python syntax errors or undefined names
        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
        # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide
        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
    - name: Test with tox
      run: |
        tox
      env:
        ESCPOS_CAPABILITIES_FILE: /home/runner/work/python-escpos/python-escpos/capabilities-data/dist/capabilities.json
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-2,989,410,340,655,484,400</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="12"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">""" ESC/POS configuration manager.

This module contains the implementations of abstract base class :py:class:`Config`.

"""


import os
import appdirs
import yaml

from . import printer
from . import exceptions


class Config(object):
    """  Configuration handler class.

    This class loads configuration from a default or specificed directory. It
    can create your defined printer and return it to you.
    """
    _app_name = 'python-escpos'
    _config_file = 'config.yaml'

    def __init__(self):
        """ Initialize configuration.

        Remember to add anything that needs to be reset between configurations
        to self._reset_config
        """
        self._has_loaded = False
        self._printer = None

        self._printer_name = None
        self._printer_config = None

    def _reset_config(self):
        """ Clear the loaded configuration.

        If we are loading a changed config, we don't want to have leftover
        data.
        """
        self._has_loaded = False
        self._printer = None

        self._printer_name = None
        self._printer_config = None

    def load(self, config_path=None):
        """ Load and parse the configuration file using pyyaml

        :param config_path: An optional file path, file handle, or byte string
            for the configuration file.

        """

        self._reset_config()

        if not config_path:
            config_path = os.path.join(
                appdirs.user_config_dir(self._app_name),
                self._config_file
            )

        try:
            # First check if it's file like. If it is, pyyaml can load it.
            # I'm checking type instead of catching exceptions to keep the
            # exception handling simple
            if hasattr(config_path, 'read'):
                config = yaml.safe_load(config_path)
            else:
                # If it isn't, it's a path. We have to open it first, otherwise
                # pyyaml will try to read it as yaml
                with open(config_path, 'rb') as config_file:
                    config = yaml.safe_load(config_file)
        except EnvironmentError:
            raise exceptions.ConfigNotFoundError('Couldn\'t read config at {config_path}'.format(
                config_path=str(config_path),
            ))
        except yaml.YAMLError:
            raise exceptions.ConfigSyntaxError('Error parsing YAML')

        if 'printer' in config:
            self._printer_config = config['printer']
            self._printer_name = self._printer_config.pop('type').title()

            if not self._printer_name or not hasattr(printer, self._printer_name):
                raise exceptions.ConfigSyntaxError(
                    'Printer type "{printer_name}" is invalid'.format(
                        printer_name=self._printer_name,
                    )
                )

        self._has_loaded = True

    def printer(self):
        """ Returns a printer that was defined in the config, or throws an
        exception.

        This method loads the default config if one hasn't beeen already loaded.

        """
        if not self._has_loaded:
            self.load()

        if not self._printer_name:
            raise exceptions.ConfigSectionMissingError('printer')

        if not self._printer:
            # We could catch init errors and make them a ConfigSyntaxError,
            # but I'll just let them pass
            self._printer = getattr(printer, self._printer_name)(**self._printer_config)

        return self._printer
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-4,319,684,302,181,348,400</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="13"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">""" Image format handling class

This module contains the image format handler :py:class:`EscposImage`.

:author: `Michael Billington &lt;michael.billington@gmail.com>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 Michael Billington &lt;michael.billington@gmail.com>
:license: MIT
"""


import math
from PIL import Image, ImageOps


class EscposImage(object):
    """
    Load images in, and output ESC/POS formats.

    The class is designed to efficiently delegate image processing to
    PIL, rather than spend CPU cycles looping over pixels.
    """

    def __init__(self, img_source):
        """
        Load in an image

        :param img_source: PIL.Image, or filename to load one from.
        """
        if isinstance(img_source, Image.Image):
            img_original = img_source
        else:
            img_original = Image.open(img_source)

        # store image for eventual further processing (splitting)
        self.img_original = img_original

        # Convert to white RGB background, paste over white background
        # to strip alpha.
        img_original = img_original.convert('RGBA')
        im = Image.new("RGB", img_original.size, (255, 255, 255))
        im.paste(img_original, mask=img_original.split()[3])
        # Convert down to greyscale
        im = im.convert("L")
        # Invert: Only works on 'L' images
        im = ImageOps.invert(im)
        # Pure black and white
        self._im = im.convert("1")

    @property
    def width(self):
        """
        Width of image in pixels
        """
        width_pixels, _ = self._im.size
        return width_pixels

    @property
    def width_bytes(self):
        """
        Width of image if you use 8 pixels per byte and 0-pad at the end.
        """
        return (self.width + 7) >> 3

    @property
    def height(self):
        """
        Height of image in pixels
        """
        _, height_pixels = self._im.size
        return height_pixels

    def to_column_format(self, high_density_vertical=True):
        """
        Extract slices of an image as equal-sized blobs of column-format data.

        :param high_density_vertical: Printed line height in dots
        """
        im = self._im.transpose(Image.ROTATE_270).transpose(Image.FLIP_LEFT_RIGHT)
        line_height = 24 if high_density_vertical else 8
        width_pixels, height_pixels = im.size
        top = 0
        left = 0
        while left &lt; width_pixels:
            box = (left, top, left + line_height, top + height_pixels)
            im_slice = im.transform((line_height, height_pixels), Image.EXTENT, box)
            im_bytes = im_slice.tobytes()
            yield(im_bytes)
            left += line_height

    def to_raster_format(self):
        """
        Convert image to raster-format binary
        """
        return self._im.tobytes()

    def split(self, fragment_height):
        """
        Split an image into multiple fragments after fragment_height pixels

        :param fragment_height: height of fragment
        :return: list of PIL objects
        """
        passes = int(math.ceil(self.height/fragment_height))
        fragments = []
        for n in range(0, passes):
            left = 0
            right = self.width
            upper = n * fragment_height
            lower = min((n + 1) * fragment_height, self.height)
            box = (left, upper, right, lower)
            fragments.append(self.img_original.crop(box))
        return fragments

    def center(self, max_width):
        """In-place image centering

        :param: Maximum width in order to deduce x offset for centering
        :return: None
        """
        old_width, height = self._im.size
        new_size = (max_width, height)

        new_im = Image.new("1", new_size)
        paste_x = int((max_width - old_width) / 2)

        new_im.paste(self._im, (paste_x, 0))

        self._im = new_im
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">3,679,809,759,942,773,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="14"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#  -*- coding: utf-8 -*-
"""Helpers to encode Japanese characters.

I doubt that this currently works correctly.
"""


try:
    import jaconv
except ImportError:
    jaconv = None


def encode_katakana(text):
    """I don't think this quite works yet."""
    encoded = []
    for char in text:
        if jaconv:
            # try to convert japanese text to half-katakanas
            char = jaconv.z2h(jaconv.hira2kata(char))
            # TODO: "the conversion may result in multiple characters"
            # If that really can happen (I am not really shure), than the string would have to be split and every single
            #  character has to passed through the following lines.

        if char in TXT_ENC_KATAKANA_MAP:
            encoded.append(TXT_ENC_KATAKANA_MAP[char])
        else:
            # TODO doesn't this discard all that is not in the map? Can we be sure that the input does contain only
            # encodable characters? We could at least throw an exception if encoding is not possible.
            pass
    return b"".join(encoded)


TXT_ENC_KATAKANA_MAP = {
    # Maps UTF-8 Katakana symbols to KATAKANA Page Codes
    # TODO: has this really to be hardcoded?

    # Half-Width Katakanas
    '｡': b'\xa1',
    '｢': b'\xa2',
    '｣': b'\xa3',
    '､': b'\xa4',
    '･': b'\xa5',
    'ｦ': b'\xa6',
    'ｧ': b'\xa7',
    'ｨ': b'\xa8',
    'ｩ': b'\xa9',
    'ｪ': b'\xaa',
    'ｫ': b'\xab',
    'ｬ': b'\xac',
    'ｭ': b'\xad',
    'ｮ': b'\xae',
    'ｯ': b'\xaf',
    'ｰ': b'\xb0',
    'ｱ': b'\xb1',
    'ｲ': b'\xb2',
    'ｳ': b'\xb3',
    'ｴ': b'\xb4',
    'ｵ': b'\xb5',
    'ｶ': b'\xb6',
    'ｷ': b'\xb7',
    'ｸ': b'\xb8',
    'ｹ': b'\xb9',
    'ｺ': b'\xba',
    'ｻ': b'\xbb',
    'ｼ': b'\xbc',
    'ｽ': b'\xbd',
    'ｾ': b'\xbe',
    'ｿ': b'\xbf',
    'ﾀ': b'\xc0',
    'ﾁ': b'\xc1',
    'ﾂ': b'\xc2',
    'ﾃ': b'\xc3',
    'ﾄ': b'\xc4',
    'ﾅ': b'\xc5',
    'ﾆ': b'\xc6',
    'ﾇ': b'\xc7',
    'ﾈ': b'\xc8',
    'ﾉ': b'\xc9',
    'ﾊ': b'\xca',
    'ﾋ': b'\xcb',
    'ﾌ': b'\xcc',
    'ﾍ': b'\xcd',
    'ﾎ': b'\xce',
    'ﾏ': b'\xcf',
    'ﾐ': b'\xd0',
    'ﾑ': b'\xd1',
    'ﾒ': b'\xd2',
    'ﾓ': b'\xd3',
    'ﾔ': b'\xd4',
    'ﾕ': b'\xd5',
    'ﾖ': b'\xd6',
    'ﾗ': b'\xd7',
    'ﾘ': b'\xd8',
    'ﾙ': b'\xd9',
    'ﾚ': b'\xda',
    'ﾛ': b'\xdb',
    'ﾜ': b'\xdc',
    'ﾝ': b'\xdd',
    'ﾞ': b'\xde',
    'ﾟ': b'\xdf',
}
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">5,904,162,900,573,698,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="15"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">from .capabilities import CAPABILITIES


class CodePageManager:
    """Holds information about all the code pages (as defined
    in escpos-printer-db).
    """

    def __init__(self, data):
        self.data = data

    def get_all(self):
        return self.data.values()

    @staticmethod
    def get_encoding_name(encoding):
        # TODO resolve the encoding alias
        return encoding.upper()

    def get_encoding(self, encoding):
        return self.data[encoding]


CodePages = CodePageManager(CAPABILITIES['encodings'])
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-2,568,347,272,365,227,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="16"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
""" This module contains the implementations of abstract base class :py:class:`Escpos`.

:author: `Manuel F Martinez &lt;manpaz@bashlinux.com>`_ and others
:organization: Bashlinux and `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos
:license: MIT
"""


import serial
import socket
import usb.core
import usb.util

from .escpos import Escpos
from .exceptions import USBNotFoundError


class Usb(Escpos):
    """ USB printer

    This class describes a printer that natively speaks USB.

    inheritance:

    .. inheritance-diagram:: escpos.printer.Usb
        :parts: 1

    """

    def __init__(self, idVendor, idProduct, usb_args=None, timeout=0, in_ep=0x82, out_ep=0x01,
                 *args, **kwargs):  # noqa: N803
        """
        :param idVendor: Vendor ID
        :param idProduct: Product ID
        :param usb_args: Optional USB arguments (e.g. custom_match)
        :param timeout: Is the time limit of the USB operation. Default without timeout.
        :param in_ep: Input end point
        :param out_ep: Output end point
        """
        Escpos.__init__(self, *args, **kwargs)
        self.timeout = timeout
        self.in_ep = in_ep
        self.out_ep = out_ep

        usb_args = usb_args or {}
        if idVendor:
            usb_args['idVendor'] = idVendor
        if idProduct:
            usb_args['idProduct'] = idProduct
        self.open(usb_args)

    def open(self, usb_args):
        """ Search device on USB tree and set it as escpos device.

        :param usb_args: USB arguments
        """
        self.device = usb.core.find(**usb_args)
        if self.device is None:
            raise USBNotFoundError("Device not found or cable not plugged in.")

        self.idVendor = self.device.idVendor
        self.idProduct = self.device.idProduct

        # pyusb has three backends: libusb0, libusb1 and openusb but
        # only libusb1 backend implements the methods is_kernel_driver_active()
        # and detach_kernel_driver().
        # This helps enable this library to work on Windows.
        if self.device.backend.__module__.endswith("libusb1"):
            check_driver = None

            try:
                check_driver = self.device.is_kernel_driver_active(0)
            except NotImplementedError:
                pass

            if check_driver is None or check_driver:
                try:
                    self.device.detach_kernel_driver(0)
                except NotImplementedError:
                    pass
                except usb.core.USBError as e:
                    if check_driver is not None:
                        print("Could not detatch kernel driver: {0}".format(str(e)))

        try:
            self.device.set_configuration()
            self.device.reset()
        except usb.core.USBError as e:
            print("Could not set configuration: {0}".format(str(e)))

    def _raw(self, msg):
        """ Print any command sent in raw format

        :param msg: arbitrary code to be printed
        :type msg: bytes
        """
        self.device.write(self.out_ep, msg, self.timeout)

    def _read(self):
        """ Reads a data buffer and returns it to the caller. """
        return self.device.read(self.in_ep, 16)

    def close(self):
        """ Release USB interface """
        if self.device:
            usb.util.dispose_resources(self.device)
        self.device = None


class Serial(Escpos):
    """ Serial printer

    This class describes a printer that is connected by serial interface.

    inheritance:

    .. inheritance-diagram:: escpos.printer.Serial
        :parts: 1

    """

    def __init__(self, devfile="/dev/ttyS0", baudrate=9600, bytesize=8, timeout=1,
                 parity=serial.PARITY_NONE, stopbits=serial.STOPBITS_ONE,
                 xonxoff=False, dsrdtr=True, *args, **kwargs):
        """

        :param devfile:  Device file under dev filesystem
        :param baudrate: Baud rate for serial transmission
        :param bytesize: Serial buffer size
        :param timeout:  Read/Write timeout
        :param parity:   Parity checking
        :param stopbits: Number of stop bits
        :param xonxoff:  Software flow control
        :param dsrdtr:   Hardware flow control (False to enable RTS/CTS)
        """
        Escpos.__init__(self, *args, **kwargs)
        self.devfile = devfile
        self.baudrate = baudrate
        self.bytesize = bytesize
        self.timeout = timeout
        self.parity = parity
        self.stopbits = stopbits
        self.xonxoff = xonxoff
        self.dsrdtr = dsrdtr

        self.open()

    def open(self):
        """ Setup serial port and set is as escpos device """
        if self.device is not None and self.device.is_open:
            self.close()
        self.device = serial.Serial(port=self.devfile, baudrate=self.baudrate,
                                    bytesize=self.bytesize, parity=self.parity,
                                    stopbits=self.stopbits, timeout=self.timeout,
                                    xonxoff=self.xonxoff, dsrdtr=self.dsrdtr)

        if self.device is not None:
            print("Serial printer enabled")
        else:
            print("Unable to open serial printer on: {0}".format(str(self.devfile)))

    def _raw(self, msg):
        """ Print any command sent in raw format

        :param msg: arbitrary code to be printed
        :type msg: bytes
        """
        self.device.write(msg)

    def _read(self):
        """ Reads a data buffer and returns it to the caller. """
        return self.device.read(16)

    def close(self):
        """ Close Serial interface """
        if self.device is not None and self.device.is_open:
            self.device.flush()
            self.device.close()


class Network(Escpos):
    """ Network printer

    This class is used to attach to a networked printer. You can also use this in order to attach to a printer that
    is forwarded with ``socat``.

    If you have a local printer on parallel port ``/dev/usb/lp0`` then you could start ``socat`` with:

    .. code-block:: none

        socat -u TCP4-LISTEN:4242,reuseaddr,fork OPEN:/dev/usb/lp0

    Then you should be able to attach to port ``4242`` with this class.
    Otherwise the normal usecase would be to have a printer with ethernet interface. This type of printer should
    work the same with this class. For the address of the printer check its manuals.

    inheritance:

    .. inheritance-diagram:: escpos.printer.Network
        :parts: 1

    """

    def __init__(self, host, port=9100, timeout=60, *args, **kwargs):
        """

        :param host:    Printer's hostname or IP address
        :param port:    Port to write to
        :param timeout: timeout in seconds for the socket-library
        """
        Escpos.__init__(self, *args, **kwargs)
        self.host = host
        self.port = port
        self.timeout = timeout
        self.open()

    def open(self):
        """ Open TCP socket with ``socket``-library and set it as escpos device """
        self.device = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.device.settimeout(self.timeout)
        self.device.connect((self.host, self.port))

        if self.device is None:
            print("Could not open socket for {0}".format(self.host))

    def _raw(self, msg):
        """ Print any command sent in raw format

        :param msg: arbitrary code to be printed
        :type msg: bytes
        """
        self.device.sendall(msg)

    def _read(self):
        """ Read data from the TCP socket """

        return self.device.recv(16)

    def close(self):
        """ Close TCP connection """
        if self.device is not None:
            self.device.shutdown(socket.SHUT_RDWR)
            self.device.close()


class File(Escpos):
    """ Generic file printer

    This class is used for parallel port printer or other printers that are directly attached to the filesystem.
    Note that you should stay away from using USB-to-Parallel-Adapter since they are unreliable
    and produce arbitrary errors.

    inheritance:

    .. inheritance-diagram:: escpos.printer.File
        :parts: 1

    """

    def __init__(self, devfile="/dev/usb/lp0", auto_flush=True, *args, **kwargs):
        """

        :param devfile: Device file under dev filesystem
        :param auto_flush: automatically call flush after every call of _raw()
        """
        Escpos.__init__(self, *args, **kwargs)
        self.devfile = devfile
        self.auto_flush = auto_flush
        self.open()

    def open(self):
        """ Open system file """
        self.device = open(self.devfile, "wb")

        if self.device is None:
            print("Could not open the specified file {0}".format(self.devfile))

    def flush(self):
        """ Flush printing content """
        self.device.flush()

    def _raw(self, msg):
        """ Print any command sent in raw format

        :param msg: arbitrary code to be printed
        :type msg: bytes
        """
        self.device.write(msg)
        if self.auto_flush:
            self.flush()

    def close(self):
        """ Close system file """
        if self.device is not None:
            self.device.flush()
            self.device.close()


class Dummy(Escpos):
    """ Dummy printer

    This class is used for saving commands to a variable, for use in situations where
    there is no need to send commands to an actual printer. This includes
    generating print jobs for later use, or testing output.

    inheritance:

    .. inheritance-diagram:: escpos.printer.Dummy
        :parts: 1

    """

    def __init__(self, *args, **kwargs):
        """
        """
        Escpos.__init__(self, *args, **kwargs)
        self._output_list = []

    def _raw(self, msg):
        """ Print any command sent in raw format

        :param msg: arbitrary code to be printed
        :type msg: bytes
        """
        self._output_list.append(msg)

    @property
    def output(self):
        """ Get the data that was sent to this printer """
        return b''.join(self._output_list)

    def clear(self):
        """ Clear the buffer of the printer

        This method can be called if you send the contents to a physical printer
        and want to use the Dummy printer for new output.
        """
        del self._output_list[:]

    def close(self):
        pass


_WIN32PRINT = False
try:
    import win32print

    _WIN32PRINT = True
except ImportError:
    pass

if _WIN32PRINT:
    class Win32Raw(Escpos):
        def __init__(self, printer_name=None, *args, **kwargs):
            Escpos.__init__(self, *args, **kwargs)
            if printer_name is not None:
                self.printer_name = printer_name
            else:
                self.printer_name = win32print.GetDefaultPrinter()
            self.hPrinter = None

        def open(self, job_name="python-escpos"):
            if self.printer_name is None:
                raise Exception("Printer not found")
            self.hPrinter = win32print.OpenPrinter(self.printer_name)
            self.current_job = win32print.StartDocPrinter(self.hPrinter, 1, (job_name, None, "RAW"))
            win32print.StartPagePrinter(self.hPrinter)

        def close(self):
            if not self.hPrinter:
                return
            win32print.EndPagePrinter(self.hPrinter)
            win32print.EndDocPrinter(self.hPrinter)
            win32print.ClosePrinter(self.hPrinter)
            self.hPrinter = None

        def _raw(self, msg):
            """ Print any command sent in raw format

            :param msg: arbitrary code to be printed
            :type msg: bytes
            """
            if self.printer_name is None:
                raise Exception("Printer not found")
            if self.hPrinter is None:
                raise Exception("Printer job not opened")
            win32print.WritePrinter(self.hPrinter, msg)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">4,446,486,996,381,703,700</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="17"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">import re
from os import environ, path
import pkg_resources
import pickle
import logging
import time

import six
import yaml

from tempfile import gettempdir
import platform

logging.basicConfig()
logger = logging.getLogger(__name__)

pickle_dir = environ.get('ESCPOS_CAPABILITIES_PICKLE_DIR', gettempdir())
pickle_path = path.join(pickle_dir, '{v}.capabilities.pickle'.format(v=platform.python_version()))
# get a temporary file from pkg_resources if no file is specified in env
capabilities_path = environ.get('ESCPOS_CAPABILITIES_FILE',
                                pkg_resources.resource_filename(__name__, 'capabilities.json'))

# Load external printer database
t0 = time.time()
logger.debug('Using capabilities from file: %s', capabilities_path)
if path.exists(pickle_path):
    if path.getmtime(capabilities_path) > path.getmtime(pickle_path):
        logger.debug('Found a more recent capabilities file')
        full_load = True
    else:
        full_load = False
        logger.debug('Loading capabilities from pickle in %s', pickle_path)
        with open(pickle_path, 'rb') as cf:
            CAPABILITIES = pickle.load(cf)
else:
    logger.debug('Capabilities pickle file not found: %s', pickle_path)
    full_load = True

if full_load:
    logger.debug('Loading and pickling capabilities')
    with open(capabilities_path) as cp, open(pickle_path, 'wb') as pp:
        CAPABILITIES = yaml.safe_load(cp)
        pickle.dump(CAPABILITIES, pp, protocol=2)

logger.debug('Finished loading capabilities took %.2fs', time.time() - t0)


PROFILES = CAPABILITIES['profiles']


class NotSupported(Exception):
    """Raised if a requested feature is not supported by the
    printer profile.
    """
    pass


BARCODE_B = 'barcodeB'


class BaseProfile(object):
    """This represents a printer profile.

    A printer profile knows about the number of columns, supported
    features, colors and more.
    """

    profile_data = {}

    def __getattr__(self, name):
        return self.profile_data[name]

    def get_font(self, font):
        """Return the escpos index for `font`. Makes sure that
        the requested `font` is valid.
        """
        font = {'a': 0, 'b': 1}.get(font, font)
        if not six.text_type(font) in self.fonts:
            raise NotSupported(
                '"{}" is not a valid font in the current profile'.format(font))
        return font

    def get_columns(self, font):
        """ Return the number of columns for the given font.
        """
        font = self.get_font(font)
        return self.fonts[six.text_type(font)]['columns']

    def supports(self, feature):
        """Return true/false for the given feature.
        """
        return self.features.get(feature)

    def get_code_pages(self):
        """Return the support code pages as a ``{name: index}`` dict.
        """
        return {v: k for k, v in self.codePages.items()}


def get_profile(name=None, **kwargs):
    """Get the profile by name; if no name is given, return the
    default profile.
    """
    if isinstance(name, Profile):
        return name

    clazz = get_profile_class(name or 'default')
    return clazz(**kwargs)


CLASS_CACHE = {}


def get_profile_class(name):
    """For the given profile name, load the data from the external
    database, then generate dynamically a class.
    """
    if name not in CLASS_CACHE:
        profile_data = PROFILES[name]
        profile_name = clean(name)
        class_name = '{}{}Profile'.format(
            profile_name[0].upper(), profile_name[1:])
        new_class = type(class_name, (BaseProfile,), {'profile_data': profile_data})
        CLASS_CACHE[name] = new_class

    return CLASS_CACHE[name]


def clean(s):
    # Remove invalid characters
    s = re.sub('[^0-9a-zA-Z_]', '', s)
    # Remove leading characters until we find a letter or underscore
    s = re.sub('^[^a-zA-Z_]+', '', s)
    return str(s)


class Profile(get_profile_class('default')):
    """
    For users, who want to provide their profile
    """

    def __init__(self, columns=None, features=None):
        super(Profile, self).__init__()

        self.columns = columns
        self.features = features or {}

    def get_columns(self, font):
        if self.columns is not None:
            return self.columns

        return super(Profile, self).get_columns(font)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-8,814,734,423,063,138,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="18"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
""" Main class

This module contains the abstract base class :py:class:`Escpos`.

:author: `Manuel F Martinez &lt;manpaz@bashlinux.com>`_ and others
:organization: Bashlinux and `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos
:license: MIT
"""


import qrcode
import textwrap
import six
import time
from re import match as re_match

import barcode
from barcode.writer import ImageWriter

import os

from .constants import ESC, GS, NUL, QR_ECLEVEL_L, QR_ECLEVEL_M, QR_ECLEVEL_H, QR_ECLEVEL_Q
from .constants import QR_MODEL_1, QR_MODEL_2, QR_MICRO, BARCODE_TYPES, BARCODE_HEIGHT, BARCODE_WIDTH
from .constants import BARCODE_FONT_A, BARCODE_FONT_B, BARCODE_FORMATS
from .constants import BARCODE_TXT_OFF, BARCODE_TXT_BTH, BARCODE_TXT_ABV, BARCODE_TXT_BLW
from .constants import TXT_SIZE, TXT_NORMAL
from .constants import SET_FONT
from .constants import LINESPACING_FUNCS, LINESPACING_RESET
from .constants import LINE_DISPLAY_OPEN, LINE_DISPLAY_CLEAR, LINE_DISPLAY_CLOSE
from .constants import CD_KICK_DEC_SEQUENCE, CD_KICK_5, CD_KICK_2, PAPER_FULL_CUT, PAPER_PART_CUT
from .constants import HW_RESET, HW_SELECT, HW_INIT
from .constants import CTL_VT, CTL_CR, CTL_FF, CTL_LF, CTL_SET_HT, PANEL_BUTTON_OFF, PANEL_BUTTON_ON
from .constants import TXT_STYLE
from .constants import RT_STATUS_ONLINE, RT_MASK_ONLINE
from .constants import RT_STATUS_PAPER, RT_MASK_PAPER, RT_MASK_LOWPAPER, RT_MASK_NOPAPER

from .exceptions import BarcodeTypeError, BarcodeSizeError, TabPosError
from .exceptions import CashDrawerError, SetVariableError, BarcodeCodeError
from .exceptions import ImageWidthError

from .magicencode import MagicEncode

from abc import ABCMeta, abstractmethod  # abstract base class support
from escpos.image import EscposImage
from escpos.capabilities import get_profile, BARCODE_B


@six.add_metaclass(ABCMeta)
class Escpos(object):
    """ ESC/POS Printer object

    This class is the abstract base class for an esc/pos-printer. The printer implementations are children of this
    class.
    """
    device = None

    def __init__(self, profile=None, magic_encode_args=None, **kwargs):
        """ Initialize ESCPOS Printer

        :param profile: Printer profile"""
        self.profile = get_profile(profile)
        self.magic = MagicEncode(self, **(magic_encode_args or {}))

    def __del__(self):
        """ call self.close upon deletion """
        self.close()

    @abstractmethod
    def _raw(self, msg):
        """ Sends raw data to the printer

        This function has to be individually implemented by the implementations.

        :param msg: message string to be sent to the printer
        :type msg: bytes
        """
        pass

    def _read(self):
        """ Returns a NotImplementedError if the instance of the class doesn't override this method.
        :raises NotImplementedError
        """
        raise NotImplementedError()

    def image(self, img_source, high_density_vertical=True, high_density_horizontal=True, impl="bitImageRaster",
              fragment_height=960, center=False):
        """ Print an image

        You can select whether the printer should print in high density or not. The default value is high density.
        When printing in low density, the image will be stretched.

        Esc/Pos supplies several commands for printing. This function supports three of them. Please try to vary the
        implementations if you have any problems. For example the printer `IT80-002` will have trouble aligning
        images that are not printed in Column-mode.

        The available printing implementations are:

            * `bitImageRaster`: prints with the `GS v 0`-command
            * `graphics`: prints with the `GS ( L`-command
            * `bitImageColumn`: prints with the `ESC *`-command

        When trying to center an image make sure you have initialized the printer with a valid profile, that
        contains a media width pixel field. Otherwise the centering will have no effect.

        :param img_source: PIL image or filename to load: `jpg`, `gif`, `png` or `bmp`
        :param high_density_vertical: print in high density in vertical direction *default:* True
        :param high_density_horizontal: print in high density in horizontal direction *default:* True
        :param impl: choose image printing mode between `bitImageRaster`, `graphics` or `bitImageColumn`
        :param fragment_height: Images larger than this will be split into multiple fragments *default:* 960
        :param center: Center image horizontally *default:* False

        """
        im = EscposImage(img_source)

        try:
            if self.profile.profile_data['media']['width']['pixels'] == "Unknown":
                print("The media.width.pixel field of the printer profile is not set. " +
                      "The center flag will have no effect.")

            max_width = int(self.profile.profile_data['media']['width']['pixels'])

            if im.width > max_width:
                raise ImageWidthError('{} > {}'.format(im.width, max_width))

            if center:
                im.center(max_width)
        except KeyError:
            # If the printer's pixel width is not known, print anyways...
            pass
        except ValueError:
            # If the max_width cannot be converted to an int, print anyways...
            pass

        if im.height > fragment_height:
            fragments = im.split(fragment_height)
            for fragment in fragments:
                self.image(fragment,
                           high_density_vertical=high_density_vertical,
                           high_density_horizontal=high_density_horizontal,
                           impl=impl,
                           fragment_height=fragment_height)
            return

        if impl == "bitImageRaster":
            # GS v 0, raster format bit image
            density_byte = (0 if high_density_horizontal else 1) + (0 if high_density_vertical else 2)
            header = GS + b"v0" + six.int2byte(density_byte) + self._int_low_high(im.width_bytes, 2) +\
                self._int_low_high(im.height, 2)
            self._raw(header + im.to_raster_format())

        if impl == "graphics":
            # GS ( L raster format graphics
            img_header = self._int_low_high(im.width, 2) + self._int_low_high(im.height, 2)
            tone = b'0'
            colors = b'1'
            ym = six.int2byte(1 if high_density_vertical else 2)
            xm = six.int2byte(1 if high_density_horizontal else 2)
            header = tone + xm + ym + colors + img_header
            raster_data = im.to_raster_format()
            self._image_send_graphics_data(b'0', b'p', header + raster_data)
            self._image_send_graphics_data(b'0', b'2', b'')

        if impl == "bitImageColumn":
            # ESC *, column format bit image
            density_byte = (1 if high_density_horizontal else 0) + (32 if high_density_vertical else 0)
            header = ESC + b"*" + six.int2byte(density_byte) + self._int_low_high(im.width, 2)
            outp = [ESC + b"3" + six.int2byte(16)]  # Adjust line-feed size
            for blob in im.to_column_format(high_density_vertical):
                outp.append(header + blob + b"\n")
            outp.append(ESC + b"2")  # Reset line-feed size
            self._raw(b''.join(outp))

    def _image_send_graphics_data(self, m, fn, data):
        """
        Wrapper for GS ( L, to calculate and send correct data length.

        :param m: Modifier//variant for function. Usually '0'
        :param fn: Function number to use, as byte
        :param data: Data to send
        """
        header = self._int_low_high(len(data) + 2, 2)
        self._raw(GS + b'(L' + header + m + fn + data)

    def qr(self, content, ec=QR_ECLEVEL_L, size=3, model=QR_MODEL_2,
           native=False, center=False, impl="bitImageRaster"):
        """ Print QR Code for the provided string

        :param content: The content of the code. Numeric data will be more efficiently compacted.
        :param ec: Error-correction level to use. One of QR_ECLEVEL_L (default), QR_ECLEVEL_M, QR_ECLEVEL_Q or
            QR_ECLEVEL_H.
            Higher error correction results in a less compact code.
        :param size: Pixel size to use. Must be 1-16 (default 3)
        :param model: QR code model to use. Must be one of QR_MODEL_1, QR_MODEL_2 (default) or QR_MICRO (not supported
            by all printers).
        :param native: True to render the code on the printer, False to render the code as an image and send it to the
            printer (Default)
        :param center: Centers the code *default:* False
        :param impl: Image-printing-implementation, refer to :meth:`.image()` for details
        """
        # Basic validation
        if ec not in [QR_ECLEVEL_L, QR_ECLEVEL_M, QR_ECLEVEL_H, QR_ECLEVEL_Q]:
            raise ValueError("Invalid error correction level")
        if not 1 &lt;= size &lt;= 16:
            raise ValueError("Invalid block size (must be 1-16)")
        if model not in [QR_MODEL_1, QR_MODEL_2, QR_MICRO]:
            raise ValueError("Invalid QR model (must be one of QR_MODEL_1, QR_MODEL_2, QR_MICRO)")
        if content == "":
            # Handle edge case by printing nothing.
            return
        if not native:
            # Map ESC/POS error correction levels to python 'qrcode' library constant and render to an image
            if model != QR_MODEL_2:
                raise ValueError("Invalid QR model for qrlib rendering (must be QR_MODEL_2)")
            python_qr_ec = {
                QR_ECLEVEL_H: qrcode.constants.ERROR_CORRECT_H,
                QR_ECLEVEL_L: qrcode.constants.ERROR_CORRECT_L,
                QR_ECLEVEL_M: qrcode.constants.ERROR_CORRECT_M,
                QR_ECLEVEL_Q: qrcode.constants.ERROR_CORRECT_Q
            }
            qr_code = qrcode.QRCode(version=None, box_size=size, border=1, error_correction=python_qr_ec[ec])
            qr_code.add_data(content)
            qr_code.make(fit=True)
            qr_img = qr_code.make_image()
            im = qr_img._img.convert("RGB")

            # Convert the RGB image in printable image
            self.text('\n')
            self.image(im, center=center, impl=impl)
            self.text('\n')
            self.text('\n')
            return

        if center:
            raise NotImplementedError("Centering not implemented for native QR rendering")

        # Native 2D code printing
        cn = b'1'  # Code type for QR code
        # Select model: 1, 2 or micro.
        self._send_2d_code_data(six.int2byte(65), cn, six.int2byte(48 + model) + six.int2byte(0))
        # Set dot size.
        self._send_2d_code_data(six.int2byte(67), cn, six.int2byte(size))
        # Set error correction level: L, M, Q, or H
        self._send_2d_code_data(six.int2byte(69), cn, six.int2byte(48 + ec))
        # Send content &amp; print
        self._send_2d_code_data(six.int2byte(80), cn, content.encode('utf-8'), b'0')
        self._send_2d_code_data(six.int2byte(81), cn, b'', b'0')

    def _send_2d_code_data(self, fn, cn, data, m=b''):
        """ Wrapper for GS ( k, to calculate and send correct data length.

        :param fn: Function to use.
        :param cn: Output code type. Affects available data.
        :param data: Data to send.
        :param m: Modifier/variant for function. Often '0' where used.
        """
        if len(m) > 1 or len(cn) != 1 or len(fn) != 1:
            raise ValueError("cn and fn must be one byte each.")
        header = self._int_low_high(len(data) + len(m) + 2, 2)
        self._raw(GS + b'(k' + header + cn + fn + m + data)

    @staticmethod
    def _int_low_high(inp_number, out_bytes):
        """ Generate multiple bytes for a number: In lower and higher parts, or more parts as needed.

        :param inp_number: Input number
        :param out_bytes: The number of bytes to output (1 - 4).
        """
        max_input = (256 &lt;&lt; (out_bytes * 8) - 1)
        if not 1 &lt;= out_bytes &lt;= 4:
            raise ValueError("Can only output 1-4 bytes")
        if not 0 &lt;= inp_number &lt;= max_input:
            raise ValueError("Number too large. Can only output up to {0} in {1} bytes".format(max_input, out_bytes))
        outp = b''
        for _ in range(0, out_bytes):
            outp += six.int2byte(inp_number % 256)
            inp_number //= 256
        return outp

    def charcode(self, code="AUTO"):
        """ Set Character Code Table

        Sets the control sequence from ``CHARCODE`` in :py:mod:`escpos.constants` as active. It will be sent with
        the next text sequence. If you set the variable code to ``AUTO`` it will try to automatically guess the
        right codepage. (This is the standard behaviour.)

        :param code: Name of CharCode
        :raises: :py:exc:`~escpos.exceptions.CharCodeError`
        """
        if code.upper() == "AUTO":
            self.magic.force_encoding(False)
        else:
            self.magic.force_encoding(code)

    @staticmethod
    def check_barcode(bc, code):
        """
        This method checks if the barcode is in the proper format.
        The validation concerns the barcode length and the set of characters, but won't compute/validate any checksum.
        The full set of requirement for each barcode type is available in the ESC/POS documentation.

        As an example, using EAN13, the barcode `12345678901` will be correct, because it can be rendered by the
        printer. But it does not suit the EAN13 standard, because the checksum digit is missing. Adding a wrong
        checksum in the end will also be considered correct, but adding a letter won't (EAN13 is numeric only).

        .. todo:: Add a method to compute the checksum for the different standards

        .. todo:: For fixed-length standards with mandatory checksum (EAN, UPC),
            compute and add the checksum automatically if missing.

        :param bc: barcode format, see :py:meth:`.barcode()`
        :param code: alphanumeric data to be printed as bar code, see :py:meth:`.barcode()`
        :return: bool
        """
        if bc not in BARCODE_FORMATS:
            return False

        bounds, regex = BARCODE_FORMATS[bc]
        return any(bound[0] &lt;= len(code) &lt;= bound[1] for bound in bounds) and re_match(regex, code)

    def barcode(self, code, bc, height=64, width=3, pos="BELOW", font="A",
                align_ct=True, function_type=None, check=True):
        """ Print Barcode

        This method allows to print barcodes. The rendering of the barcode is done by the printer and therefore has to
        be supported by the unit. By default, this method will check whether your barcode text is correct, that is
        the characters and lengths are supported by ESCPOS. Call the method with `check=False` to disable the check, but
        note that uncorrect barcodes may lead to unexpected printer behaviour.
        There are two forms of the barcode function. Type A is default but has fewer barcodes,
        while type B has some more to choose from.

        Use the parameters `height` and `width` for adjusting of the barcode size. Please take notice that the barcode
        will not be printed if it is outside of the printable area. (Which should be impossible with this method, so
        this information is probably more useful for debugging purposes.)

        .. todo:: On TM-T88II width from 1 to 6 is accepted. Try to acquire command reference and correct the code.
        .. todo:: Supplying pos does not have an effect for every barcode type. Check and document for which types this
                  is true.

        If you do not want to center the barcode you can call the method with `align_ct=False`, which will disable
        automatic centering. Please note that when you use center alignment, then the alignment of text will be changed
        automatically to centered. You have to manually restore the alignment if necessary.

        .. todo:: If further barcode-types are needed they could be rendered transparently as an image. (This could also
                  be of help if the printer does not support types that others do.)

        :param code: alphanumeric data to be printed as bar code
        :param bc: barcode format, possible values are for type A are:

            * UPC-A
            * UPC-E
            * EAN13
            * EAN8
            * CODE39
            * ITF
            * NW7

            Possible values for type B:

            * All types from function type A
            * CODE93
            * CODE128
            * GS1-128
            * GS1 DataBar Omnidirectional
            * GS1 DataBar Truncated
            * GS1 DataBar Limited
            * GS1 DataBar Expanded

            If none is specified, the method raises :py:exc:`~escpos.exceptions.BarcodeTypeError`.
        :param height: barcode height, has to be between 1 and 255
            *default*: 64
        :type height: int
        :param width: barcode width, has to be between 2 and 6
            *default*: 3
        :type width: int
        :param pos: where to place the text relative to the barcode, *default*: BELOW

            * ABOVE
            * BELOW
            * BOTH
            * OFF

        :param font: select font (see ESC/POS-documentation, the device often has two fonts), *default*: A

            * A
            * B

        :param align_ct: If this parameter is True the barcode will be centered. Otherwise no alignment command will be
                         issued.
        :type align_ct: bool

        :param function_type: Choose between ESCPOS function type A or B,
            depending on printer support and desired barcode. If not given,
            the printer will attempt to automatically choose the correct
            function based on the current profile.
            *default*: A

        :param check: If this parameter is True, the barcode format will be checked to ensure it meets the bc
            requirements as definged in the ESC/POS documentation. See :py:meth:`.check_barcode()`
            for more information. *default*: True.

        :raises: :py:exc:`~escpos.exceptions.BarcodeSizeError`,
                 :py:exc:`~escpos.exceptions.BarcodeTypeError`,
                 :py:exc:`~escpos.exceptions.BarcodeCodeError`
        """
        if function_type is None:
            # Choose the function type automatically.
            if bc in BARCODE_TYPES['A']:
                function_type = 'A'
            else:
                if bc in BARCODE_TYPES['B']:
                    if not self.profile.supports(BARCODE_B):
                        raise BarcodeTypeError((
                            "Barcode type '{bc} not supported for "
                            "the current printer profile").format(bc=bc))
                    function_type = 'B'
                else:
                    raise BarcodeTypeError((
                        "Barcode type '{bc} is not valid").format(bc=bc))

        bc_types = BARCODE_TYPES[function_type.upper()]
        if bc.upper() not in bc_types.keys():
            raise BarcodeTypeError((
                "Barcode '{bc}' not valid for barcode function type "
                "{function_type}").format(
                    bc=bc,
                    function_type=function_type,
                ))

        if check and not self.check_barcode(bc, code):
            raise BarcodeCodeError((
                "Barcode '{code}' not in a valid format for type '{bc}'").format(
                code=code,
                bc=bc,
            ))

        # Align Bar Code()
        if align_ct:
            self._raw(TXT_STYLE['align']['center'])
        # Height
        if 1 &lt;= height &lt;= 255:
            self._raw(BARCODE_HEIGHT + six.int2byte(height))
        else:
            raise BarcodeSizeError("height = {height}".format(height=height))
        # Width
        if 2 &lt;= width &lt;= 6:
            self._raw(BARCODE_WIDTH + six.int2byte(width))
        else:
            raise BarcodeSizeError("width = {width}".format(width=width))
        # Font
        if font.upper() == "B":
            self._raw(BARCODE_FONT_B)
        else:  # DEFAULT FONT: A
            self._raw(BARCODE_FONT_A)
        # Position
        if pos.upper() == "OFF":
            self._raw(BARCODE_TXT_OFF)
        elif pos.upper() == "BOTH":
            self._raw(BARCODE_TXT_BTH)
        elif pos.upper() == "ABOVE":
            self._raw(BARCODE_TXT_ABV)
        else:  # DEFAULT POSITION: BELOW
            self._raw(BARCODE_TXT_BLW)

        self._raw(bc_types[bc.upper()])

        if function_type.upper() == "B":
            self._raw(six.int2byte(len(code)))

        # Print Code
        if code:
            self._raw(code.encode())
        else:
            raise BarcodeCodeError()

        if function_type.upper() == "A":
            self._raw(NUL)

    def soft_barcode(self, barcode_type, data, impl='bitImageColumn',
                     module_height=5, module_width=0.2, text_distance=1,
                     center=True):

        image_writer = ImageWriter()

        # Check if barcode type exists
        if barcode_type not in barcode.PROVIDED_BARCODES:
            raise BarcodeTypeError(
                'Barcode type {} not supported by software barcode renderer'
                .format(barcode_type))

        # Render the barcode to a fake file
        barcode_class = barcode.get_barcode_class(barcode_type)
        my_code = barcode_class(data, writer=image_writer)

        with open(os.devnull, "wb") as nullfile:
            my_code.write(nullfile, {
                'module_height': module_height,
                'module_width': module_width,
                'text_distance': text_distance
            })

        # Retrieve the Pillow image and print it
        image = my_code.writer._image
        self.image(image, impl=impl, center=center)

    def text(self, txt):
        """ Print alpha-numeric text

        The text has to be encoded in the currently selected codepage.
        The input text has to be encoded in unicode.

        :param txt: text to be printed
        :raises: :py:exc:`~escpos.exceptions.TextError`
        """
        txt = six.text_type(txt)
        self.magic.write(txt)

    def textln(self, txt=''):
        """Print alpha-numeric text with a newline

        The text has to be encoded in the currently selected codepage.
        The input text has to be encoded in unicode.

        :param txt: text to be printed with a newline
        :raises: :py:exc:`~escpos.exceptions.TextError`
        """
        self.text('{}\n'.format(txt))

    def ln(self, count=1):
        """Print a newline or more

        :param count: number of newlines to print
        :raises: :py:exc:`ValueError` if count &lt; 0
        """
        if count &lt; 0:
            raise ValueError('Count cannot be lesser than 0')
        if count > 0:
            self.text('\n' * count)

    def block_text(self, txt, font=None, columns=None):
        """ Text is printed wrapped to specified columns

        Text has to be encoded in unicode.

        :param txt: text to be printed
        :param font: font to be used, can be :code:`a` or :code:`b`
        :param columns: amount of columns
        :return: None
        """
        col_count = self.profile.get_columns(font) if columns is None else columns
        self.text(textwrap.fill(txt, col_count))

    def set(self, align='left', font='a', bold=False, underline=0, width=1,
            height=1, density=9, invert=False, smooth=False, flip=False,
            double_width=False, double_height=False, custom_size=False):
        """ Set text properties by sending them to the printer

        :param align: horizontal position for text, possible values are:

            * 'center'
            * 'left'
            * 'right'

            *default*: 'left'

        :param font: font given as an index, a name, or one of the
            special values 'a' or 'b', referring to fonts 0 and 1.
        :param bold: text in bold, *default*: False
        :param underline: underline mode for text, decimal range 0-2,  *default*: 0
        :param double_height: doubles the height of the text
        :param double_width: doubles the width of the text
        :param custom_size: uses custom size specified by width and height
            parameters. Cannot be used with double_width or double_height.
        :param width: text width multiplier when custom_size is used, decimal range 1-8,  *default*: 1
        :param height: text height multiplier when custom_size is used, decimal range 1-8, *default*: 1
        :param density: print density, value from 0-8, if something else is supplied the density remains unchanged
        :param invert: True enables white on black printing, *default*: False
        :param smooth: True enables text smoothing. Effective on 4x4 size text and larger, *default*: False
        :param flip: True enables upside-down printing, *default*: False

        :type font: str
        :type invert: bool
        :type bold: bool
        :type underline: bool
        :type smooth: bool
        :type flip: bool
        :type custom_size: bool
        :type double_width: bool
        :type double_height: bool
        :type align: str
        :type width: int
        :type height: int
        :type density: int
        """

        if custom_size:
            if 1 &lt;= width &lt;= 8 and 1 &lt;= height &lt;= 8 and isinstance(width, int) and\
              isinstance(height, int):
                size_byte = TXT_STYLE['width'][width] + TXT_STYLE['height'][height]
                self._raw(TXT_SIZE + six.int2byte(size_byte))
            else:
                raise SetVariableError()
        else:
            self._raw(TXT_NORMAL)
            if double_width and double_height:
                self._raw(TXT_STYLE['size']['2x'])
            elif double_width:
                self._raw(TXT_STYLE['size']['2w'])
            elif double_height:
                self._raw(TXT_STYLE['size']['2h'])
            else:
                self._raw(TXT_STYLE['size']['normal'])

        self._raw(TXT_STYLE['flip'][flip])
        self._raw(TXT_STYLE['smooth'][smooth])
        self._raw(TXT_STYLE['bold'][bold])
        self._raw(TXT_STYLE['underline'][underline])
        self._raw(SET_FONT(six.int2byte(self.profile.get_font(font))))
        self._raw(TXT_STYLE['align'][align])

        if density != 9:
            self._raw(TXT_STYLE['density'][density])

        self._raw(TXT_STYLE['invert'][invert])

    def line_spacing(self, spacing=None, divisor=180):
        """ Set line character spacing.

        If no spacing is given, we reset it to the default.

        There are different commands for setting the line spacing, using
        a different denominator:

        '+'' line_spacing/360 of an inch, 0 &lt;= line_spacing &lt;= 255
        '3' line_spacing/180 of an inch, 0 &lt;= line_spacing &lt;= 255
        'A' line_spacing/60 of an inch, 0 &lt;= line_spacing &lt;= 85

        Some printers may not support all of them. The most commonly
        available command (using a divisor of 180) is chosen.
        """
        if spacing is None:
            self._raw(LINESPACING_RESET)
            return

        if divisor not in LINESPACING_FUNCS:
            raise ValueError("divisor must be either 360, 180 or 60")
        if (divisor in [360, 180]
                and (not(0 &lt;= spacing &lt;= 255))):
            raise ValueError("spacing must be a int between 0 and 255 when divisor is 360 or 180")
        if divisor == 60 and (not(0 &lt;= spacing &lt;= 85)):
            raise ValueError("spacing must be a int between 0 and 85 when divisor is 60")

        self._raw(LINESPACING_FUNCS[divisor] + six.int2byte(spacing))

    def cut(self, mode='FULL', feed=True):
        """ Cut paper.

        Without any arguments the paper will be cut completely. With 'mode=PART' a partial cut will
        be attempted. Note however, that not all models can do a partial cut. See the documentation of
        your printer for details.

        :param mode: set to 'PART' for a partial cut. default: 'FULL'
        :param feed: print and feed before cutting. default: true
        :raises ValueError: if mode not in ('FULL', 'PART')
        """

        if not feed:
            self._raw(GS + b'V' + six.int2byte(66) + b'\x00')
            return

        self.print_and_feed(6)

        mode = mode.upper()
        if mode not in ('FULL', 'PART'):
            raise ValueError("Mode must be one of ('FULL', 'PART')")

        if mode == "PART":
            if self.profile.supports('paperPartCut'):
                self._raw(PAPER_PART_CUT)
            elif self.profile.supports('paperFullCut'):
                self._raw(PAPER_FULL_CUT)
        elif mode == "FULL":
            if self.profile.supports('paperFullCut'):
                self._raw(PAPER_FULL_CUT)
            elif self.profile.supports('paperPartCut'):
                self._raw(PAPER_PART_CUT)

    def cashdraw(self, pin):
        """ Send pulse to kick the cash drawer

        Kick cash drawer on pin 2 or pin 5 according to default parameter.
        For non default parameter send a decimal sequence i.e. [27,112,48] or [27,112,0,25,255]

        :param pin: pin number, 2 or 5 or list of decimals
        :raises: :py:exc:`~escpos.exceptions.CashDrawerError`
        """
        if pin == 2:
            self._raw(CD_KICK_2)
        elif pin == 5:
            self._raw(CD_KICK_5)
        else:
            try:
                self._raw(CD_KICK_DEC_SEQUENCE(*pin))
            except TypeError as err:
                raise CashDrawerError(err)

    def linedisplay_select(self, select_display=False):
        """ Selects the line display or the printer

        This method is used for line displays that are daisy-chained between your computer and printer.
        If you set `select_display` to true, only the display is selected and if you set it to false,
        only the printer is selected.

        :param select_display: whether the display should be selected or the printer
        :type select_display: bool
        """
        if select_display:
            self._raw(LINE_DISPLAY_OPEN)
        else:
            self._raw(LINE_DISPLAY_CLOSE)

    def linedisplay_clear(self):
        """ Clears the line display and resets the cursor

        This method is used for line displays that are daisy-chained between your computer and printer.
        """
        self._raw(LINE_DISPLAY_CLEAR)

    def linedisplay(self, text):
        """
        Display text on a line display connected to your printer

        You should connect a line display to your printer. You can do this by daisy-chaining
        the display between your computer and printer.

        :param text: Text to display
        """
        self.linedisplay_select(select_display=True)
        self.linedisplay_clear()
        self.text(text)
        self.linedisplay_select(select_display=False)

    def hw(self, hw):
        """ Hardware operations

        :param hw: hardware action, may be:

            * INIT
            * SELECT
            * RESET
        """
        if hw.upper() == "INIT":
            self._raw(HW_INIT)
        elif hw.upper() == "SELECT":
            self._raw(HW_SELECT)
        elif hw.upper() == "RESET":
            self._raw(HW_RESET)
        else:  # DEFAULT: DOES NOTHING
            pass

    def print_and_feed(self, n=1):
        """ Print data in print buffer and feed *n* lines

            if n not in range (0, 255) then ValueError will be raised

            :param n: number of n to feed. 0 &lt;= n &lt;= 255. default: 1
            :raises ValueError: if not 0 &lt;= n &lt;= 255
        """
        if 0 &lt;= n &lt;= 255:
            # ESC d n
            self._raw(ESC + b"d" + six.int2byte(n))
        else:
            raise ValueError("n must be betwen 0 and 255")

    def control(self, ctl, count=5, tab_size=8):
        """ Feed control sequences

        :param ctl: string for the following control sequences:

            * LF *for Line Feed*
            * FF *for Form Feed*
            * CR *for Carriage Return*
            * HT *for Horizontal Tab*
            * VT *for Vertical Tab*

        :param count: integer between 1 and 32, controls the horizontal tab count. Defaults to 5.
        :param tab_size: integer between 1 and 255, controls the horizontal tab size in characters. Defaults to 8
        :raises: :py:exc:`~escpos.exceptions.TabPosError`
        """
        # Set position
        if ctl.upper() == "LF":
            self._raw(CTL_LF)
        elif ctl.upper() == "FF":
            self._raw(CTL_FF)
        elif ctl.upper() == "CR":
            self._raw(CTL_CR)
        elif ctl.upper() == "HT":
            if not (0 &lt;= count &lt;= 32 and
                    1 &lt;= tab_size &lt;= 255 and
                    count * tab_size &lt; 256):
                raise TabPosError()
            else:
                # Set tab positions
                self._raw(CTL_SET_HT)
                for iterator in range(1, count):
                    self._raw(six.int2byte(iterator * tab_size))
                self._raw(NUL)
        elif ctl.upper() == "VT":
            self._raw(CTL_VT)

    def panel_buttons(self, enable=True):
        """ Controls the panel buttons on the printer (e.g. FEED)

        When enable is set to False the panel buttons on the printer will be disabled. Calling the method with
        enable=True or without argument will enable the panel buttons.

        If panel buttons are enabled, the function of the panel button, such as feeding, will be executed upon pressing
        the button. If the panel buttons are disabled, pressing them will not have any effect.

        This command is effective until the printer is initialized, reset or power-cycled. The default is enabled panel
        buttons.

        Some panel buttons will always work, especially when printer is opened. See for more information the manual
        of your printer and the escpos-command-reference.

        :param enable: controls the panel buttons
        :rtype: None
        """
        if enable:
            self._raw(PANEL_BUTTON_ON)
        else:
            self._raw(PANEL_BUTTON_OFF)

    def query_status(self, mode):
        """
        Queries the printer for its status, and returns an array of integers containing it.

        :param mode: Integer that sets the status mode queried to the printer.
            - RT_STATUS_ONLINE: Printer status.
            - RT_STATUS_PAPER: Paper sensor.
        :rtype: array(integer)
        """
        self._raw(mode)
        time.sleep(1)
        status = self._read()
        return status

    def is_online(self):
        """
        Queries the online status of the printer.

        :returns: When online, returns ``True``; ``False`` otherwise.
        :rtype: bool
        """
        status = self.query_status(RT_STATUS_ONLINE)
        if len(status) == 0:
            return False
        return not (status[0] &amp; RT_MASK_ONLINE)

    def paper_status(self):
        """
        Queries the paper status of the printer.

        Returns 2 if there is plenty of paper, 1 if the paper has arrived to
        the near-end sensor and 0 if there is no paper.

        :returns: 2: Paper is adequate. 1: Paper ending. 0: No paper.
        :rtype: int
        """
        status = self.query_status(RT_STATUS_PAPER)
        if len(status) == 0:
            return 2
        if (status[0] &amp; RT_MASK_NOPAPER == RT_MASK_NOPAPER):
            return 0
        if (status[0] &amp; RT_MASK_LOWPAPER == RT_MASK_LOWPAPER):
            return 1
        if (status[0] &amp; RT_MASK_PAPER == RT_MASK_PAPER):
            return 2


class EscposIO(object):
    """ESC/POS Printer IO object

    Allows the class to be used together with the `with`-statement. You have to define a printer instance
    and assign it to the EscposIO class.
    This example explains the usage:

    .. code-block:: Python

        with EscposIO(printer.Serial('/dev/ttyUSB0')) as p:
            p.set(font='a', height=2, align='center', text_type='bold')
            p.printer.set(align='left')
            p.printer.image('logo.gif')
            p.writelines('Big line\\n', font='b')
            p.writelines('Привет')
            p.writelines('BIG TEXT', width=2)

    After the `with`-statement the printer automatically cuts the paper if `autocut` is `True`.
    """

    def __init__(self, printer, autocut=True, autoclose=True, **kwargs):
        """
        :param printer: An EscPos-printer object
        :type printer: escpos.Escpos
        :param autocut: If True, paper is automatically cut after the `with`-statement *default*: True
        :param kwargs: These arguments will be passed to :py:meth:`escpos.Escpos.set()`
        """
        self.printer = printer
        self.params = kwargs
        self.autocut = autocut
        self.autoclose = autoclose

    def set(self, **kwargs):
        """ Set the printer-parameters

        Controls which parameters will be passed to :py:meth:`Escpos.set() &lt;escpos.escpos.Escpos.set()>`.
        For more information on the parameters see the :py:meth:`set() &lt;escpos.escpos.Escpos.set()>`-methods
        documentation. These parameters can also be passed with this class' constructor or the
        :py:meth:`~escpos.escpos.EscposIO.writelines()`-method.

        :param kwargs: keyword-parameters that will be passed to :py:meth:`Escpos.set() &lt;escpos.escpos.Escpos.set()>`
        """
        self.params.update(kwargs)

    def writelines(self, text, **kwargs):
        params = dict(self.params)
        params.update(kwargs)

        if isinstance(text, six.text_type):
            lines = text.split('\n')
        elif isinstance(text, list) or isinstance(text, tuple):
            lines = text
        else:
            lines = ["{0}".format(text), ]

        # TODO check unicode handling
        # TODO flush? or on print? (this should prob rather be handled by the _raw-method)
        for line in lines:
            self.printer.set(**params)
            if isinstance(text, six.text_type):
                self.printer.text(u"{0}\n".format(line))
            else:
                self.printer.text("{0}\n".format(line))

    def close(self):
        """ called upon closing the `with`-statement
        """
        self.printer.close()

    def __enter__(self, **kwargs):
        return self

    def __exit__(self, type, value, traceback):
        """

        If :py:attr:`autocut &lt;escpos.escpos.EscposIO.autocut>` is `True` (set by this class' constructor),
        then :py:meth:`printer.cut() &lt;escpos.escpos.Escpos.cut()>` will be called here.
        """
        if not (type is not None and issubclass(type, Exception)):
            if self.autocut:
                self.printer.cut()

        if self.autoclose:
            self.close()
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">6,429,261,240,211,131,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="19"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
""" Magic Encode

This module tries to convert an UTF-8 string to an encoded string for the printer.
It uses trial and error in order to guess the right codepage.
The code is based on the encoding-code in py-xml-escpos by @fvdsn.

:author: `Patrick Kanzler &lt;dev@pkanzler.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 Patrick Kanzler and Frédéric van der Essen
:license: MIT
"""


from builtins import bytes
from .constants import CODEPAGE_CHANGE
from .exceptions import Error
from .codepages import CodePages
import six


class Encoder(object):
    """Takes a list of available code spaces. Picks the right one for a
    given character.

    Note: To determine the code page, it needs to do the conversion, and
    thus already knows what the final byte in the target encoding would
    be. Nevertheless, the API of this class doesn't return the byte.

    The caller use to do the character conversion itself.

        $ python -m timeit -s "{u'ö':'a'}.get(u'ö')"
        100000000 loops, best of 3: 0.0133 usec per loop

        $ python -m timeit -s "u'ö'.encode('latin1')"
        100000000 loops, best of 3: 0.0141 usec per loop
    """

    def __init__(self, codepage_map):
        self.codepages = codepage_map
        self.available_encodings = set(codepage_map.keys())
        self.available_characters = {}
        self.used_encodings = set()

    def get_sequence(self, encoding):
        return int(self.codepages[encoding])

    def get_encoding_name(self, encoding):
        """Given an encoding provided by the user, will return a
        canonical encoding name; and also validate that the encoding
        is supported.

        TODO: Support encoding aliases: pc437 instead of cp437.
        """
        encoding = CodePages.get_encoding_name(encoding)
        if encoding not in self.codepages:
            raise ValueError((
                'Encoding "{}" cannot be used for the current profile. '
                'Valid encodings are: {}'
                ).format(encoding, ','.join(self.codepages.keys())))
        return encoding

    @staticmethod
    def _get_codepage_char_list(encoding):
        """Get codepage character list

        Gets characters 128-255 for a given code page, as an array.

        :param encoding: The name of the encoding. This must appear in the CodePage list
        """
        codepage = CodePages.get_encoding(encoding)
        if 'data' in codepage:
            encodable_chars = list("".join(codepage['data']))
            assert(len(encodable_chars) == 128)
            return encodable_chars
        elif 'python_encode' in codepage:
            encodable_chars = [u" "] * 128
            for i in range(0, 128):
                codepoint = i + 128
                try:
                    encodable_chars[i] = bytes([codepoint]).decode(codepage['python_encode'])
                except UnicodeDecodeError:
                    # Non-encodable character, just skip it
                    pass
            return encodable_chars
        raise LookupError("Can't find a known encoding for {}".format(encoding))

    def _get_codepage_char_map(self, encoding):
        """ Get codepage character map

        Process an encoding and return a map of UTF-characters to code points
        in this encoding.

        This is generated once only, and returned from a cache.

        :param encoding: The name of the encoding.
        """
        # Skip things that were loaded previously
        if encoding in self.available_characters:
            return self.available_characters[encoding]
        codepage_char_list = self._get_codepage_char_list(encoding)
        codepage_char_map = dict((utf8, i + 128) for (i, utf8) in enumerate(codepage_char_list))
        self.available_characters[encoding] = codepage_char_map
        return codepage_char_map

    def can_encode(self, encoding, char):
        """Determine if a character is encodeable in the given code page.

        :param encoding: The name of the encoding.
        :param char: The character to attempt to encode.
        """
        available_map = {}
        try:
            available_map = self._get_codepage_char_map(encoding)
        except LookupError:
            return False

        # Decide whether this character is encodeable in this code page
        is_ascii = ord(char) &lt; 128
        is_encodable = char in available_map
        return is_ascii or is_encodable

    @staticmethod
    def _encode_char(char, charmap, defaultchar):
        """ Encode a single character with the given encoding map

        :param char: char to encode
        :param charmap: dictionary for mapping characters in this code page
        """
        if ord(char) &lt; 128:
            return ord(char)
        if char in charmap:
            return charmap[char]
        return ord(defaultchar)

    def encode(self, text, encoding, defaultchar='?'):
        """ Encode text under the given encoding

        :param text: Text to encode
        :param encoding: Encoding name to use (must be defined in capabilities)
        :param defaultchar: Fallback for non-encodable characters
        """
        codepage_char_map = self._get_codepage_char_map(encoding)
        output_bytes = bytes([self._encode_char(char, codepage_char_map, defaultchar) for char in text])
        return output_bytes

    def __encoding_sort_func(self, item):
        key, index = item
        return (
            key in self.used_encodings,
            index
        )

    def find_suitable_encoding(self, char):
        """The order of our search is a specific one:

        1. code pages that we already tried before; there is a good
           chance they might work again, reducing the search space,
           and by re-using already used encodings we might also
           reduce the number of codepage change instructiosn we have
           to send. Still, any performance gains will presumably be
           fairly minor.

        2. code pages in lower ESCPOS slots first. Presumably, they
           are more likely to be supported, so if a printer profile
           is missing or incomplete, we might increase our change
           that the code page we pick for this character is actually
           supported.
        """
        sorted_encodings = sorted(
            self.codepages.items(),
            key=self.__encoding_sort_func)

        for encoding, _ in sorted_encodings:
            if self.can_encode(encoding, char):
                # This encoding worked; at it to the set of used ones.
                self.used_encodings.add(encoding)
                return encoding


def split_writable_text(encoder, text, encoding):
    """Splits off as many characters from the begnning of text as
    are writable with "encoding". Returns a 2-tuple (writable, rest).
    """
    if not encoding:
        return None, text

    for idx, char in enumerate(text):
        if encoder.can_encode(encoding, char):
            continue
        return text[:idx], text[idx:]

    return text, None


class MagicEncode(object):
    """A helper that helps us to automatically switch to the right
    code page to encode any given Unicode character.

    This will consider the printers supported codepages, according
    to the printer profile, and if a character cannot be encoded
    with the current profile, it will attempt to find a suitable one.

    If the printer does not support a suitable code page, it can
    insert an error character.
    """
    def __init__(self, driver, encoding=None, disabled=False,
                 defaultsymbol='?', encoder=None):
        """

        :param driver:
        :param encoding: If you know the current encoding of the printer
        when initializing this class, set it here. If the current
        encoding is unknown, the first character emitted will be a
        codepage switch.
        :param disabled:
        :param defaultsymbol:
        :param encoder:
        """
        if disabled and not encoding:
            raise Error('If you disable magic encode, you need to define an encoding!')

        self.driver = driver
        self.encoder = encoder or Encoder(driver.profile.get_code_pages())

        self.encoding = self.encoder.get_encoding_name(encoding) if encoding else None
        self.defaultsymbol = defaultsymbol
        self.disabled = disabled

    def force_encoding(self, encoding):
        """Sets a fixed encoding. The change is emitted right away.

        From now one, this buffer will switch the code page anymore.
        However, it will still keep track of the current code page.
        """
        if not encoding:
            self.disabled = False
        else:
            self.write_with_encoding(encoding, None)
            self.disabled = True

    def write(self, text):
        """Write the text, automatically switching encodings.
        """

        if self.disabled:
            self.write_with_encoding(self.encoding, text)
            return

        # See how far we can go into the text with the current encoding
        to_write, text = split_writable_text(self.encoder, text, self.encoding)
        if to_write:
            self.write_with_encoding(self.encoding, to_write)

        while text:
            # See if any of the code pages that the printer profile
            # supports can encode this character.
            encoding = self.encoder.find_suitable_encoding(text[0])
            if not encoding:
                self._handle_character_failed(text[0])
                text = text[1:]
                continue

            # Write as much text as possible with the encoding found.
            to_write, text = split_writable_text(self.encoder, text, encoding)
            if to_write:
                self.write_with_encoding(encoding, to_write)

    def _handle_character_failed(self, char):
        """Called when no codepage was found to render a character.
        """
        # Writing the default symbol via write() allows us to avoid
        # unnecesary codepage switches.
        self.write(self.defaultsymbol)

    def write_with_encoding(self, encoding, text):
        if text is not None and type(text) is not six.text_type:
            raise Error("The supplied text has to be unicode, but is of type {type}.".format(
                type=type(text)
            ))

        # We always know the current code page; if the new codepage
        # is different, emit a change command.
        if encoding != self.encoding:
            self.encoding = encoding
            self.driver._raw(
                CODEPAGE_CHANGE +
                six.int2byte(self.encoder.get_sequence(encoding)))

        if text:
            self.driver._raw(self.encoder.encode(text, encoding))
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-9,031,240,873,397,623,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="20"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class=""># -*- coding: utf-8 -*-
"""
python-escpos enables you to manipulate escpos-printers
"""

__all__ = ["constants", "escpos", "exceptions", "printer"]

try:
    from .version import version as __version__  # noqa
except ImportError:  # pragma: no cover
    raise ImportError(
        'Failed to find (autogenerated) version.py. '
        'This might be because you are installing from GitHub\'s tarballs, '
        'use the PyPI ones.'
    )
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">7,219,379,503,758,235,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="21"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/env python
# PYTHON_ARGCOMPLETE_OK
""" CLI

This module acts as a command line interface for python-escpos. It mirrors
closely the available ESCPOS commands while adding a couple extra ones for convenience.

It requires you to have a configuration file. See documentation for details.

"""


import argparse
try:
    import argcomplete
except ImportError:
    # this CLI works nevertheless without argcomplete
    pass  # noqa
import sys
import six
from . import config
from . import version


# Must be defined before it's used in DEMO_FUNCTIONS
def str_to_bool(string):
    """ Used as a type in argparse so that we get back a proper
    bool instead of always True
    """
    return string.lower() in ('y', 'yes', '1', 'true')


# A list of functions that work better with a newline to be sent after them.
REQUIRES_NEWLINE = ('qr', 'barcode', 'text', 'block_text')


# Used in demo method
# Key: The name of escpos function and the argument passed on the CLI. Some
#   manual translation is done in the case of barcodes_a -> barcode.
# Value: A list of dictionaries to pass to the escpos function as arguments.
DEMO_FUNCTIONS = {
    'text': [
        {'txt': 'Hello, World!\n', }
    ],
    'qr': [
        {'content': 'This tests a QR code'},
        {'content': 'https://en.wikipedia.org/'}
    ],
    'barcodes_a': [
        {'bc': 'UPC-A', 'code': '13243546576'},
        {'bc': 'UPC-E', 'code': '132435'},
        {'bc': 'EAN13', 'code': '1324354657687'},
        {'bc': 'EAN8', 'code': '1324354'},
        {'bc': 'CODE39', 'code': 'TEST'},
        {'bc': 'ITF', 'code': '55867492279103'},
        {'bc': 'NW7', 'code': 'A00000000A'},
    ],
    'barcodes_b': [
        {'bc': 'UPC-A', 'code': '13243546576', 'function_type': 'B'},
        {'bc': 'UPC-E', 'code': '132435', 'function_type': 'B'},
        {'bc': 'EAN13', 'code': '1324354657687', 'function_type': 'B'},
        {'bc': 'EAN8', 'code': '1324354', 'function_type': 'B'},
        {'bc': 'CODE39', 'code': 'TEST', 'function_type': 'B'},
        {'bc': 'ITF', 'code': '55867492279103', 'function_type': 'B'},
        {'bc': 'NW7', 'code': 'A00000000A', 'function_type': 'B'},
        {'bc': 'CODE93', 'code': 'A00000000A', 'function_type': 'B'},
        {'bc': 'CODE93', 'code': '1324354657687', 'function_type': 'B'},
        {'bc': 'CODE128A', 'code': 'TEST', 'function_type': 'B'},
        {'bc': 'CODE128B', 'code': 'TEST', 'function_type': 'B'},
        {'bc': 'CODE128C', 'code': 'TEST', 'function_type': 'B'},
        {'bc': 'GS1-128', 'code': '00123456780000000001', 'function_type': 'B'},
        {'bc': 'GS1 DataBar Omnidirectional', 'code': '0000000000000', 'function_type': 'B'},
        {'bc': 'GS1 DataBar Truncated', 'code': '0000000000000', 'function_type': 'B'},
        {'bc': 'GS1 DataBar Limited', 'code': '0000000000000', 'function_type': 'B'},
        {'bc': 'GS1 DataBar Expanded', 'code': '00AAAAAAA', 'function_type': 'B'},
    ],
}

# Used to build the CLI
# A list of dictionaries. Each dict is a CLI argument.
# Keys:
# parser: A dict of args for command_parsers.add_parser
# defaults: A dict of args for subparser.set_defaults
# arguments: A list of dicts of args for subparser.add_argument
ESCPOS_COMMANDS = [
    {
        'parser': {
            'name': 'qr',
            'help': 'Print a QR code',
        },
        'defaults': {
            'func': 'qr',
        },
        'arguments': [
            {
                'option_strings': ('--content',),
                'help': 'Text to print as a qr code',
                'required': True,
            },
            {
                'option_strings': ('--size',),
                'help': 'QR code size (1-16) [default:3]',
                'required': False,
                'type': int,
            }
        ],
    },
    {
        'parser': {
            'name': 'barcode',
            'help': 'Print a barcode',
        },
        'defaults': {
            'func': 'barcode',
        },
        'arguments': [
            {
                'option_strings': ('--code',),
                'help': 'Barcode data to print',
                'required': True,
            },
            {
                'option_strings': ('--bc',),
                'help': 'Barcode format',
                'required': True,
            },
            {
                'option_strings': ('--height',),
                'help': 'Barcode height in px',
                'type': int,
            },
            {
                'option_strings': ('--width',),
                'help': 'Barcode width',
                'type': int,
            },
            {
                'option_strings': ('--pos',),
                'help': 'Label position',
                'choices': ['BELOW', 'ABOVE', 'BOTH', 'OFF'],
            },
            {
                'option_strings': ('--font',),
                'help': 'Label font',
                'choices': ['A', 'B'],
            },
            {
                'option_strings': ('--align_ct',),
                'help': 'Align barcode center',
                'type': str_to_bool,
            },
            {
                'option_strings': ('--function_type',),
                'help': 'ESCPOS function type',
                'choices': ['A', 'B'],
            },
        ],
    },
    {
        'parser': {
            'name': 'text',
            'help': 'Print plain text',
        },
        'defaults': {
            'func': 'text',
        },
        'arguments': [
            {
                'option_strings': ('--txt',),
                'help': 'Plain text to print',
                'required': True,
            }
        ],
    },
    {
        'parser': {
            'name': 'block_text',
            'help': 'Print wrapped text',
        },
        'defaults': {
            'func': 'block_text',
        },
        'arguments': [
            {
                'option_strings': ('--txt',),
                'help': 'block_text to print',
                'required': True,
            },
            {
                'option_strings': ('--columns',),
                'help': 'Number of columns',
                'type': int,
            },
        ],
    },
    {
        'parser': {
            'name': 'cut',
            'help': 'Cut the paper',
        },
        'defaults': {
            'func': 'cut',
        },
        'arguments': [
            {
                'option_strings': ('--mode',),
                'help': 'Type of cut',
                'choices': ['FULL', 'PART'],
            },
        ],
    },
    {
        'parser': {
            'name': 'cashdraw',
            'help': 'Kick the cash drawer',
        },
        'defaults': {
            'func': 'cashdraw',
        },
        'arguments': [
            {
                'option_strings': ('--pin',),
                'help': 'Which PIN to kick',
                'choices': [2, 5],
            },
        ],
    },
    {
        'parser': {
            'name': 'image',
            'help': 'Print an image',
        },
        'defaults': {
            'func': 'image',
        },
        'arguments': [
            {
                'option_strings': ('--img_source',),
                'help': 'Path to image',
                'required': True,
            },
            {
                'option_strings': ('--impl',),
                'help': 'Implementation to use',
                'choices': ['bitImageRaster', 'bitImageColumn', 'graphics'],
            },
            {
                'option_strings': ('--high_density_horizontal',),
                'help': 'Image density (horizontal)',
                'type': str_to_bool,
            },
            {
                'option_strings': ('--high_density_vertical',),
                'help': 'Image density (vertical)',
                'type': str_to_bool,
            },

        ],
    },
    {
        'parser': {
            'name': 'fullimage',
            'help': 'Print a fullimage',
        },
        'defaults': {
            'func': 'fullimage',
        },
        'arguments': [
            {
                'option_strings': ('--img',),
                'help': 'Path to img',
                'required': True,
            },
            {
                'option_strings': ('--max_height',),
                'help': 'Max height of image in px',
                'type': int,
            },
            {
                'option_strings': ('--width',),
                'help': 'Max width of image in px',
                'type': int,
            },
            {
                'option_strings': ('--histeq',),
                'help': 'Equalize the histrogram',
                'type': str_to_bool,
            },
            {
                'option_strings': ('--bandsize',),
                'help': 'Size of bands to divide into when printing',
                'type': int,
            },
        ],
    },
    {
        'parser': {
            'name': 'charcode',
            'help': 'Set character code table',
        },
        'defaults': {
            'func': 'charcode',
        },
        'arguments': [
            {
                'option_strings': ('--code',),
                'help': 'Character code',
                'required': True,
            },
        ],
    },
    {
        'parser': {
            'name': 'set',
            'help': 'Set text properties',
        },
        'defaults': {
            'func': 'set',
        },
        'arguments': [
            {
                'option_strings': ('--align',),
                'help': 'Horizontal alignment',
                'choices': ['left', 'center', 'right'],
            },
            {
                'option_strings': ('--font',),
                'help': 'Font choice',
                'choices': ['left', 'center', 'right'],
            },
            {
                'option_strings': ('--text_type',),
                'help': 'Text properties',
                'choices': ['B', 'U', 'U2', 'BU', 'BU2', 'NORMAL'],
            },
            {
                'option_strings': ('--width',),
                'help': 'Width multiplier',
                'type': int,
            },
            {
                'option_strings': ('--height',),
                'help': 'Height multiplier',
                'type': int,
            },
            {
                'option_strings': ('--density',),
                'help': 'Print density',
                'type': int,
            },
            {
                'option_strings': ('--invert',),
                'help': 'White on black printing',
                'type': str_to_bool,
            },
            {
                'option_strings': ('--smooth',),
                'help': 'Text smoothing. Effective on >:  4x4 text',
                'type': str_to_bool,
            },
            {
                'option_strings': ('--flip',),
                'help': 'Text smoothing. Effective on >:  4x4 text',
                'type': str_to_bool,
            },
        ],
    },
    {
        'parser': {
            'name': 'hw',
            'help': 'Hardware operations',
        },
        'defaults': {
            'func': 'hw',
        },
        'arguments': [
            {
                'option_strings': ('--hw',),
                'help': 'Operation',
                'choices': ['INIT', 'SELECT', 'RESET'],
                'required': True,
            },
        ],
    },
    {
        'parser': {
            'name': 'control',
            'help': 'Control sequences',
        },
        'defaults': {
            'func': 'control',
        },
        'arguments': [
            {
                'option_strings': ('--ctl',),
                'help': 'Control sequence',
                'choices': ['LF', 'FF', 'CR', 'HT', 'VT'],
                'required': True,
            },
            {
                'option_strings': ('--pos',),
                'help': 'Horizontal tab position (1-4)',
                'type': int,
            },
        ],
    },
    {
        'parser': {
            'name': 'panel_buttons',
            'help': 'Controls panel buttons',
        },
        'defaults': {
            'func': 'panel_buttons',
        },
        'arguments': [
            {
                'option_strings': ('--enable',),
                'help': 'Feed button enabled',
                'type': str_to_bool,
                'required': True,
            },
        ],
    },
    {
        'parser': {
            'name': 'raw',
            'help': 'Raw data',
        },
        'defaults': {
            'func': '_raw',
        },
        'arguments': [
            {
                'option_strings': ('--msg',),
                'help': 'Raw data to send',
                'required': True,
            },
        ],
    },
]


def main():
    """

    Handles loading of configuration and creating and processing of command
    line arguments. Called when run from a CLI.

    """

    parser = argparse.ArgumentParser(
        description='CLI for python-escpos',
        epilog='Printer configuration is defined in the python-escpos config'
        'file. See documentation for details.',
    )

    parser.register('type', 'bool', str_to_bool)

    # Allow config file location to be passed
    parser.add_argument(
        '-c', '--config',
        help='Alternate path to the configuration file',
    )

    # Everything interesting runs off of a subparser so we can use the format
    # cli [subparser] -args
    command_subparsers = parser.add_subparsers(
        title='ESCPOS Command',
        dest='parser',
    )
    # fix inconsistencies in the behaviour of some versions of argparse
    command_subparsers.required = False   # force 'required' testing

    # Build the ESCPOS command arguments
    for command in ESCPOS_COMMANDS:
        parser_command = command_subparsers.add_parser(**command['parser'])
        parser_command.set_defaults(**command['defaults'])
        for argument in command['arguments']:
            option_strings = argument.pop('option_strings')
            parser_command.add_argument(*option_strings, **argument)

    # Build any custom arguments
    parser_command_demo = command_subparsers.add_parser('demo',
                                                        help='Demonstrates various functions')
    parser_command_demo.set_defaults(func='demo')
    demo_group = parser_command_demo.add_mutually_exclusive_group()
    demo_group.add_argument(
        '--barcodes-a',
        help='Print demo barcodes for function type A',
        action='store_true',
    )
    demo_group.add_argument(
        '--barcodes-b',
        help='Print demo barcodes for function type B',
        action='store_true',
    )
    demo_group.add_argument(
        '--qr',
        help='Print some demo QR codes',
        action='store_true',
    )
    demo_group.add_argument(
        '--text',
        help='Print some demo text',
        action='store_true',
    )

    parser_command_version = command_subparsers.add_parser('version',
                                                           help='Print the version of python-escpos')
    parser_command_version.set_defaults(version=True)

    # hook in argcomplete
    if 'argcomplete' in globals():
        argcomplete.autocomplete(parser)

    # Get only arguments actually passed
    args_dict = vars(parser.parse_args())
    if not args_dict:
        parser.print_help()
        sys.exit()
    command_arguments = dict([k, v] for k, v in six.iteritems(args_dict) if v is not None)

    # If version should be printed, do this, then exit
    print_version = command_arguments.pop('version', None)
    if print_version:
        print(version.version)
        sys.exit()

    # If there was a config path passed, grab it
    config_path = command_arguments.pop('config', None)

    # Load the configuration and defined printer
    saved_config = config.Config()
    saved_config.load(config_path)
    printer = saved_config.printer()

    if not printer:
        raise Exception('No printers loaded from config')

    target_command = command_arguments.pop('func')

    # remove helper-argument 'parser' from dict
    command_arguments.pop('parser', None)

    if hasattr(printer, target_command):
        # print command with args
        getattr(printer, target_command)(**command_arguments)
        if target_command in REQUIRES_NEWLINE:
            printer.text("\n")
    else:
        command_arguments['printer'] = printer
        globals()[target_command](**command_arguments)


def demo(printer, **kwargs):
    """
    Prints demos. Called when CLI is passed `demo`. This function
    uses the DEMO_FUNCTIONS dictionary.

    :param printer: A printer from escpos.printer
    :param kwargs: A dict with a key for each function you want to test. It's
        in this format since it usually comes from argparse.
    """
    for demo_choice in kwargs.keys():
        command = getattr(
            printer,
            demo_choice
            .replace('barcodes_a', 'barcode')
            .replace('barcodes_b', 'barcode')
        )
        for params in DEMO_FUNCTIONS[demo_choice]:
            command(**params)
        printer.cut()


if __name__ == '__main__':
    main()
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-3,533,310,156,973,077,500</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="22"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#  -*- coding: utf-8 -*-
""" ESC/POS Exceptions classes

Result/Exit codes:

    - `0`  = success
    - `10` = No Barcode type defined :py:exc:`~escpos.exceptions.BarcodeTypeError`
    - `20` = Barcode size values are out of range :py:exc:`~escpos.exceptions.BarcodeSizeError`
    - `30` = Barcode text not supplied :py:exc:`~escpos.exceptions.BarcodeCodeError`
    - `40` = Image height is too large :py:exc:`~escpos.exceptions.ImageSizeError`
    - `41` = Image width is too large :py:exc:`~escpos.exceptions.ImageWidthError`
    - `50` = No string supplied to be printed :py:exc:`~escpos.exceptions.TextError`
    - `60` = Invalid pin to send Cash Drawer pulse :py:exc:`~escpos.exceptions.CashDrawerError`
    - `70` = Invalid number of tab positions :py:exc:`~escpos.exceptions.TabPosError`
    - `80` = Invalid char code :py:exc:`~escpos.exceptions.CharCodeError`
    - `90` = USB device not found :py:exc:`~escpos.exceptions.USBNotFoundError`
    - `100` = Set variable out of range :py:exc:`~escpos.exceptions.SetVariableError`
    - `200` = Configuration not found :py:exc:`~escpos.exceptions.ConfigNotFoundError`
    - `210` = Configuration syntax error :py:exc:`~escpos.exceptions.ConfigSyntaxError`
    - `220` = Configuration section not found :py:exc:`~escpos.exceptions.ConfigSectionMissingError`

:author: `Manuel F Martinez &lt;manpaz@bashlinux.com>`_ and others
:organization: Bashlinux and `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos
:license: MIT
"""


class Error(Exception):
    """ Base class for ESC/POS errors """
    def __init__(self, msg, status=None):
        Exception.__init__(self)
        self.msg = msg
        self.resultcode = 1
        if status is not None:
            self.resultcode = status

    def __str__(self):
        return self.msg


class BarcodeTypeError(Error):
    """ No Barcode type defined.

    This exception indicates that no known barcode-type has been entered. The barcode-type has to be
    one of those specified in :py:meth:`escpos.escpos.Escpos.barcode`.
    The returned error code is `10`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 10

    def __str__(self):
        return "No Barcode type is defined ({msg})".format(msg=self.msg)


class BarcodeSizeError(Error):
    """ Barcode size is out of range.

    This exception indicates that the values for the barcode size are out of range.
    The size of the barcode has to be in the range that is specified in :py:meth:`escpos.escpos.Escpos.barcode`.
    The resulting returncode is `20`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 20

    def __str__(self):
        return "Barcode size is out of range ({msg})".format(msg=self.msg)


class BarcodeCodeError(Error):
    """ No Barcode code was supplied, or it is incorrect.

    No data for the barcode has been supplied in :py:meth:`escpos.escpos.Escpos.barcode` or the the `check` parameter
    was True and the check failed.
    The returncode for this exception is `30`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 30

    def __str__(self):
        return "No Barcode code was supplied ({msg})".format(msg=self.msg)


class ImageSizeError(Error):
    """ Image height is longer than 255px and can't be printed.

    The returncode for this exception is `40`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 40

    def __str__(self):
        return "Image height is longer than 255px and can't be printed ({msg})".format(msg=self.msg)


class ImageWidthError(Error):
    """ Image width is too large.

    The return code for this exception is `41`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 41

    def __str__(self):
        return "Image width is too large ({msg})".format(msg=self.msg)


class TextError(Error):
    """ Text string must be supplied to the `text()` method.

    This exception is raised when an empty string is passed to :py:meth:`escpos.escpos.Escpos.text`.
    The returncode for this exception is `50`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 50

    def __str__(self):
        return "Text string must be supplied to the text() method ({msg})".format(msg=self.msg)


class CashDrawerError(Error):
    """ Valid pin must be set in order to send pulse.

    A valid pin number has to be passed onto the method :py:meth:`escpos.escpos.Escpos.cashdraw`.
    The returncode for this exception is `60`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 60

    def __str__(self):
        return "Valid pin must be set to send pulse ({msg})".format(msg=self.msg)


class TabPosError(Error):
    """ Valid tab positions must be set by using from 1 to 32 tabs, and between 1 and 255 tab size values.
    Both values multiplied must not exceed 255, since it is the maximum tab value.

    This exception is raised by :py:meth:`escpos.escpos.Escpos.control`.
    The returncode for this exception is `70`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 70

    def __str__(self):
        return "Valid tab positions must be in the range 0 to 16 ({msg})".format(msg=self.msg)


class CharCodeError(Error):
    """ Valid char code must be set.

    The supplied charcode-name in :py:meth:`escpos.escpos.Escpos.charcode` is unknown.
    Ths returncode for this exception is `80`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 80

    def __str__(self):
        return "Valid char code must be set ({msg})".format(msg=self.msg)


class USBNotFoundError(Error):
    """ Device wasn't found (probably not plugged in)

    The USB device seems to be not plugged in.
    Ths returncode for this exception is `90`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 90

    def __str__(self):
        return "USB device not found ({msg})".format(msg=self.msg)


class SetVariableError(Error):
    """ A set method variable was out of range

    Check set variables against minimum and maximum values
    Ths returncode for this exception is `100`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 100

    def __str__(self):
        return "Set variable out of range ({msg})".format(msg=self.msg)


# Configuration errors

class ConfigNotFoundError(Error):
    """ The configuration file was not found

    The default or passed configuration file could not be read
    Ths returncode for this exception is `200`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 200

    def __str__(self):
        return "Configuration not found ({msg})".format(msg=self.msg)


class ConfigSyntaxError(Error):
    """ The configuration file is invalid

    The syntax is incorrect
    Ths returncode for this exception is `210`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 210

    def __str__(self):
        return "Configuration syntax is invalid ({msg})".format(msg=self.msg)


class ConfigSectionMissingError(Error):
    """ The configuration file is missing a section

    The part of the config asked for doesn't exist in the loaded configuration
    Ths returncode for this exception is `220`.
    """
    def __init__(self, msg=""):
        Error.__init__(self, msg)
        self.msg = msg
        self.resultcode = 220

    def __str__(self):
        return "Configuration section is missing ({msg})".format(msg=self.msg)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-3,009,662,063,839,996,400</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="23"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#  -*- coding: utf-8 -*-
""" Set of ESC/POS Commands (Constants)

This module contains constants that are described in the esc/pos-documentation.
Since there is no definitive and unified specification for all esc/pos-like printers the constants could later be
moved to `capabilities` as in `escpos-php by @mike42 &lt;https://github.com/mike42/escpos-php>`_.

:author: `Manuel F Martinez &lt;manpaz@bashlinux.com>`_ and others
:organization: Bashlinux and `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2012-2017 Bashlinux and python-escpos
:license: MIT
"""


import six

# Control characters
# as labelled in https://www.novopos.ch/client/EPSON/TM-T20/TM-T20_eng_qr.pdf
NUL = b'\x00'
EOT = b'\x04'
ENQ = b'\x05'
DLE = b'\x10'
DC4 = b'\x14'
CAN = b'\x18'
ESC = b'\x1b'
FS  = b'\x1c'
GS  = b'\x1d'

# Feed control sequences
CTL_LF = b'\n'              # Print and line feed
CTL_FF = b'\f'              # Form feed
CTL_CR = b'\r'              # Carriage return
CTL_HT = b'\t'              # Horizontal tab
CTL_SET_HT = ESC + b'\x44'  # Set horizontal tab positions
CTL_VT = b'\v'              # Vertical tab

# Printer hardware
HW_INIT   = ESC + b'@'             # Clear data in buffer and reset modes
HW_SELECT = ESC + b'=\x01'         # Printer select

HW_RESET  = ESC + b'\x3f\x0a\x00'   # Reset printer hardware
                                    # (TODO: Where is this specified?)

# Cash Drawer (ESC p &lt;pin> &lt;on time: 2*ms> &lt;off time: 2*ms>)
_CASH_DRAWER = lambda m, t1='', t2='': ESC + b'p' + m + six.int2byte(t1) + six.int2byte(t2)
CD_KICK_DEC_SEQUENCE = lambda esc, p, m, t1=50, t2=50: six.int2byte(esc) + six.int2byte(p) + six.int2byte(m) + six.int2byte(t1) + six.int2byte(t2)
CD_KICK_2 = _CASH_DRAWER(b'\x00', 50, 50)  # Sends a pulse to pin 2 []
CD_KICK_5 = _CASH_DRAWER(b'\x01', 50, 50)  # Sends a pulse to pin 5 []

# Paper Cutter
_CUT_PAPER = lambda m: GS + b'V' + m
PAPER_FULL_CUT = _CUT_PAPER(b'\x00')  # Full cut paper
PAPER_PART_CUT = _CUT_PAPER(b'\x01')  # Partial cut paper

# Beep
BEEP = b'\x07'

# Panel buttons (e.g. the FEED button)
_PANEL_BUTTON = lambda n: ESC + b'c5' + six.int2byte(n)
PANEL_BUTTON_ON = _PANEL_BUTTON(0)  # enable all panel buttons
PANEL_BUTTON_OFF = _PANEL_BUTTON(1)  # disable all panel buttons

# Line display printing
LINE_DISPLAY_OPEN = ESC + b'\x3d\x02'
LINE_DISPLAY_CLEAR = ESC + b'\x40'
LINE_DISPLAY_CLOSE = ESC + b'\x3d\x01'

# Sheet modes
SHEET_SLIP_MODE = ESC + b'\x63\x30\x04'  # slip paper
SHEET_ROLL_MODE = ESC + b'\x63\x30\x01'  # paper roll

# Text format
# TODO: Acquire the "ESC/POS Application Programming Guide for Paper Roll
#       Printers" and tidy up this stuff too.
TXT_SIZE       = GS + b'!'

TXT_NORMAL     = ESC + b'!\x00'     # Normal text


TXT_STYLE = {
    'bold': {
        False: ESC + b'\x45\x00',               # Bold font OFF
        True: ESC + b'\x45\x01'                 # Bold font ON
    },
    'underline': {
        0: ESC + b'\x2d\x00',                   # Underline font OFF
        1: ESC + b'\x2d\x01',                   # Underline font 1-dot ON
        2: ESC + b'\x2d\x02'                    # Underline font 2-dot ON
    },
    'size': {
        'normal': TXT_NORMAL + ESC + b'!\x00',  # Normal text
        '2h': TXT_NORMAL + ESC + b'!\x10',      # Double height text
        '2w': TXT_NORMAL + ESC + b'!\x20',      # Double width text
        '2x': TXT_NORMAL + ESC + b'!\x30'       # Quad area text
    },
    'font': {
        'a': ESC + b'\x4d\x00',                 # Font type A
        'b': ESC + b'\x4d\x00'                  # Font type B
    },
    'align': {
        'left': ESC + b'\x61\x00',              # Left justification
        'center': ESC + b'\x61\x01',            # Centering
        'right': ESC + b'\x61\x02'              # Right justification
    },
    'invert': {
        True: GS  + b'\x42\x01',                # Inverse Printing ON
        False: GS  + b'\x42\x00'                # Inverse Printing OFF
    },
    'color': {
        'black': ESC + b'\x72\x00',             # Default Color
        'red': ESC + b'\x72\x01'                # Alternative Color, Usually Red
    },
    'flip': {
        True: ESC + b'\x7b\x01',                # Flip ON
        False: ESC + b'\x7b\x00'                # Flip OFF
    },
    'density': {
        0: GS + b'\x7c\x00',                    # Printing Density -50%
        1: GS + b'\x7c\x01',                    # Printing Density -37.5%
        2: GS + b'\x7c\x02',                    # Printing Density -25%
        3: GS + b'\x7c\x03',                    # Printing Density -12.5%
        4: GS + b'\x7c\x04',                    # Printing Density  0%
        5: GS + b'\x7c\x08',                    # Printing Density +50%
        6: GS + b'\x7c\x07',                    # Printing Density +37.5%
        7: GS + b'\x7c\x06',                    # Printing Density +25%
        8: GS + b'\x7c\x05'                     # Printing Density +12.5%
    },
    'smooth': {
        True: GS + b'\x62\x01',                 # Smooth ON
        False: GS + b'\x62\x00'                 # Smooth OFF
    },
    'height': {                                 # Custom text height
        1: 0x00,
        2: 0x01,
        3: 0x02,
        4: 0x03,
        5: 0x04,
        6: 0x05,
        7: 0x06,
        8: 0x07
    },
    'width': {                                  # Custom text width
        1: 0x00,
        2: 0x10,
        3: 0x20,
        4: 0x30,
        5: 0x40,
        6: 0x50,
        7: 0x60,
        8: 0x70
    }
}

# Fonts
SET_FONT = lambda n: ESC + b'\x4d' + n
TXT_FONT_A     = SET_FONT(b'\x00')  # Font type A
TXT_FONT_B     = SET_FONT(b'\x01')  # Font type B

# Spacing
LINESPACING_RESET = ESC + b'2'
LINESPACING_FUNCS = {
  60: ESC + b'A',  # line_spacing/60 of an inch, 0 &lt;= line_spacing &lt;= 85
  360: ESC + b'+', # line_spacing/360 of an inch, 0 &lt;= line_spacing &lt;= 255
  180: ESC + b'3', # line_spacing/180 of an inch, 0 &lt;= line_spacing &lt;= 255
}

# Prefix to change the codepage. You need to attach a byte to indicate
# the codepage to use. We use escpos-printer-db as the data source.
CODEPAGE_CHANGE = ESC + b'\x74'

# Barcode format
_SET_BARCODE_TXT_POS = lambda n: GS + b'H' + n
BARCODE_TXT_OFF = _SET_BARCODE_TXT_POS(b'\x00')  # HRI barcode chars OFF
BARCODE_TXT_ABV = _SET_BARCODE_TXT_POS(b'\x01')  # HRI barcode chars above
BARCODE_TXT_BLW = _SET_BARCODE_TXT_POS(b'\x02')  # HRI barcode chars below
BARCODE_TXT_BTH = _SET_BARCODE_TXT_POS(b'\x03')  # HRI both above and below

_SET_HRI_FONT = lambda n: GS + b'f' + n
BARCODE_FONT_A = _SET_HRI_FONT(b'\x00')  # Font type A for HRI barcode chars
BARCODE_FONT_B = _SET_HRI_FONT(b'\x01')  # Font type B for HRI barcode chars

BARCODE_HEIGHT = GS + b'h'  # Barcode Height [1-255]
BARCODE_WIDTH  = GS + b'w'  # Barcode Width  [2-6]

# NOTE: This isn't actually an ESC/POS command. It's the common prefix to the
#      two "print bar code" commands:
#      -  Type A: "GS k &lt;type as integer> &lt;data> NUL"
#      -  TYPE B: "GS k &lt;type as letter> &lt;data length> &lt;data>"
#      The latter command supports more barcode types
_SET_BARCODE_TYPE = lambda m: GS + b'k' + six.int2byte(m)

# Barcodes for printing function type A
BARCODE_TYPE_A = {
    'UPC-A':   _SET_BARCODE_TYPE(0),
    'UPC-E':   _SET_BARCODE_TYPE(1),
    'EAN13':   _SET_BARCODE_TYPE(2),
    'EAN8':    _SET_BARCODE_TYPE(3),
    'CODE39':  _SET_BARCODE_TYPE(4),
    'ITF':     _SET_BARCODE_TYPE(5),
    'NW7':     _SET_BARCODE_TYPE(6),
    'CODABAR': _SET_BARCODE_TYPE(6),  # Same as NW7
}

# Barcodes for printing function type B
# The first 8 are the same barcodes as type A
BARCODE_TYPE_B = {
    'UPC-A':                       _SET_BARCODE_TYPE(65),
    'UPC-E':                       _SET_BARCODE_TYPE(66),
    'EAN13':                       _SET_BARCODE_TYPE(67),
    'EAN8':                        _SET_BARCODE_TYPE(68),
    'CODE39':                      _SET_BARCODE_TYPE(69),
    'ITF':                         _SET_BARCODE_TYPE(70),
    'NW7':                         _SET_BARCODE_TYPE(71),
    'CODABAR':                     _SET_BARCODE_TYPE(71),  # Same as NW7
    'CODE93':                      _SET_BARCODE_TYPE(72),
    'CODE128':                     _SET_BARCODE_TYPE(73),
    'GS1-128':                     _SET_BARCODE_TYPE(74),
    'GS1 DATABAR OMNIDIRECTIONAL': _SET_BARCODE_TYPE(75),
    'GS1 DATABAR TRUNCATED':       _SET_BARCODE_TYPE(76),
    'GS1 DATABAR LIMITED':         _SET_BARCODE_TYPE(77),
    'GS1 DATABAR EXPANDED':        _SET_BARCODE_TYPE(78),
}

BARCODE_FORMATS = {
    'UPC-A':                       ([(11, 12)], "^[0-9]{11,12}$"),
    'UPC-E':                       ([(7, 8), (11, 12)], "^([0-9]{7,8}|[0-9]{11,12})$"),
    'EAN13':                       ([(12, 13)], "^[0-9]{12,13}$"),
    'EAN8':                        ([(7, 8)], "^[0-9]{7,8}$"),
    'CODE39':                      ([(1, 255)], "^([0-9A-Z \$\%\+\-\.\/]+|\*[0-9A-Z \$\%\+\-\.\/]+\*)$"),
    'ITF':                         ([(2, 255)], "^([0-9]{2})+$"),
    'NW7':                         ([(1, 255)], "^[A-Da-d][0-9\$\+\-\.\/\:]+[A-Da-d]$"),
    'CODABAR':                     ([(1, 255)], "^[A-Da-d][0-9\$\+\-\.\/\:]+[A-Da-d]$"),  # Same as NW7
    'CODE93':                      ([(1, 255)], "^[\\x00-\\x7F]+$"),
    'CODE128':                     ([(2, 255)], "^\{[A-C][\\x00-\\x7F]+$"),
    'GS1-128':                     ([(2, 255)], "^\{[A-C][\\x00-\\x7F]+$"), # same as CODE128
    'GS1 DATABAR OMNIDIRECTIONAL': ([(13,13)], "^[0-9]{13}$"),
    'GS1 DATABAR TRUNCATED':       ([(13,13)], "^[0-9]{13}$"), # same as GS1 omnidirectional
    'GS1 DATABAR LIMITED':         ([(13,13)], "^[01][0-9]{12}$"),
    'GS1 DATABAR EXPANDED':        ([(2,255)], "^\([0-9][A-Za-z0-9 \!\"\%\&amp;\'\(\)\*\+\,\-\.\/\:\;\&lt;\=\>\?\_\{]+$"),
}

BARCODE_TYPES = {
    'A': BARCODE_TYPE_A,
    'B': BARCODE_TYPE_B,
}

# QRCode error correction levels
QR_ECLEVEL_L = 0
QR_ECLEVEL_M = 1
QR_ECLEVEL_Q = 2
QR_ECLEVEL_H = 3

# QRcode models
QR_MODEL_1 = 1
QR_MODEL_2 = 2
QR_MICRO = 3

# Image format
# NOTE: _PRINT_RASTER_IMG is the obsolete ESC/POS "print raster bit image"
#       command. The constants include a fragment of the data's header.
_PRINT_RASTER_IMG = lambda data: GS + b'v0' + data
S_RASTER_N  = _PRINT_RASTER_IMG(b'\x00')  # Set raster image normal size
S_RASTER_2W = _PRINT_RASTER_IMG(b'\x01')  # Set raster image double width
S_RASTER_2H = _PRINT_RASTER_IMG(b'\x02')  # Set raster image double height
S_RASTER_Q  = _PRINT_RASTER_IMG(b'\x03')  # Set raster image quadruple

# Status Command
RT_STATUS = DLE + EOT
RT_STATUS_ONLINE = RT_STATUS +  b'\x01'
RT_STATUS_PAPER = RT_STATUS +  b'\x04'
RT_MASK_ONLINE = 8
RT_MASK_PAPER = 18
RT_MASK_LOWPAPER = 30
RT_MASK_NOPAPER = 114</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">5,072,701,997,978,484,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="24"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python


# Adapted script from Adafruit
# Weather forecast for Raspberry Pi w/Adafruit Mini Thermal Printer.
# Retrieves data from DarkSky.net's API, prints current conditions and
# forecasts for next two days.
# Weather example using nice bitmaps.
# Written by Adafruit Industries.  MIT license.
# Adapted and enhanced for escpos library by MrWunderbar666

# Icons taken from https://adamwhitcroft.com/climacons/
# Check out his github: https://github.com/AdamWhitcroft/climacons


from datetime import datetime
import calendar
import urllib
import json
import time
import os

from escpos.printer import Usb

""" Setting up the main pathing """
this_dir, this_filename = os.path.split(__file__)
GRAPHICS_PATH = os.path.join(this_dir, "graphics/climacons/")

# Adapt to your needs
printer = Usb(0x0416, 0x5011, profile="POS-5890")

# You can get your API Key on www.darksky.net and register a dev account.
# Technically you can use any other weather service, of course :)
API_KEY = "YOUR API KEY"

LAT = "22.345490"       # Your Location
LONG = "114.189945"     # Your Location


def forecast_icon(idx):
    icon = data['daily']['data'][idx]['icon']
    image = GRAPHICS_PATH + icon + ".png"
    return image


# Dumps one forecast line to the printer
def forecast(idx):
    date = datetime.fromtimestamp(int(data['daily']['data'][idx]['time']))
    day = calendar.day_name[date.weekday()]
    lo = data['daily']['data'][idx]['temperatureMin']
    hi = data['daily']['data'][idx]['temperatureMax']
    cond = data['daily']['data'][idx]['summary']
    print(date)
    print(day)
    print(lo)
    print(hi)
    print(cond)
    time.sleep(1)
    printer.set(
        font='a',
        height=2,
        align='left',
        bold=False,
        double_height=False)
    printer.text(day + ' \n ')
    time.sleep(5)           # Sleep to prevent printer buffer overflow
    printer.text('\n')
    printer.image(forecast_icon(idx))
    printer.text('low ' + str(lo))
    printer.text(deg)
    printer.text('\n')
    printer.text(' high ' + str(hi))
    printer.text(deg)
    printer.text('\n')
    # take care of pesky unicode dash
    printer.text(cond.replace(u'\u2013', '-').encode('utf-8'))
    printer.text('\n \n')


def icon():
    icon = data['currently']['icon']
    image = GRAPHICS_PATH + icon + ".png"
    return image


deg = ' C'      # Degree symbol on thermal printer, need to find a better way to use a proper degree symbol

# if you want Fahrenheit change units= to 'us'
url = "https://api.darksky.net/forecast/" + API_KEY + "/" + LAT + "," + LONG + \
    "?exclude=[alerts,minutely,hourly,flags]&amp;units=si"  # change last bit to 'us' for Fahrenheit
response = urllib.urlopen(url)
data = json.loads(response.read())

printer.print_and_feed(n=1)
printer.control("LF")
printer.set(font='a', height=2, align='center', bold=True, double_height=True)
printer.text("Weather Forecast")
printer.text("\n")
printer.set(align='center')


# Print current conditions
printer.set(font='a', height=2, align='center', bold=True, double_height=False)
printer.text('Current conditions: \n')
printer.image(icon())
printer.text("\n")

printer.set(font='a', height=2, align='left', bold=False, double_height=False)
temp = data['currently']['temperature']
cond = data['currently']['summary']
printer.text(temp)
printer.text(' ')
printer.text(deg)
printer.text(' ')
printer.text('\n')
printer.text('Sky: ' + cond)
printer.text('\n')
printer.text('\n')

# Print forecast
printer.set(font='a', height=2, align='center', bold=True, double_height=False)
printer.text('Forecast: \n')
forecast(0)
forecast(1)
printer.cut()
printer.control("LF")
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-7,359,232,004,411,034,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="25"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">"""Prints code page tables.
"""


import six
import sys

from escpos import printer
from escpos.constants import CODEPAGE_CHANGE, ESC, CTL_LF, CTL_FF, CTL_CR, CTL_HT, CTL_VT


def main():
    dummy = printer.Dummy()

    dummy.hw('init')

    for codepage in sys.argv[1:] or ['USA']:
        dummy.set(height=2, width=2)
        dummy._raw(codepage + "\n\n\n")
        print_codepage(dummy, codepage)
        dummy._raw("\n\n")

    dummy.cut()

    print(dummy.output)


def print_codepage(printer, codepage):
    if codepage.isdigit():
        codepage = int(codepage)
        printer._raw(CODEPAGE_CHANGE + six.int2byte(codepage))
        printer._raw("after")
    else:
        printer.charcode(codepage)

    sep = ""

    # Table header
    printer.set(font='b')
    printer._raw("  {}\n".format(sep.join(map(lambda s: hex(s)[2:], range(0, 16)))))
    printer.set()

    # The table
    for x in range(0, 16):
        # First column
        printer.set(font='b')
        printer._raw("{} ".format(hex(x)[2:]))
        printer.set()

        for y in range(0, 16):
            byte = six.int2byte(x * 16 + y)

            if byte in (ESC, CTL_LF, CTL_FF, CTL_CR, CTL_HT, CTL_VT):
                byte = ' '

            printer._raw(byte)
            printer._raw(sep)
        printer._raw('\n')


if __name__ == '__main__':
    main()
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">2,195,612,550,887,496,200</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="26"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">from escpos.printer import Usb


# Adapt to your needs
p = Usb(0x0416, 0x5011, profile="POS-5890")

# Some software barcodes
p.soft_barcode('code128', 'Hello')
p.soft_barcode('code39', '1234')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">7,126,506,646,709,017,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="27"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">from escpos.printer import Usb


# Adapt to your needs
p = Usb(0x0416, 0x5011, profile="POS-5890")

# Print software and then hardware barcode with the same content
p.soft_barcode('code39', '123456')
p.text('\n')
p.text('\n')
p.barcode('123456', 'CODE39')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">6,584,835,139,268,658,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="28"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">import sys

from escpos.printer import Usb


def usage():
    print("usage: qr_code.py &lt;content>")


if __name__ == '__main__':
    if len(sys.argv) != 2:
        usage()
        sys.exit(1)

    content = sys.argv[1]

    # Adapt to your needs
    p = Usb(0x0416, 0x5011, profile="POS-5890")
    p.qr(content, center=True)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-3,492,899,907,880,992,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="29"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class=""># Climacons by Adam Whitcroft

75 climatically categorised pictographs for web and UI design by [@adamwhitcroft](https://www.twitter.com/#!/adamwhitcroft).

Visit the [Climacons](https://adamwhitcroft.com/climacons/) website for more information.

Visit [Adam Whitcroft on GitHub](https://github.com/AdamWhitcroft)

## License
You are free to use any of the Climacons Icons (the "icons") in any personal or commercial work without obligation of payment (monetary or otherwise) or attribution, however a credit for the work would be appreciated. **Do not** redistribute or sell and **do not** claim creative credit. Intellectual property rights are not transferred with the download of the icons.
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">8,882,995,023,653,125,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="30"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
"""tests for the File printer

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import six

import pytest
from hypothesis import given, settings
from hypothesis.strategies import text

import escpos.printer as printer

if six.PY3:
    mock_open_call = 'builtins.open'
else:
    mock_open_call = '__builtin__.open'


@pytest.mark.skip("this test is broken and has to be fixed or discarded")
@given(path=text())
def test_load_file_printer(mocker, path):
    """test the loading of the file-printer"""
    mock_escpos = mocker.patch('escpos.escpos.Escpos.__init__')
    mock_open = mocker.patch(mock_open_call)
    printer.File(devfile=path)
    assert mock_escpos.called
    mock_open.assert_called_with(path, "wb")


@pytest.mark.skip("this test is broken and has to be fixed or discarded")
@given(txt=text())
def test_auto_flush(mocker, txt):
    """test auto_flush in file-printer"""
    mock_escpos = mocker.patch('escpos.escpos.Escpos.__init__')
    mock_open = mocker.patch(mock_open_call)
    mock_device = mocker.patch.object(printer.File, 'device')

    p = printer.File(auto_flush=False)
    # inject the mocked device-object
    p.device = mock_device
    p._raw(txt)
    assert not mock_device.flush.called
    mock_device.reset_mock()
    p = printer.File(auto_flush=True)
    # inject the mocked device-object
    p.device = mock_device
    p._raw(txt)
    assert mock_device.flush.called


@pytest.mark.skip("this test is broken and has to be fixed or discarded")
@given(txt=text())
def test_flush_on_close(mocker, txt):
    """test flush on close in file-printer"""
    mock_open = mocker.patch(mock_open_call)
    mock_device = mocker.patch.object(printer.File, 'device')

    p = printer.File(auto_flush=False)
    # inject the mocked device-object
    p.device = mock_device
    p._raw(txt)
    assert not mock_device.flush.called
    p.close()
    assert mock_device.flush.called
    assert mock_device.close.called
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-5,437,537,316,387,406,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="31"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">from nose.tools import assert_raises
from escpos.printer import Dummy

def test_printer_dummy_clear():
    printer = Dummy()
    printer.text("Hello")
    printer.clear()
    assert(printer.output == b'')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">6,691,484,971,770,623,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="32"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""test the raising of errors with the error module

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2017 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import pytest
import escpos
import escpos.exceptions


def test_raise_error_wrongly():
    """raise error the wrong way

    should reproduce https://github.com/python-escpos/python-escpos/issues/257
    """
    with pytest.raises(AttributeError):
        raise escpos.Error("This should raise an AttributeError.")


def tests_raise_error():
    """raise error the right way"""
    with pytest.raises(escpos.exceptions.Error):
        raise escpos.exceptions.Error("This should raise an error.")
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-2,295,423,314,651,021,800</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="33"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""tests for the text printing function

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import pytest
import mock
from hypothesis import given, assume
import hypothesis.strategies as st
from escpos.printer import Dummy


def get_printer():
    return Dummy(magic_encode_args={'disabled': True, 'encoding': 'CP437'})


@given(text=st.text())
def test_text(text):
    """Test that text() calls the MagicEncode object.
    """
    instance = get_printer()
    instance.magic.write = mock.Mock()
    instance.text(text)
    instance.magic.write.assert_called_with(text)


def test_block_text():
    printer = get_printer()
    printer.block_text(
        "All the presidents men were eating falafel for breakfast.", font='a')
    assert printer.output == \
        b'All the presidents men were eating falafel\nfor breakfast.'


def test_textln():
    printer = get_printer()
    printer.textln('hello, world')
    assert printer.output == b'hello, world\n'


def test_textln_empty():
    printer = get_printer()
    printer.textln()
    assert printer.output == b'\n'


def test_ln():
    printer = get_printer()
    printer.ln()
    assert printer.output == b'\n'


def test_multiple_ln():
    printer = get_printer()
    printer.ln(3)
    assert printer.output == b'\n\n\n'
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">6,338,380,797,784,481,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="34"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">"""Test for the CLI

"""


import os
import sys
from scripttest import TestFileEnvironment
from nose.tools import assert_equals, nottest
import escpos

TEST_DIR = os.path.abspath('test/test-cli-output')

DEVFILE_NAME = 'testfile'

DEVFILE = os.path.join(TEST_DIR, DEVFILE_NAME)
CONFIGFILE = 'testconfig.yaml'
CONFIG_YAML = '''
---

printer:
    type: file
    devfile: {testfile}
'''.format(
    testfile=DEVFILE,
)


class TestCLI:
    """ Contains setups, teardowns, and tests for CLI
    """

    @classmethod
    def setup_class(cls):
        """ Create a config file to read from """
        with open(CONFIGFILE, 'w') as config:
            config.write(CONFIG_YAML)

    @classmethod
    def teardown_class(cls):
        """ Remove config file """
        os.remove(CONFIGFILE)

    def setup(self):
        """ Create a file to print to and set up env"""
        self.env = None
        self.default_args = None

        self.env = TestFileEnvironment(
            base_path=TEST_DIR,
            cwd=os.getcwd(),
        )

        self.default_args = (
            'python-escpos',
            '-c',
            CONFIGFILE,
        )

        fhandle = open(DEVFILE, 'a')
        try:
            os.utime(DEVFILE, None)
        finally:
            fhandle.close()

    def teardown(self):
        """ Destroy printer file and env """
        os.remove(DEVFILE)
        self.env.clear()

    def test_cli_help(self):
        """ Test getting help from cli """
        result = self.env.run('python-escpos', '-h')
        assert not result.stderr
        assert 'usage' in result.stdout

    def test_cli_version(self):
        """ Test the version string """
        result = self.env.run('python-escpos', 'version')
        assert not result.stderr
        assert_equals(escpos.__version__, result.stdout.strip())

    @nottest  # disable this test as it is not that easy anymore to predict the outcome of this call
    def test_cli_text(self):
        """ Make sure text returns what we sent it """
        test_text = 'this is some text'
        result = self.env.run(
            *(self.default_args + (
                'text',
                '--txt',
                test_text,
            ))
        )
        assert not result.stderr
        assert DEVFILE_NAME in result.files_updated.keys()
        assert_equals(
            result.files_updated[DEVFILE_NAME].bytes,
            test_text + '\n'
        )

    def test_cli_text_inavlid_args(self):
        """ Test a failure to send valid arguments """
        result = self.env.run(
            *(self.default_args + (
                'text',
                '--invalid-param',
                'some data'
            )),
            expect_error=True,
            expect_stderr=True
        )
        assert_equals(result.returncode, 2)
        assert 'error:' in result.stderr
        assert not result.files_updated
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">5,770,274,282,975,849,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="35"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
# -*- coding: utf-8 -*-


import escpos.printer as printer
import pytest


@pytest.mark.parametrize("bctype,data", [
    ('UPC-A', '01234567890'),
    ('UPC-A', '012345678905'),
    ('UPC-E', '01234567'),
    ('UPC-E', '0123456'),
    ('UPC-E', '012345678905'),
    ('EAN13', '0123456789012'),
    ('EAN13', '012345678901'),
    ('EAN8', '01234567'),
    ('EAN8', '0123456'),
    ('CODE39', 'ABC-1234'),
    ('CODE39', 'ABC-1234-$$-+A'),
    ('CODE39', '*WIKIPEDIA*'),
    ('ITF', '010203040506070809'),
    ('ITF', '11221133113344556677889900'),
    ('CODABAR', 'A2030405060B'),
    ('CODABAR', 'C11221133113344556677889900D'),
    ('CODABAR', 'D0D'),
    ('NW7', 'A2030405060B'),
    ('NW7', 'C11221133113344556677889900D'),
    ('NW7', 'D0D'),
    ('CODE93', 'A2030405060B'),
    ('CODE93', '+:$&amp;23-7@$'),
    ('CODE93', 'D0D'),
    ('CODE128', '{A2030405060B'),
    ('CODE128', '{C+:$&amp;23-7@$'),
    ('CODE128', '{B0D'),
    ('GS1-128', '{A2030405060B'),
    ('GS1-128', '{C+:$&amp;23-7@$'),
    ('GS1-128', '{B0D'),
    ('GS1 DATABAR OMNIDIRECTIONAL', '0123456789123'),
    ('GS1 DATABAR TRUNCATED', '0123456789123'),
    ('GS1 DATABAR LIMITED', '0123456789123'),
    ('GS1 DATABAR EXPANDED', '(9A{A20304+-%&amp;06a0B'),
    ('GS1 DATABAR EXPANDED', '(1 {C+:&amp;23-7%'),
    ('GS1 DATABAR EXPANDED', '(00000001234567678'),
])
def test_check_valid_barcode(bctype, data):
    assert (printer.Escpos.check_barcode(bctype, data))


@pytest.mark.parametrize("bctype,data", [
    ('UPC-A', '01234567890123'),  # too long
    ('UPC-A', '0123456789'),  # too short
    ('UPC-A', '72527273-711'),  # invalid '-'
    ('UPC-A', 'A12345678901'),  # invalid 'A'
    ('UPC-E', '01234567890123'),  # too long
    ('UPC-E', '012345'),  # too short
    ('UPC-E', '72527-2'),  # invalid '-'
    ('UPC-E', 'A123456'),  # invalid 'A'
    ('EAN13', '0123456789'),  # too short
    ('EAN13', 'A123456789012'),  # invalid 'A'
    ('EAN13', '012345678901234'),  # too long
    ('EAN8', '012345'),  # too short
    ('EAN8', 'A123456789012'),  # invalid 'A'
    ('EAN8', '012345678901234'),  # too long
    ('CODE39', 'ALKJ_34'),  # invalid '_'
    ('CODE39', 'A' * 256),  # too long
    ('ITF', '010203040'),  # odd length
    ('ITF', '0' * 256),  # too long
    ('ITF', 'AB01'),  # invalid 'A'
    ('CODABAR', '010203040'),  # no start/stop
    ('CODABAR', '0' * 256),  # too long
    ('CODABAR', 'AB-01F'),  # invalid 'B'
    ('NW7', '010203040'),  # no start/stop
    ('NW7', '0' * 256),  # too long
    ('NW7', 'AB-01F'),  # invalid 'B'
    ('CODE93', 'é010203040'),  # invalid 'é'
    ('CODE93', '0' * 256),  # too long
    ('CODE128', '010203040'),  # missing leading {
    ('CODE128', '{D2354AA'),  # second char not between A-C
    ('CODE128', '0' * 256),  # too long
    ('GS1-128', '010203040'),  # missing leading {
    ('GS1-128', '{D2354AA'),  # second char not between A-C
    ('GS1-128', '0' * 256),  # too long
    ('GS1 DATABAR OMNIDIRECTIONAL', '01234567891234'),  # too long
    ('GS1 DATABAR OMNIDIRECTIONAL', '012345678912'),  # too short
    ('GS1 DATABAR OMNIDIRECTIONAL', '012345678A1234'),  # invalid 'A'
    ('GS1 DATABAR TRUNCATED', '01234567891234'),  # too long
    ('GS1 DATABAR TRUNCATED', '012345678912'),  # too short
    ('GS1 DATABAR TRUNCATED', '012345678A1234'),  # invalid 'A'
    ('GS1 DATABAR LIMITED', '01234567891234'),  # too long
    ('GS1 DATABAR LIMITED', '012345678912'),  # too short
    ('GS1 DATABAR LIMITED', '012345678A1234'),  # invalid 'A'
    ('GS1 DATABAR LIMITED', '02345678912341'),  # invalid start (should be 01)
    ('GS1 DATABAR EXPANDED', '010203040'),  # missing leading (
    ('GS1-128', '(' + ('0' * 256)),  # too long
    ('GS1 DATABAR EXPANDED', '(a{D2354AA'),  # second char not between 0-9
    ('GS1 DATABAR EXPANDED', 'IT will fail'),  # first char not '('
])
def test_check_invalid_barcode(bctype, data):
    assert (not printer.Escpos.check_barcode(bctype, data))
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-1,642,696,723,374,885,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="36"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">import pytest
from escpos.capabilities import get_profile, NotSupported, BARCODE_B, Profile


@pytest.fixture
def profile():
    return get_profile('default')


class TestBaseProfile:
    """Test the `BaseProfile` class.
    """

    def test_get_font(self, profile):
        with pytest.raises(NotSupported):
            assert profile.get_font('3')
        assert profile.get_font(1) == 1
        assert profile.get_font('a') == 0

    def test_supports(self, profile):
        assert not profile.supports('asdf asdf')
        assert profile.supports(BARCODE_B)

    def test_get_columns(self, profile):
        assert profile.get_columns('a') > 5
        with pytest.raises(NotSupported):
            assert profile.get_columns('asdfasdf')


class TestCustomProfile:
    """Test custom profile options with the `Profile` class.
    """

    def test_columns(self):
        assert Profile(columns=10).get_columns('sdfasdf') == 10

    def test_features(self):
        assert Profile(features={'foo': True}).supports('foo')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">3,847,475,499,428,417,500</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="37"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""test the facility which enables usage of the with-statement

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import escpos.printer as printer
import escpos.escpos as escpos


def test_with_statement():
    """Use with statement"""
    dummy_printer = printer.Dummy()
    with escpos.EscposIO(dummy_printer) as p:
            p.writelines('Some text.\n')
    # TODO extend these tests as they don't really do anything at the moment
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">3,906,324,460,314,315,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="38"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""verifies that the metaclass abc is properly used by ESC/POS

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 Patrick Kanzler
:license: MIT
"""


from nose.tools import raises

import escpos.escpos as escpos
from abc import ABCMeta


@raises(TypeError)
def test_abstract_base_class_raises():
    """test whether the abstract base class raises an exception for ESC/POS"""
    escpos.Escpos()  # This call should raise TypeError because of abstractmethod _raw()


def test_abstract_base_class():
    """ test whether Escpos has the metaclass ABCMeta """
    assert issubclass(escpos.Escpos, object)
    assert type(escpos.Escpos) is ABCMeta
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-4,230,022,437,427,917,300</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="39"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">
import six

import escpos.printer as printer
from escpos.constants import TXT_NORMAL, TXT_STYLE, SET_FONT
from escpos.constants import TXT_SIZE


# Default test, please copy and paste this block to test set method calls

def test_default_values():
    instance = printer.Dummy()
    instance.set()

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert(instance.output == b''.join(expected_sequence))

# Size tests

def test_set_size_2h():
    instance = printer.Dummy()
    instance.set(double_height=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['2h'],  # Double height text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


def test_set_size_2w():
    instance = printer.Dummy()
    instance.set(double_width=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['2w'],  # Double width text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


def test_set_size_2x():
    instance = printer.Dummy()
    instance.set(double_height=True, double_width=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['2x'],  # Double text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


def test_set_size_custom():
    instance = printer.Dummy()
    instance.set(custom_size=True, width=8, height=7)

    expected_sequence = (
        TXT_SIZE,  # Custom text size, no normal reset
        six.int2byte(TXT_STYLE['width'][8] + TXT_STYLE['height'][7]),
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))

# Flip

def test_set_flip():
    instance = printer.Dummy()
    instance.set(flip=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][True],  # Flip ON
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))

# Smooth

def test_smooth():
    instance = printer.Dummy()
    instance.set(smooth=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][True],  # Smooth ON
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert(instance.output == b''.join(expected_sequence))


# Type


def test_set_bold():
    instance = printer.Dummy()
    instance.set(bold=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][True],  # Bold ON
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


def test_set_underline():
    instance = printer.Dummy()
    instance.set(underline=1)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][1],  # Underline ON, type 1
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


def test_set_underline2():
    instance = printer.Dummy()
    instance.set(underline=2)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][2],  # Underline ON, type 2
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert (instance.output == b''.join(expected_sequence))


# Align

def test_align_center():
    instance = printer.Dummy()
    instance.set(align='center')

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['center'],  # Align center
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert(instance.output == b''.join(expected_sequence))


def test_align_right():
    instance = printer.Dummy()
    instance.set(align='right')

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['right'],  # Align right
        TXT_STYLE['invert'][False]  # Inverted OFF
    )

    assert(instance.output == b''.join(expected_sequence))


# Densities

def test_densities():

    for density in range(8):
        instance = printer.Dummy()
        instance.set(density=density)

        expected_sequence = (
            TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
            TXT_STYLE['flip'][False],  # Flip OFF
            TXT_STYLE['smooth'][False],  # Smooth OFF
            TXT_STYLE['bold'][False],  # Bold OFF
            TXT_STYLE['underline'][0],  # Underline OFF
            SET_FONT(b'\x00'),  # Default font
            TXT_STYLE['align']['left'],  # Align left
            TXT_STYLE['density'][density],  # Custom density from 0 to 8
            TXT_STYLE['invert'][False]  # Inverted OFF
        )

        assert(instance.output == b''.join(expected_sequence))


# Invert

def test_invert():
    instance = printer.Dummy()
    instance.set(invert=True)

    expected_sequence = (
        TXT_NORMAL, TXT_STYLE['size']['normal'],  # Normal text size
        TXT_STYLE['flip'][False],  # Flip OFF
        TXT_STYLE['smooth'][False],  # Smooth OFF
        TXT_STYLE['bold'][False],  # Bold OFF
        TXT_STYLE['underline'][0],  # Underline OFF
        SET_FONT(b'\x00'),  # Default font
        TXT_STYLE['align']['left'],  # Align left
        TXT_STYLE['invert'][True]  # Inverted ON
    )

    assert(instance.output == b''.join(expected_sequence))</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">4,783,461,750,514,812,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="40"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/env python
""" Image tests- Check that images from different source formats are correctly
converted to ESC/POS column &amp; raster formats.

:author: `Michael Billington &lt;michael.billington@gmail.com>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `Michael Billington &lt;michael.billington@gmail.com>`_
:license: MIT
"""

from escpos.image import EscposImage


def test_image_black():
    """
    Test rendering solid black image
    """
    for img_format in ['png', 'jpg', 'gif']:
        _load_and_check_img('canvas_black.' + img_format, 1, 1, b'\x80', [b'\x80'])


def test_image_black_transparent():
    """
    Test rendering black/transparent image
    """
    for img_format in ['png', 'gif']:
        _load_and_check_img('black_transparent.' + img_format, 2, 2, b'\xc0\x00', [b'\x80\x80'])


def test_image_black_white():
    """
    Test rendering black/white image
    """
    for img_format in ['png', 'jpg', 'gif']:
        _load_and_check_img('black_white.' + img_format, 2, 2, b'\xc0\x00', [b'\x80\x80'])


def test_image_white():
    """
    Test rendering solid white image
    """
    for img_format in ['png', 'jpg', 'gif']:
        _load_and_check_img('canvas_white.' + img_format, 1, 1, b'\x00', [b'\x00'])


def test_split():
    """
    test whether the split-function works as expected
    """
    im = EscposImage('test/resources/black_white.png')
    (upper_part, lower_part) = im.split(1)
    upper_part = EscposImage(upper_part)
    lower_part = EscposImage(lower_part)
    assert(upper_part.width == lower_part.width == 2)
    assert(upper_part.height == lower_part.height == 1)
    assert(upper_part.to_raster_format() == b'\xc0')
    assert(lower_part.to_raster_format() == b'\x00')


def _load_and_check_img(filename, width_expected, height_expected, raster_format_expected, column_format_expected):
    """
    Load an image, and test whether raster &amp; column formatted output, sizes, etc match expectations.
    """
    im = EscposImage('test/resources/' + filename)
    assert(im.width == width_expected)
    assert(im.height == height_expected)
    assert(im.to_raster_format() == raster_format_expected)
    i = 0 
    for row in im.to_column_format(False):
        assert(row == column_format_expected[i])
        i += 1
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-4,467,554,894,755,001,300</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="41"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""tests for panel button function

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import escpos.printer as printer


def test_function_panel_button_on():
    """test the panel button function (enabling) by comparing output"""
    instance = printer.Dummy()
    instance.panel_buttons()
    assert(instance.output == b'\x1B\x63\x35\x00')


def test_function_panel_button_off():
    """test the panel button function (disabling) by comparing output"""
    instance = printer.Dummy()
    instance.panel_buttons(False)
    assert(instance.output == b'\x1B\x63\x35\x01')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-8,930,760,248,319,078,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="42"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">
import six

import escpos.printer as printer
from escpos.constants import GS


def test_cut_without_feed():
    """Test cut without feeding paper"""
    instance = printer.Dummy()
    instance.cut(feed=False)
    expected = GS + b'V' + six.int2byte(66) + b'\x00'
    assert(instance.output == expected)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-7,600,016,127,120,299,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="43"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
"""tests for the non-native part of qr()

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import pytest
import mock

from escpos.printer import Dummy
from PIL import Image


@mock.patch('escpos.printer.Dummy.image', spec=Dummy)
def test_type_of_object_passed_to_image_function(img_function):
    """
    Test the type of object that is passed to the image function during non-native qr-printing.

    The type should be PIL.Image
    """
    d = Dummy()
    d.qr("LoremIpsum")
    args, kwargs = img_function.call_args
    assert isinstance(args[0], Image.Image)


@pytest.fixture
def instance():
    return Dummy()


def test_center(instance):
    instance.qr("LoremIpsum", center=True)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">8,695,044,394,095,764,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="44"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python

import escpos.printer as printer
import pytest


@pytest.fixture
def instance():
    return printer.Dummy()


def test_soft_barcode_ean8(instance):
    instance.soft_barcode("ean8", "1234")


def test_soft_barcode_ean8_nocenter(instance):
    instance.soft_barcode("ean8", "1234", center=False)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">596,092,055,490,086,800</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="45"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
#  -*- coding: utf-8 -*-
"""tests for the magic encode module

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import pytest
from nose.tools import raises, assert_raises
from hypothesis import given, example
import hypothesis.strategies as st
from escpos.magicencode import MagicEncode, Encoder
from escpos.katakana import encode_katakana
from escpos.exceptions import CharCodeError, Error


class TestEncoder:
    """
    Tests the single encoders.
    """

    def test_can_encode(self):
        assert not Encoder({'CP437': 1}).can_encode('CP437', u'€')
        assert Encoder({'CP437': 1}).can_encode('CP437', u'á')
        assert not Encoder({'foobar': 1}).can_encode('foobar', 'a')

    def test_find_suitable_encoding(self):
        assert not Encoder({'CP437': 1}).find_suitable_encoding(u'€')
        assert Encoder({'CP858': 1}).find_suitable_encoding(u'€') == 'CP858'

    @raises(ValueError)
    def test_get_encoding(self):
        Encoder({}).get_encoding_name('latin1')


class TestMagicEncode:
    """
    Tests the magic encode functionality.
    """

    class TestInit:
        """
        Test initialization.
        """

        def test_disabled_requires_encoding(self, driver):
            """
            Test that disabled without encoder raises an error.

            :param driver:
            """
            with pytest.raises(Error):
                MagicEncode(driver, disabled=True)

    class TestWriteWithEncoding:

        def test_init_from_none(self, driver):
            encode = MagicEncode(driver, encoding=None)
            encode.write_with_encoding('CP858', '€ ist teuro.')
            assert driver.output == b'\x1bt\x13\xd5 ist teuro.'

        def test_change_from_another(self, driver):
            encode = MagicEncode(driver, encoding='CP437')
            encode.write_with_encoding('CP858', '€ ist teuro.')
            assert driver.output == b'\x1bt\x13\xd5 ist teuro.'

        def test_no_change(self, driver):
            encode = MagicEncode(driver, encoding='CP858')
            encode.write_with_encoding('CP858', '€ ist teuro.')
            assert driver.output == b'\xd5 ist teuro.'

    class TestWrite:

        def test_write(self, driver):
            encode = MagicEncode(driver)
            encode.write('€ ist teuro.')
            assert driver.output == b'\x1bt\x0f\xa4 ist teuro.'

        def test_write_disabled(self, driver):
            encode = MagicEncode(driver, encoding='CP437', disabled=True)
            encode.write('€ ist teuro.')
            assert driver.output == b'? ist teuro.'

        def test_write_no_codepage(self, driver):
            encode = MagicEncode(
                driver, defaultsymbol="_", encoder=Encoder({'CP437': 1}),
                encoding='CP437')
            encode.write(u'€ ist teuro.')
            assert driver.output == b'_ ist teuro.'

    class TestForceEncoding:

        def test(self, driver):
            encode = MagicEncode(driver)
            encode.force_encoding('CP437')
            assert driver.output == b'\x1bt\x00'

            encode.write('€ ist teuro.')
            assert driver.output == b'\x1bt\x00? ist teuro.'


try:
    import jaconv
except ImportError:
    jaconv = None


@pytest.mark.skipif(not jaconv, reason="jaconv not installed")
class TestKatakana:
    @given(st.text())
    @example("カタカナ")
    @example("あいうえお")
    @example("ﾊﾝｶｸｶﾀｶﾅ")
    def test_accept(self, text):
        encode_katakana(text)

    def test_result(self):
        assert encode_katakana('カタカナ') == b'\xb6\xc0\xb6\xc5'
        assert encode_katakana("あいうえお") == b'\xb1\xb2\xb3\xb4\xb5'
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-1,910,306,052,007,714,300</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="46"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""very basic test cases that load the classes

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2016 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import escpos.printer as printer


def test_instantiation():
    """test the instantiation of a escpos-printer class and basic printing"""
    instance = printer.Dummy()
    instance.text('This is a test\n')
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-7,852,153,827,620,509,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="47"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python

import escpos.printer as printer
from escpos.capabilities import Profile, BARCODE_B
from escpos.exceptions import BarcodeTypeError, BarcodeCodeError
import pytest


@pytest.mark.parametrize("bctype,data,expected", [
    ('EAN13', '4006381333931',
        b'\x1ba\x01\x1dh@\x1dw\x03\x1df\x00\x1dH\x02\x1dk\x024006381333931\x00')
])
def test_barcode(bctype, data, expected):
    """should generate different barcode types correctly.
    """
    instance = printer.Dummy()
    instance.barcode(data, bctype)
    assert instance.output == expected


@pytest.mark.parametrize("bctype,supports_b", [
    ('invalid', True),
    ('CODE128', False),
])
def test_lacks_support(bctype, supports_b):
    """should raise an error if the barcode type is not supported.
    """
    profile = Profile(features={BARCODE_B: supports_b})
    instance = printer.Dummy(profile=profile)
    with pytest.raises(BarcodeTypeError):
        instance.barcode('test', bctype)

    assert instance.output == b''


@pytest.mark.parametrize("bctype,data", [
    ('EAN13', 'AA'),
    ('CODE128', '{D2354AA'),
])
def test_code_check(bctype, data):
    """should raise an error if the barcode code is invalid.
    """
    instance = printer.Dummy()
    with pytest.raises(BarcodeCodeError):
        instance.barcode(data, bctype)

    assert instance.output == b''
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">5,103,487,404,884,939,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="48"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python

import escpos.printer as printer
from escpos.exceptions import CashDrawerError
import pytest


def test_raise_CashDrawerError():
    """should raise an error if the sequence is invalid.
    """
    instance = printer.Dummy()
    with pytest.raises(CashDrawerError):
        # call with sequence that is too long
        instance.cashdraw([1,1,1,1,1,1])

</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-5,764,068,517,118,490,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="49"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">from nose.tools import assert_raises
from escpos.printer import Dummy


def test_line_spacing_code_gen():
    printer = Dummy()
    printer.line_spacing(10)
    assert printer.output == b'\x1b3\n'


def test_line_spacing_rest():
    printer = Dummy()
    printer.line_spacing()
    assert printer.output == b'\x1b2'


def test_line_spacing_error_handling():
    printer = Dummy()
    with assert_raises(ValueError):
        printer.line_spacing(99, divisor=44)
    with assert_raises(ValueError):
        printer.line_spacing(divisor=80, spacing=86)
    with assert_raises(ValueError):
        printer.line_spacing(divisor=360, spacing=256)
    with assert_raises(ValueError):
        printer.line_spacing(divisor=180, spacing=256)
</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">5,316,616,200,875,841,000</div></div>
							</td>
					</tr><tr class="group cursor-pointer space-x-4 divide-x border-b outline-offset-[-2px] odd:bg-gray-50 hover:bg-gray-100 dark:odd:bg-gray-925 dark:hover:bg-gray-850  last:border-none" tabindex="0" data-row-idx="50"><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">#!/usr/bin/python
"""tests for line display

:author: `Patrick Kanzler &lt;patrick.kanzler@fablab.fau.de>`_
:organization: `python-escpos &lt;https://github.com/python-escpos>`_
:copyright: Copyright (c) 2017 `python-escpos &lt;https://github.com/python-escpos>`_
:license: MIT
"""


import escpos.printer as printer


def test_function_linedisplay_select_on():
    """test the linedisplay_select function (activate)"""
    instance = printer.Dummy()
    instance.linedisplay_select(select_display=True)
    assert(instance.output == b'\x1B\x3D\x02')

def test_function_linedisplay_select_off():
    """test the linedisplay_select function (deactivate)"""
    instance = printer.Dummy()
    instance.linedisplay_select(select_display=False)
    assert(instance.output == b'\x1B\x3D\x01')

def test_function_linedisplay_clear():
    """test the linedisplay_clear function"""
    instance = printer.Dummy()
    instance.linedisplay_clear()
    assert(instance.output == b'\x1B\x40')

</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">python-escpos/python-escpos</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">535</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">Python</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">constants.rst</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="" dir="auto"><span class="">text/plain</span></div></div>
							</td><td class="min-w-fit max-w-sm break-words p-2 "><div class="line-clamp-2 "><div class="text-right" dir="auto">-3,669,681,068,453,013,500</div></div>
							</td>
					</tr></tbody></table>
		<div class="bg-linear-to-b sticky left-0 border-t border-dashed border-gray-300 from-gray-100 to-white py-3 text-center font-mono text-xs dark:border-gray-700 dark:from-gray-950 dark:to-gray-900">End of preview. <a href="/datasets/teven/github_all_lang_filtered/viewer/default/train" class="group"><span class="underline decoration-gray-300 group-hover:decoration-gray-400 dark:decoration-gray-500 dark:group-hover:decoration-gray-300">Expand</span>
						in <svg class="text-lg mr-0.5 inline -translate-y-px text-red-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path fill="currentColor" d="M2.5 2h7a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm0 2v2h3V4h-3Zm4 0v2h3V4h-3Zm-4 3v2h3V7h-3Zm4 0v2h3V7h-3Z"></path></svg>Data Studio
					</a></div></div>




			<div class="bg-linear-to-b from-gray-100 to-white dark:from-gray-950 dark:to-gray-900 "><hr class="flex-none -translate-y-px border-t border-dashed border-gray-300 bg-white dark:border-gray-700 dark:bg-gray-950">
					<nav><ul class="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center py-1 text-center font-mono text-xs rounded-b-lg"><li><a class="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 pointer-events-none cursor-default text-gray-400 hover:text-gray-700" href=""><svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M10 16L20 6l1.4 1.4l-8.6 8.6l8.6 8.6L20 26z" fill="currentColor"></path></svg>
		Previous</a></li>
			<li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1 bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-900 dark:text-yellow-500 dark:ring-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/teven/github_all_lang_filtered/viewer/default/train?p=0">1</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/teven/github_all_lang_filtered/viewer/default/train?p=1">2</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/teven/github_all_lang_filtered/viewer/default/train?p=2">3</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  pointer-events-none cursor-default" href="#">...</a>
				</li><li class="hidden sm:block"><a class="rounded-lg px-2.5 py-1  hover:bg-gray-50 dark:hover:bg-gray-800" href="/datasets/teven/github_all_lang_filtered/viewer/default/train?p=355595">355,596</a>
				</li>
			<li><a class="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 " href="/datasets/teven/github_all_lang_filtered/viewer/default/train?p=1">Next
		<svg class="ml-1.5 transform rotate-180" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M10 16L20 6l1.4 1.4l-8.6 8.6l8.6 8.6L20 26z" fill="currentColor"></path></svg></a></li></ul></nav></div></div>






</div></div></div></div></div></div></div>

				<div class="from-gray-50-to-white bg-linear-to-t rounded-lg border border-dotted border-gray-200 py-24 text-center md:px-6"><p class="mb-1 mt-2">No dataset card yet</p>
						</div></section>
			
			<section class="pt-6 border-gray-100 md:pb-24 md:pl-6 md:w-64 lg:w-80 xl:w-96 flex-none order-first md:order-none md:border-l pt-3! md:pt-6!"><dl class="flex items-baseline justify-between"><dt class="text-sm text-gray-500">Downloads last month</dt><div class="mx-4 flex-1 border-b border-dotted"></div><dd class="font-semibold">5,827</dd></dl>
				
				<div class="divider-column-vertical"></div>
				<div class="grid grid-cols-2 gap-x-2 md:flex md:flex-row md:flex-wrap"><div class="SVELTE_HYDRATER contents" data-target="DatasetAndModelActionsDropdown" data-props="{&quot;classNames&quot;:&quot;order-last&quot;,&quot;discussionsDisabled&quot;:false,&quot;repo&quot;:{&quot;type&quot;:&quot;dataset&quot;,&quot;name&quot;:&quot;teven/github_all_lang_filtered&quot;},&quot;canWrite&quot;:false,&quot;canDisable&quot;:false,&quot;repoIsPrivate&quot;:false,&quot;repoIsGated&quot;:false,&quot;repoIsDisabled&quot;:false,&quot;repoIsAdminFlaggedNFAA&quot;:false,&quot;repoHasBlockedOids&quot;:false}"><div class="order-last"><div class="relative ">
	<button class="btn px-1.5 py-1.5 " type="button">
		
			<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="p-0.5" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><circle cx="16" cy="7" r="3" fill="currentColor"></circle><circle cx="16" cy="16" r="3" fill="currentColor"></circle><circle cx="16" cy="25" r="3" fill="currentColor"></circle></svg>
		
		</button>
	
	
	</div></div>













</div>
					<div class="SVELTE_HYDRATER contents" data-target="DatasetLibrary" data-props="{&quot;classNames&quot;:&quot;md:w-full xl:w-auto xl:flex-none&quot;,&quot;libraries&quot;:[{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;datasets&quot;,&quot;function&quot;:&quot;load_dataset&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{},&quot;code&quot;:&quot;from datasets import load_dataset\n\nds = load_dataset(\&quot;teven/github_all_lang_filtered\&quot;)&quot;}]},{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;dask&quot;,&quot;function&quot;:&quot;dd.read_parquet&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{&quot;splits&quot;:{&quot;train&quot;:&quot;data/train-*-of-*.parquet&quot;}},&quot;code&quot;:&quot;import dask.dataframe as dd\n\ndf = dd.read_parquet(\&quot;hf://datasets/teven/github_all_lang_filtered/data/train-*-of-*.parquet\&quot;)&quot;}]},{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;mlcroissant&quot;,&quot;function&quot;:&quot;Dataset&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{&quot;record_set&quot;:&quot;default&quot;,&quot;partial&quot;:false},&quot;code&quot;:&quot;from mlcroissant import Dataset\n\nds = Dataset(jsonld=\&quot;https://huggingface.co/api/datasets/teven/github_all_lang_filtered/croissant\&quot;)\nrecords = ds.records(\&quot;default\&quot;)&quot;}]},{&quot;language&quot;:&quot;python&quot;,&quot;library&quot;:&quot;polars&quot;,&quot;function&quot;:&quot;pl.read_parquet&quot;,&quot;loading_codes&quot;:[{&quot;config_name&quot;:&quot;default&quot;,&quot;arguments&quot;:{&quot;splits&quot;:{&quot;train&quot;:&quot;data/train-*-of-*.parquet&quot;}},&quot;code&quot;:&quot;import polars as pl\n\ndf = pl.read_parquet('hf://datasets/teven/github_all_lang_filtered/data/train-*-of-*.parquet')\n&quot;}]}]}"><div class="relative md:w-full xl:w-auto xl:flex-none">
	<button class="from-gray-800! to-black! max-xl:mb-2 text-white! gap-1! border-gray-800! dark:border-gray-900!  btn w-full cursor-pointer text-sm" type="button">
		<svg class="mr-1.5 mr-0.5! " xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" style="transform: rotate(360deg);"><path d="M31 16l-7 7l-1.41-1.41L28.17 16l-5.58-5.59L24 9l7 7z" fill="currentColor"></path><path d="M1 16l7-7l1.41 1.41L3.83 16l5.58 5.59L8 23l-7-7z" fill="currentColor"></path><path d="M12.419 25.484L17.639 6l1.932.518L14.35 26z" fill="currentColor"></path></svg>
			Use this dataset
		<svg class="-mr-1 text-gray-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M16.293 9.293L12 13.586L7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z" fill="currentColor"></path></svg></button>
	
	
	</div>

</div>
					
					</div>
				<div class="divider-column-vertical"></div>
					<div class="flex flex-col flex-wrap xl:flex-row"><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 pointer-events-none" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Size of downloaded dataset files:</div>
		<div class="truncate text-sm ">
			<!-- HTML_TAG_START -->66.1 GB<!-- HTML_TAG_END --></div></a><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 " href="/datasets/teven/github_all_lang_filtered/tree/refs%2Fconvert%2Fparquet/" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Size of the auto-converted Parquet files:</div>
		<div class="truncate text-sm group-hover:underline">
			<!-- HTML_TAG_START -->66.1 GB<!-- HTML_TAG_END --></div></a><a class="bg-linear-to-r dark:via-none group mb-1.5 flex max-w-full flex-col overflow-hidden rounded-lg border border-gray-100 from-white via-white to-white px-2 py-1 hover:from-gray-50 dark:from-gray-900 dark:to-gray-925 dark:hover:to-gray-900 md:mr-1.5 pointer-events-none" rel="nofollow" target="_blank"><div class="truncate text-xs text-gray-400">Number of rows:</div>
		<div class="truncate text-sm ">
			<!-- HTML_TAG_START -->35,559,527<!-- HTML_TAG_END --></div></a></div>
				
				
				
				

				
				<div class="divider-column-vertical md:hidden"></div></section></div></main>

	<footer class="b-12 mb-2 flex border-t border-gray-100 md:h-14"><nav class="container relative flex flex-col justify-between space-y-2 py-6 text-gray-500 max-md:*:self-start md:flex-row md:items-center md:space-y-0 md:py-0 md:text-sm"><div class="SVELTE_HYDRATER contents" data-target="ThemeSwitcher" data-props="{&quot;theme&quot;:&quot;system&quot;,&quot;isLoggedIn&quot;:false,&quot;menuClassNames&quot;:&quot;md:-top-24&quot;,&quot;classNames&quot;:&quot;max-md:mb-5 max-md:*:self-start&quot;}">
<div class="relative inline-block max-md:mb-5 max-md:*:self-start">
	<button class="rounded-full border border-gray-100 pl-2 py-1 pr-2.5  flex items-center text-sm text-gray-500 bg-white hover:bg-purple-50 hover:border-purple-200 dark:hover:bg-gray-800 dark:hover:border-gray-950 dark:border-gray-800 " type="button">
		<svg class="mr-1.5 text-gray-500" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M29 25H3a1 1 0 1 0 0 2h26a1 1 0 1 0 0-2Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6 22.5h20a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v13.5a2 2 0 0 0 2 2ZM7 7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H7Z" fill="currentColor"></path><path d="M6 8a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8Z" fill="currentColor" fill-opacity=".4"></path><path d="M29 25H3a1 1 0 1 0 0 2h26a1 1 0 1 0 0-2Z" fill="currentColor"></path></svg>
			System theme
		</button>
	
	
	</div></div>
		<div class="font-semibold text-black md:hidden">Company</div>
		<a class="hover:underline" href="/terms-of-service">TOS</a>
		<a class="hover:underline" href="/privacy">Privacy</a>
		<a class="hover:underline" href="/huggingface">About</a>
		<a class="hover:underline" href="https://apply.workable.com/huggingface/">Jobs</a>
		<a href="/" class="max-md:mb-4! max-md:mt-8! group flex-none max-md:order-last"><svg class="h-7 w-7 transition-transform group-hover:-translate-y-px" viewBox="0 0 95 88" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M47.2119 76.5C66.4037 76.5 81.9619 60.9419 81.9619 41.75C81.9619 22.5581 66.4037 7 47.2119 7C28.02 7 12.4619 22.5581 12.4619 41.75C12.4619 60.9419 28.02 76.5 47.2119 76.5Z" fill="#FFD21E"></path><path d="M81.9619 41.75C81.9619 22.5581 66.4037 7 47.2119 7C28.02 7 12.4619 22.5581 12.4619 41.75C12.4619 60.9419 28.02 76.5 47.2119 76.5C66.4037 76.5 81.9619 60.9419 81.9619 41.75ZM8.46185 41.75C8.46185 20.349 25.8108 3 47.2119 3C68.6129 3 85.9619 20.349 85.9619 41.75C85.9619 63.151 68.6129 80.5 47.2119 80.5C25.8108 80.5 8.46185 63.151 8.46185 41.75Z" fill="#FF9D0B"></path><path d="M58.5024 32.2915C59.7768 32.7415 60.2839 35.3615 61.5713 34.6769C64.0095 33.3805 64.9351 30.353 63.6387 27.9148C62.3423 25.4767 59.3148 24.5511 56.8766 25.8475C54.4384 27.1439 53.5128 30.1714 54.8092 32.6096C55.4211 33.7604 57.3632 31.8892 58.5024 32.2915Z" fill="#3A3B45"></path><path d="M34.9454 32.2915C33.671 32.7415 33.164 35.3615 31.8766 34.6769C29.4384 33.3805 28.5128 30.353 29.8092 27.9148C31.1056 25.4767 34.1331 24.5511 36.5713 25.8475C39.0095 27.1439 39.9351 30.1714 38.6387 32.6096C38.0268 33.7604 36.0846 31.8892 34.9454 32.2915Z" fill="#3A3B45"></path><path d="M46.9619 56.289C56.7903 56.289 59.9619 47.5261 59.9619 43.0262C59.9619 40.6875 58.3898 41.4236 55.8718 42.6702C53.5449 43.8222 50.4102 45.4101 46.9619 45.4101C39.7822 45.4101 33.9619 38.5263 33.9619 43.0262C33.9619 47.5261 37.1334 56.289 46.9619 56.289Z" fill="#3A3B45"></path><mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="33" y="41" width="27" height="16"><path d="M46.9619 56.289C56.7903 56.289 59.9619 47.5261 59.9619 43.0262C59.9619 40.6875 58.3898 41.4236 55.8718 42.6702C53.5449 43.8222 50.4102 45.4101 46.9619 45.4101C39.7822 45.4101 33.9619 38.5263 33.9619 43.0262C33.9619 47.5261 37.1334 56.289 46.9619 56.289Z" fill="white"></path></mask><g mask="url(#mask0)"><path d="M47.2119 66.5C52.0018 66.5 55.8848 62.617 55.8848 57.8271C55.8848 54.0962 53.5291 50.9156 50.224 49.6915C50.1023 49.6464 49.9794 49.604 49.8553 49.5643C49.0219 49.2979 48.1337 52.1623 47.2119 52.1623C46.3506 52.1623 45.5186 49.2797 44.7332 49.5135C41.151 50.5799 38.5389 53.8984 38.5389 57.8271C38.5389 62.617 42.4219 66.5 47.2119 66.5Z" fill="#F94040"></path></g><path d="M70.7119 37C72.5068 37 73.9619 35.5449 73.9619 33.75C73.9619 31.9551 72.5068 30.5 70.7119 30.5C68.9169 30.5 67.4619 31.9551 67.4619 33.75C67.4619 35.5449 68.9169 37 70.7119 37Z" fill="#FF9D0B"></path><path d="M24.2119 37C26.0068 37 27.4619 35.5449 27.4619 33.75C27.4619 31.9551 26.0068 30.5 24.2119 30.5C22.4169 30.5 20.9619 31.9551 20.9619 33.75C20.9619 35.5449 22.4169 37 24.2119 37Z" fill="#FF9D0B"></path><path class="origin-bottom-right transition-transform group-hover:-rotate-6" d="M17.5238 48C15.9048 48 14.4578 48.665 13.4488 49.871C12.8248 50.618 12.1728 51.822 12.1198 53.625C11.4408 53.43 10.7878 53.321 10.1778 53.321C8.6278 53.321 7.2278 53.915 6.2378 54.994C4.9658 56.379 4.4008 58.081 4.6468 59.784C4.7638 60.595 5.0348 61.322 5.4398 61.995C4.5858 62.686 3.9568 63.648 3.6528 64.805C3.4148 65.712 3.1708 67.601 4.4448 69.547C4.3638 69.674 4.2878 69.806 4.2168 69.941C3.4508 71.395 3.4018 73.038 4.0778 74.568C5.1028 76.887 7.6498 78.714 12.5958 80.675C15.6728 81.895 18.4878 82.675 18.5128 82.682C22.5808 83.737 26.2598 84.273 29.4448 84.273C35.2988 84.273 39.4898 82.48 41.9018 78.944C45.7838 73.25 45.2288 68.042 40.2058 63.022C37.4258 60.244 35.5778 56.148 35.1928 55.249C34.4168 52.587 32.3648 49.628 28.9538 49.628H28.9528C28.6658 49.628 28.3758 49.651 28.0898 49.696C26.5958 49.931 25.2898 50.791 24.3568 52.085C23.3498 50.833 22.3718 49.837 21.4868 49.275C20.1528 48.429 18.8198 48 17.5238 48ZM17.5238 52C18.0338 52 18.6568 52.217 19.3438 52.653C21.4768 54.006 25.5928 61.081 27.0998 63.833C27.6048 64.755 28.4678 65.145 29.2448 65.145C30.7868 65.145 31.9908 63.612 29.3858 61.664C25.4688 58.733 26.8428 53.942 28.7128 53.647C28.7948 53.634 28.8758 53.628 28.9538 53.628C30.6538 53.628 31.4038 56.558 31.4038 56.558C31.4038 56.558 33.6018 62.078 37.3778 65.851C41.1538 69.625 41.3488 72.654 38.5968 76.69C36.7198 79.442 33.1268 80.273 29.4448 80.273C25.6258 80.273 21.7108 79.379 19.5168 78.81C19.4088 78.782 6.0658 75.013 7.7558 71.805C8.0398 71.266 8.5078 71.05 9.0968 71.05C11.4768 71.05 15.8058 74.592 17.6668 74.592C18.0828 74.592 18.3758 74.415 18.4958 73.983C19.2888 71.138 6.4388 69.942 7.5218 65.821C7.7128 65.092 8.2308 64.796 8.9588 64.797C12.1038 64.797 19.1598 70.328 20.6388 70.328C20.7518 70.328 20.8328 70.295 20.8768 70.225C21.6178 69.029 21.2118 68.194 15.9888 65.033C10.7658 61.871 7.0998 59.969 9.1848 57.699C9.4248 57.437 9.7648 57.321 10.1778 57.321C13.3488 57.322 20.8408 64.14 20.8408 64.14C20.8408 64.14 22.8628 66.243 24.0858 66.243C24.3668 66.243 24.6058 66.132 24.7678 65.858C25.6348 64.396 16.7148 57.636 16.2118 54.847C15.8708 52.957 16.4508 52 17.5238 52Z" fill="#FF9D0B"></path><path class="origin-bottom-right transition-transform group-hover:-rotate-6" d="M38.5967 76.6898C41.3487 72.6538 41.1537 69.6248 37.3777 65.8508C33.6017 62.0778 31.4037 56.5578 31.4037 56.5578C31.4037 56.5578 30.5827 53.3518 28.7127 53.6468C26.8427 53.9418 25.4697 58.7328 29.3867 61.6638C33.3037 64.5938 28.6067 66.5848 27.0997 63.8328C25.5927 61.0808 21.4777 54.0058 19.3437 52.6528C17.2107 51.2998 15.7087 52.0578 16.2117 54.8468C16.7147 57.6358 25.6357 64.3958 24.7677 65.8588C23.8997 67.3208 20.8407 64.1398 20.8407 64.1398C20.8407 64.1398 11.2687 55.4288 9.18465 57.6988C7.10065 59.9688 10.7657 61.8708 15.9887 65.0328C21.2127 68.1938 21.6177 69.0288 20.8767 70.2248C20.1347 71.4208 8.60465 61.6998 7.52165 65.8208C6.43965 69.9418 19.2887 71.1378 18.4957 73.9828C17.7027 76.8288 9.44465 68.5978 7.75565 71.8048C6.06565 75.0128 19.4087 78.7818 19.5167 78.8098C23.8267 79.9278 34.7727 82.2968 38.5967 76.6898Z" fill="#FFD21E"></path><path class="origin-bottom-left transition-transform group-hover:rotate-6" d="M77.3999 48C79.0189 48 80.4659 48.665 81.4749 49.871C82.0989 50.618 82.7509 51.822 82.8039 53.625C83.4829 53.43 84.1359 53.321 84.7459 53.321C86.2959 53.321 87.6959 53.915 88.6859 54.994C89.9579 56.379 90.5229 58.081 90.2769 59.784C90.1599 60.595 89.8889 61.322 89.4839 61.995C90.3379 62.686 90.9669 63.648 91.2709 64.805C91.5089 65.712 91.7529 67.601 90.4789 69.547C90.5599 69.674 90.6359 69.806 90.7069 69.941C91.4729 71.395 91.5219 73.038 90.8459 74.568C89.8209 76.887 87.2739 78.714 82.3279 80.675C79.2509 81.895 76.4359 82.675 76.4109 82.682C72.3429 83.737 68.6639 84.273 65.4789 84.273C59.6249 84.273 55.4339 82.48 53.0219 78.944C49.1399 73.25 49.6949 68.042 54.7179 63.022C57.4979 60.244 59.3459 56.148 59.7309 55.249C60.5069 52.587 62.5589 49.628 65.9699 49.628H65.9709C66.2579 49.628 66.5479 49.651 66.8339 49.696C68.3279 49.931 69.6339 50.791 70.5669 52.085C71.5739 50.833 72.5519 49.837 73.4369 49.275C74.7709 48.429 76.1039 48 77.3999 48ZM77.3999 52C76.8899 52 76.2669 52.217 75.5799 52.653C73.4469 54.006 69.3309 61.081 67.8239 63.833C67.3189 64.755 66.4559 65.145 65.6789 65.145C64.1369 65.145 62.9329 63.612 65.5379 61.664C69.4549 58.733 68.0809 53.942 66.2109 53.647C66.1289 53.634 66.0479 53.628 65.9699 53.628C64.2699 53.628 63.5199 56.558 63.5199 56.558C63.5199 56.558 61.3219 62.078 57.5459 65.851C53.7699 69.625 53.5749 72.654 56.3269 76.69C58.2039 79.442 61.7969 80.273 65.4789 80.273C69.2979 80.273 73.2129 79.379 75.4069 78.81C75.5149 78.782 88.8579 75.013 87.1679 71.805C86.8839 71.266 86.4159 71.05 85.8269 71.05C83.4469 71.05 79.1179 74.592 77.2569 74.592C76.8409 74.592 76.5479 74.415 76.4279 73.983C75.6349 71.138 88.4849 69.942 87.4019 65.821C87.2109 65.092 86.6929 64.796 85.9649 64.797C82.8199 64.797 75.7639 70.328 74.2849 70.328C74.1719 70.328 74.0909 70.295 74.0469 70.225C73.3059 69.029 73.7119 68.194 78.9349 65.033C84.1579 61.871 87.8239 59.969 85.7389 57.699C85.4989 57.437 85.1589 57.321 84.7459 57.321C81.5749 57.322 74.0829 64.14 74.0829 64.14C74.0829 64.14 72.0609 66.243 70.8379 66.243C70.5569 66.243 70.3179 66.132 70.1559 65.858C69.2889 64.396 78.2089 57.636 78.7119 54.847C79.0529 52.957 78.4729 52 77.3999 52Z" fill="#FF9D0B"></path><path class="origin-bottom-left transition-transform group-hover:rotate-6" d="M56.3271 76.6898C53.5751 72.6538 53.7701 69.6248 57.5461 65.8508C61.3221 62.0778 63.5201 56.5578 63.5201 56.5578C63.5201 56.5578 64.3411 53.3518 66.2111 53.6468C68.0811 53.9418 69.4541 58.7328 65.5371 61.6638C61.6201 64.5938 66.3171 66.5848 67.8241 63.8328C69.3311 61.0808 73.4461 54.0058 75.5801 52.6528C77.7131 51.2998 79.2151 52.0578 78.7121 54.8468C78.2091 57.6358 69.2881 64.3958 70.1561 65.8588C71.0241 67.3208 74.0831 64.1398 74.0831 64.1398C74.0831 64.1398 83.6551 55.4288 85.7391 57.6988C87.8231 59.9688 84.1581 61.8708 78.9351 65.0328C73.7111 68.1938 73.3061 69.0288 74.0471 70.2248C74.7891 71.4208 86.3191 61.6998 87.4021 65.8208C88.4841 69.9418 75.6351 71.1378 76.4281 73.9828C77.2211 76.8288 85.4791 68.5978 87.1681 71.8048C88.8581 75.0128 75.5151 78.7818 75.4071 78.8098C71.0971 79.9278 60.1511 82.2968 56.3271 76.6898Z" fill="#FFD21E"></path></svg></a>
		<div class="max-md:mt-8! font-semibold text-black md:hidden">Website</div>

		<a class="hover:underline" href="/models">Models</a>
		<a class="hover:underline" href="/datasets">Datasets</a>
		<a class="hover:underline" href="/spaces">Spaces</a>
		<a class="hover:underline" href="/pricing">Pricing</a>
		<a class="hover:underline" href="/docs">Docs</a></nav></footer></div>

		<script>
			import("\/front\/build\/kube-68d7aa0\/index.js");
			window.moonSha = "kube-68d7aa0\/";
			window.__hf_deferred = {};
		</script>

		<!-- Stripe -->
		<script>
			if (["hf.co", "huggingface.co"].includes(window.location.hostname)) {
				const script = document.createElement("script");
				script.src = "https://js.stripe.com/v3/";
				script.async = true;
				document.head.appendChild(script);
			}
		</script>
	</body>
</html>
